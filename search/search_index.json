{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"license/","title":"License","text":"<p>MIT License</p> <p>Copyright \u00a9 2016-2022 Martin Donath</p> <p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p> <p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p> <p>THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>"},{"location":"adicional/AWSLightsail/","title":"AWS Lightsail","text":""},{"location":"adicional/AWSLightsail/#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>O Amazon Lightsail \u00e9 a forma mais f\u00e1cil de come\u00e7ar com a AWS para qualquer um que precisa criar websites ou aplica\u00e7\u00f5es. Ele inclui tudo que voc\u00ea precisa para lan\u00e7ar seu projetos rapidamente, inst\u00e2ncias, containers, bancos de dados, load balancers, armazenamento de dados, IPs est\u00e1ticos, administra\u00e7\u00e3o de DNS de dom\u00ednios registrados, e snapshots(backups), tudo isso dentro de uma plataforma de interface simples e eficiente.</p>"},{"location":"adicional/Videos_ref/","title":"Computa\u00e7\u00e3o em Nuvem","text":""},{"location":"adicional/Videos_ref/#video-vint-cerf","title":"Video - Vint Cerf","text":"<p>O primeiro passo para trabalharmos com redes \u00e9 compreender o contexto ao qual estamos inseridos e tamb\u00e9m saber o que deve ser protegido e implementado. Neste sentido, seria interessante voc\u00eas acessarem o v\u00eddeo dispon\u00edvel no link abaixo. Nele um dos criadores do TCP/IP Vint Cerf vai abordar os principais acontecimentos tecnol\u00f3gicos para entendermos o que \u00e9 a Internet e as redes de computadores.</p>"},{"location":"adicional/Videos_ref/#video-openinfra-2022","title":"Video - OpenInfra 2022","text":"<p>OpenStack \u00e9 a plataforma de nuvem de c\u00f3digo aberto l\u00edder mundial. Ele \u00e9 usado por centenas de provedores locais de nuvem p\u00fablica , telcos e milhares de empresas , com mais de 25 milh\u00f5es de n\u00facleos sendo executados em produ\u00e7\u00e3o, de acordo com a OpenStack User Survey 2021. O OpenStack, sem d\u00favida, dominou o mercado e se tornou o padr\u00e3o de fato para c\u00f3digo aberto implementa\u00e7\u00f5es de infraestrutura em nuvem. Sua ado\u00e7\u00e3o continua a crescer e sua participa\u00e7\u00e3o de mercado deve chegar a US$ 8 bilh\u00f5es em 2023.</p>"},{"location":"adicional/Videos_ref/#video-operator-day-europe-2023-the-beauty-of-juju-with-jon-seager","title":"Video - Operator Day Europe 2023 | The beauty of Juju with Jon Seager","text":"<p>O Juju \u00e9 uma ferramenta de automa\u00e7\u00e3o de opera\u00e7\u00f5es em nuvem desenvolvida pela Canonical, a empresa por tr\u00e1s do Ubuntu, uma das distribui\u00e7\u00f5es Linux mais populares. O Juju visa simplificar a maneira como os servi\u00e7os s\u00e3o implantados, gerenciados e escalados em ambientes de nuvem, sejam eles p\u00fablicos, privados ou h\u00edbridos. A principal caracter\u00edstica do Juju \u00e9 o seu modelo de abstra\u00e7\u00e3o que permite aos usu\u00e1rios implantar, configurar, gerenciar e escalar aplica\u00e7\u00f5es com facilidade e de maneira consistente, independentemente do fornecedor de nuvem ou da infraestrutura subjacente.</p>"},{"location":"adicional/Videos_ref/#video-how-tcp-really-works","title":"Video - How TCP really works","text":"<p>O v\u00eddeo explica de forma pr\u00e1tica e detalhada o funcionamento do TCP/IP, do three-way handshake \u00e0s op\u00e7\u00f5es avan\u00e7adas, mostrando no Wireshark como cada etapa acontece, e \u00e9 importante porque fornece a base essencial para qualquer profissional de redes ou seguran\u00e7a compreender, analisar e proteger a comunica\u00e7\u00e3o na internet.</p>"},{"location":"adicional/topicos/AWSLigthsailAdmin/","title":"Administrando a Inst\u00e2ncia","text":"<p>Ap\u00f3s criar uma inst\u00e2ncia, ela ser\u00e1 listada na pagina inicial do lightsail, contendo nela um resumo de suas opera\u00e7\u00f5es:</p> <p></p> <ul> <li>A: Imagem do blueprint selecionado para a Inst\u00e2ncia</li> <li>B: Nome da Inst\u00e2ncia</li> <li> <p>C: Atalhos para rodar o CLI da inst\u00e2ncia e acessar o menu de op\u00e7\u00f5es da inst\u00e2ncia</p> </li> <li> <p>D: Hardware da inst\u00e2ncia</p> </li> <li>E: Estado atual da inst\u00e2ncia</li> <li>F: Dados de Rede da Inst\u00e2ncia(IPv4 e Ipv6)</li> <li>G: Regi\u00e3o e Zona da Inst\u00e2ncia</li> </ul> <p>Vamos agora come\u00e7ar a administrar nossa inst\u00e2ncia, para isso, v\u00e1 nas op\u00e7\u00f5es da Inst\u00e2ncia e clique em Manage. No topo da p\u00e1gina, temos os mesmos dados da p\u00e1gina inicial com maiores detalhes (A), e logo abaixo as abas para administra\u00e7\u00e3o da Inst\u00e2ncia selecionada (B).</p> <p></p>"},{"location":"adicional/topicos/AWSLigthsailAdmin/#conexao","title":"Conex\u00e3o","text":"<p>Aqui temos de forma detalhada as configura\u00e7\u00f5es de conex\u00e3o SSH para a inst\u00e2ncia selecionada, podendo realizar a conex\u00e3o via o CLI no web browser da AWS, e No fim da aba teremos um guia r\u00e1pido das informa\u00e7\u00f5es necess\u00e1rias para realizar a conex\u00e3o CLI via um browser pr\u00f3prio (Linux Bash, Windows Powershell, etc.):</p> <p></p> <p>Conex\u00e3o direta via WebBrowser</p> <p></p> <p>Informa\u00e7\u00f5es para acesso SSH</p> <ul> <li>A: IPv4 e IPv6 da sua inst\u00e2ncia</li> <li>B: Nome de usu\u00e1rio da inst\u00e2ncia criada</li> <li>C: Par de Chaves SSH da inst\u00e2ncia*</li> </ul> <p>***A Op\u00e7\u00e3o de Download do Par de Chaves SSH s\u00f3 existe quando estamos utilizando a chave padr\u00e3o da Regi\u00e3o. Caso voc\u00ea utilize um Par de Chaves Privado, esta op\u00e7\u00e3o de download n\u00e3o estar\u00e1 dispon\u00edvel, ent\u00e3o guarde suas chaves privadas ao criar as inst\u00e2ncias, e fa\u00e7a isso de forma SEGURA.**</p> <p></p> <p>Inst\u00e2ncia utilizando um Par de Chaves privado</p> <pre><code>ssh -i **/path/to/private-key.pem** **username**@**public-ip-address**\n</code></pre>"},{"location":"adicional/topicos/AWSLigthsailAdmin/#snapshots","title":"Snapshots","text":"<p>Como explicado durante a cria\u00e7\u00e3o da Inst\u00e2ncia, Snapshots s\u00e3o backups da sua inst\u00e2ncia que podem ser utilizadas caso voc\u00ea tenha um problema. O Lightsail nos d\u00e1 a op\u00e7\u00e3o de criar um Snapshot manualmente aqui nesta aba, que ir\u00e1 criar o backup do momento atual da inst\u00e2ncia.</p> <p></p> <p>Ao criar um Snapshot Manual, basta definir um nome para este backup e clicar em Create, e seu snapshot ser\u00e1 salvo.</p> <p>Podemos tamb\u00e9m configurar e editar o Snapshot Autom\u00e1tico da mesma. Snapshots Autom\u00e1ticos s\u00e3o realizados diariamente em um hor\u00e1rio estabelecido por voc\u00ea, e a AWS armazenar\u00e1 os 7 snapshots mais recentes desta fun\u00e7\u00e3o.</p> <p></p>"},{"location":"adicional/topicos/AWSLigthsailAdmin/#armazenamento","title":"Armazenamento","text":"<p>Quando criamos uma inst\u00e2ncia, definimos um disco de armazenamento para uso da mesma ao selecionar o plano de pagamento (A). Caso seja necess\u00e1rio aumentar este espa\u00e7o, podemos alugar discos de armazenamento extras e anexa-los a nossa inst\u00e2ncia para uso (B).</p> <p></p>"},{"location":"adicional/topicos/AWSLigthsailAdmin/#criando-um-novo-disco","title":"Criando um novo disco","text":"<p>Discos de Armazenamento s\u00e3o separados por Regi\u00e3o e Zona para uso, logo caso voc\u00ea precise anexar um novo disco a uma inst\u00e2ncia, garanta que est\u00e1 criando na mesma Regi\u00e3o (A).</p> <p></p> <p>Ap\u00f3s ajustar a Regi\u00e3o, selecione o armazenamento que seu disco ter\u00e1 dentro das op\u00e7\u00f5es. Voc\u00ea pode tamb\u00e9m utilizar um valor customizado de armazenamento caso deseje, e o pre\u00e7o do aluguel ser\u00e1 ajustado de acordo (B).</p> <p>Por fim, defina um nome para este disco de armazenamento, conforme sua prefer\u00eancia.</p> <p>Tags s\u00e3o opcionais, por\u00e9m podem ser utilizadas em discos para facilitar a administra\u00e7\u00e3o das suas inst\u00e2ncias.</p> <p>No fim da P\u00e1gina, teremos um resumo do valor do aluguel do disco novo, e logo abaixo o bot\u00e3o para finalizar a cria\u00e7\u00e3o do mesmo.</p> <p></p>"},{"location":"adicional/topicos/AWSLigthsailAdmin/#anexando-um-novo-disco-na-instancia","title":"Anexando um novo disco na Inst\u00e2ncia","text":"<p>Assim que criamos um novo disco de armazenamento, o Lightsail ir\u00e1 nos enviar para a p\u00e1gina de administra\u00e7\u00e3o do mesmo, onde ja podemos anexa-lo a uma inst\u00e2ncia criada.</p> <p></p> <p>Ao selecionar uma inst\u00e2ncia, teremos um resumo da mesma sendo exibido nesta p\u00e1gina, junto com o path do disco dentro dela*</p> <p></p> <p>***A partir deste momento, seu disco ser\u00e1 reconhecido pela inst\u00e2ncia, por\u00e9m voc\u00ea ainda dever\u00e1 formatar e mont\u00e1-lo dentro da inst\u00e2ncia para uso.**</p> <p>Alternativamente, podemos selecionar discos j\u00e1 criados dentro do Lightsail na aba de Armazenamento da Inst\u00e2ncia e anex\u00e1-lo na mesma (A).</p> <p></p> <p></p> <p>Caso queira remover um disco da sua inst\u00e2ncia, podemos tamb\u00e9m fazer isso de dentro da aba de Armazenamento, basta encontrar o disco desejado na lista de discos anexados e clicar em Detach*.</p> <p></p> <p>***Para desanexar um disco, voc\u00ea dever\u00e1 parar a execu\u00e7\u00e3o da inst\u00e2ncia. Lembre de ativ\u00e1-la novamente do fim do processo.**</p>"},{"location":"adicional/topicos/AWSLigthsailAdmin/#snapshots-de-discos","title":"Snapshots de Discos","text":"<p>Da mesma forma da inst\u00e2ncia, voc\u00ea pode criar Snapshots manuais dos seus discos extras, podendo garantir backups importantes de dados.</p> <p></p>"},{"location":"adicional/topicos/AWSLigthsailAdmin/#rede","title":"Rede","text":"<p>Nesta aba iremos administrar todas as informa\u00e7\u00f5es de rede, entrada e sa\u00edda da nossa inst\u00e2ncia.</p>"},{"location":"adicional/topicos/AWSLigthsailAdmin/#conexao-ipv4","title":"Conex\u00e3o IPv4","text":"<p>Aqui n\u00f3s teremos todas nossas informa\u00e7\u00f5es de rede IPv4 da nossa Inst\u00e2ncia.</p> <p></p> <ul> <li> <p>A: O IP p\u00fablico da nossa inst\u00e2ncia \u00e9 utilizado para realizar todo acesso via a Internet, enquanto o IP privado ser\u00e1 utilizado apenas por recursos dentro da sua conta da Lightsail na mesma Regi\u00e3o definida.</p> <p>No exemplo acima, n\u00e3o temos um IP p\u00fablico, isto acontece pois a AWS apenas oferece IPs de forma Din\u00e2mica para inst\u00e2ncias que est\u00e3o ativas. Enquanto sua inst\u00e2ncia estiver ativa, voc\u00ea ir\u00e1 ter seu IP p\u00fablico exibido tanto nesta aba, quanto no resumo da inst\u00e2ncia:</p> </li> </ul> <p></p> <p>Outro ponto importante, sempre que sua inst\u00e2ncia parar de executar, um novo IP p\u00fablico ser\u00e1 dado a ela em uma pr\u00f3xima execu\u00e7\u00e3o, o que pode trazer problemas para sua administra\u00e7\u00e3o e uso. Para eliminar este problema, podemos atribuir um IP p\u00fablico e**st\u00e1tico** para sua Inst\u00e2ncia, para garantir que mesmo ap\u00f3s uma pausa em sua execu\u00e7\u00e3o, seu endere\u00e7o IP permane\u00e7a o mesmo.</p> <p></p> <p></p> <p>Basta definir um nome \u00fanico para seu IP est\u00e1tico e clicar no bot\u00e3o criar e anexar para configurar o IP est\u00e1tico da sua Inst\u00e2ncia. Agora teremos o nosso novo endere\u00e7o IP p\u00fablico est\u00e1tico exibido no resumo e na Aba de Redes da Inst\u00e2ncia. Notem que mesmo com a inst\u00e2ncia parada, o nosso IP est\u00e1tico est\u00e1 sendo exibido normalmente.</p> <p></p> <p>Importante lembrar que IP est\u00e1ticos s\u00e3o limitados na sua conta, e a AWS ir\u00e1 cobrar por IPs est\u00e1ticos criados e n\u00e3o anexados a uma plataforma.</p>"},{"location":"adicional/topicos/AWSLigthsailAdmin/#firewall-ipv4","title":"Firewall IPv4","text":"<p>Agora que configuramos nosso IP p\u00fablico, temos que definir nossas regras de entrada da Inst\u00e2ncia. Para isso, aqui temos diversas op\u00e7\u00f5es de regras ja pr\u00e9-definidas para conex\u00f5es HTTP, SSH, de banco de dados, entre outros, por\u00e9m tamb\u00e9m podemos configurar uma regra customizada.</p> <p></p> <p>Numa regra customizada, temos que definir o Protocolo de comunica\u00e7\u00e3o que ser\u00e1 utilizado (TCP ou UDP)(A), e as portas que ser\u00e3o utilizadas para a comunica\u00e7\u00e3o(B). </p> <p>Al\u00e9m disso, podemos Restringir o acesso desta regra apenas para um IP ou range de IPs espec\u00edficos(C).</p> <p></p> <p>Ap\u00f3s criar a regra, ela ir\u00e1 estar detalhada na lista do Firewall, e poder\u00e1 ser editada ou removida dentro do mesmo Painel*.</p> <p></p> <p>***As portas de acesso 22(SSH) e 80(HTTP) s\u00e3o dadas por padr\u00e3o na cria\u00e7\u00e3o da inst\u00e2ncia.**</p>"},{"location":"adicional/topicos/AWSLigthsailAdmin/#conexao-ipv6","title":"Conex\u00e3o IPv6","text":"<p>A conex\u00e3o IPv6 segue o mesmo princ\u00edpio da conex\u00e3o IPv4, por\u00e9m ela ter\u00e1 apenas um IPv6 p\u00fablico que ser\u00e1 utilizado, e o mesmo n\u00e3o ser\u00e1 afetado quando a inst\u00e2ncia for interrompida.</p> <p>Como o uso do IPv6 atualmente \u00e9 limitado, caso voc\u00ea n\u00e3o for utilizar o acesso IPv6, \u00e9 recomendado desabilitar est\u00e1 fun\u00e7\u00e3o da sua inst\u00e2ncia. Caso futuramente voc\u00ea mude de ideia, basta reabilita-la neste painel, e um novo IPv6 ser\u00e1 atribuido \u00e0 sua inst\u00e2ncia.</p> <p></p>"},{"location":"adicional/topicos/AWSLigthsailContainer/","title":"Container Service","text":"<p>Servi\u00e7o de Containers \u00e9 outra op\u00e7\u00e3o de deployment para suas aplica\u00e7\u00f5es dentro da AWS Lightsail. Esse sistema pode ser visto como um ambiente de computa\u00e7\u00e3o que lhe permite rodar containers na infraestrutura da AWS, utilizando imagens que voc\u00ea cria na sua m\u00e1quina local, ou imagens de um reposit\u00f3rio online(como o docker hub) ou a Amazon ECR Public Gallery.</p> <p></p> <p>Para criar seu servi\u00e7o de containers, devemos considerar dois par\u00e2metros principais:</p> <ul> <li> <p>Pot\u00eancia: Define a quantidade de mem\u00f3ria e vCPUs de cada n\u00f3dulo dentro do seu servi\u00e7o. Esta pot\u00eancia est\u00e1 dividida dentro do Lightsail entre os modelos:</p> <ul> <li>Nano (Na)</li> <li> <p>Medium (Md)</p> </li> <li> <p>Micro (Mi)</p> </li> <li> <p>Large (Lg)</p> </li> <li> <p>Small (Sm)</p> </li> <li>XLarge (Xl)</li> <li>Escala: A quantidade de n\u00f3dulos de computa\u00e7\u00e3o que voc\u00ea deseja ter para rodar seus containers. Voc\u00ea pode dedicar at\u00e9 20 n\u00f3dulos para um servi\u00e7o de container.</li> </ul> </li> </ul> <p></p> <p>Ao especificar a Escala do servi\u00e7o para um n\u00famero maior que 1, seu workload \u00e9 copiado para todos os n\u00f3dulos do seu servi\u00e7o. </p> <p>Exemplo: Um servi\u00e7o de Escala 3 com pot\u00eancia Nano ter\u00e1 tr\u00eas c\u00f3pias do seu workload rodando em tr\u00eas recursos de computa\u00e7\u00e3o, cada um com 512mb de RAM e 0.25 vCPU.</p> <p>Ap\u00f3s especificar os dois par\u00e2metros, devemos especificar o deploy inicial dos containers. Voc\u00ea pode utilizar uma imagem exemplo da AWS, ou uma imagem customizada de outro servi\u00e7o de container.</p> <p></p> <p></p> <p>Utilizando uma imagem base com Nginx</p> <p></p> <p>Imagem de container customizado</p> <p>Em Containers customizados, podemos definir chaves de ambiente e portas abertas para acesso do mesmo.</p> <p></p> <p>Ap\u00f3s concluir as defini\u00e7\u00f5es da sua imagem dos containers, basta dar um nome ao seu servi\u00e7o e concluir a cria\u00e7\u00e3o. </p> <p>Lembrando que o custo do servi\u00e7o ser\u00e1 definido pela f\u00f3rmula: Pot\u00eancia*Escala</p> <p></p>"},{"location":"adicional/topicos/AWSLigthsailInstancia/","title":"Criando Uma Inst\u00e2ncia","text":"<p>Assim que acessar a \u00e1rea do Lightsail, voc\u00ea j\u00e1 \u00e9 levado para a cria\u00e7\u00e3o de uma nova inst\u00e2ncia:</p> <p></p> <p>Vamos olhar para cada detalhe da Cria\u00e7\u00e3o da nossa nova inst\u00e2ncia:</p>"},{"location":"adicional/topicos/AWSLigthsailInstancia/#regiao-e-zona","title":"Regi\u00e3o e Zona","text":"<p>O Lightsail ir\u00e1 selecionar automaticamente a regi\u00e3o e zona de acordo com o seu acesso padr\u00e3o da AWS, por\u00e9m voc\u00ea pode modificar para qualquer outra caso queira. Cada regi\u00e3o possui uma quantidade fixas de zonas onde podemos alocar nossas inst\u00e2ncias.</p> <p></p> <p></p>"},{"location":"adicional/topicos/AWSLigthsailInstancia/#selecionando-a-imagem-da-sua-instancia","title":"Selecionando a imagem da sua inst\u00e2ncia","text":"<p>O Lightsail oferece diversas imagens prontas para serem utilizadas de acordo com as necessidades do seu projeto, em duas vers\u00f5es: OS e APPS + OS. Se voc\u00ea, por exemplo, vai lan\u00e7ar um webapp criado em Django, voc\u00ea ja pode selecionar a op\u00e7\u00e3o DJANGO da lista e sua inst\u00e2ncia ja vir\u00e1 com um OS contendo toda a infraestrutura dele j\u00e1 pronta para uso, precisando apenas adicionar seu projeto na mesma.</p> <p></p> <p>Voc\u00ea tamb\u00e9m pode tamb\u00e9m instalar apenas um Sistema Operacional na sua inst\u00e2ncia, tendo ela limpa e pronta para receber as customiza\u00e7\u00f5es necess\u00e1rias para rodar seu projeto.</p> <p></p>"},{"location":"adicional/topicos/AWSLigthsailInstancia/#campos-opcionais","title":"Campos Opcionais","text":""},{"location":"adicional/topicos/AWSLigthsailInstancia/#script","title":"Script","text":"<p>Caso voc\u00ea queria inserir um script customizado para a cria\u00e7\u00e3o da sua inst\u00e2ncia, basta inseri-lo nesta area e o Lightsail ir\u00e1 execut\u00e1-lo ao cria-la</p> <p></p>"},{"location":"adicional/topicos/AWSLigthsailInstancia/#par-de-chaves-ssh","title":"Par de Chaves SSH","text":"<p>Embora opcional, esta \u00e9 uma parte importante da cria\u00e7\u00e3o de sua inst\u00e2ncia. Para acessar sua inst\u00e2ncia via SSH, voc\u00ea dever\u00e1 ter um par de chaves criado e armazenado de forma segura, pois o download do mesmo s\u00f3 pode ser feito uma vez. Caso voc\u00ea venha a perder este par de chaves, um novo ter\u00e1 de ser criado em seu lugar. Uma chave com nome default \u00e9 dado a sua inst\u00e2ncia automaticamente, por\u00e9m \u00e9 recomendado dar um nome mais espec\u00edfico ao uso dela para n\u00e3o confundir e ter uma melhor administra\u00e7\u00e3o dos seus pares de chaves.</p> <p></p> <p></p>"},{"location":"adicional/topicos/AWSLigthsailInstancia/#snapshots-automaticos","title":"Snapshots Autom\u00e1ticos","text":"<p>Snapshots s\u00e3o backups da sua inst\u00e2ncia e discos de armazenamento anexados a ela, criados e armazenado pela AWS. Nesta etapa podemos definir a cria\u00e7\u00e3o de um snapshot di\u00e1rio para ela, o que pode ser de grande ajude caso nossa inst\u00e2ncia tenha um erro ou falhe futuramente. Para programar o snapshot di\u00e1rio apenas selecione o hor\u00e1rio e fuso desejado para tal.</p> <p></p>"},{"location":"adicional/topicos/AWSLigthsailInstancia/#plano-da-instancia","title":"Plano da Inst\u00e2ncia","text":"<p>Ap\u00f3s realizar todas as customiza\u00e7\u00f5es da sua inst\u00e2ncia, precisamos nos atentar ao plano de pagamento dela, que ir\u00e1 definir toda a arquitetura por tr\u00e1s dela. A AWS costuma oferecer os planos mais b\u00e1sicos de forma gratuita por alguns meses, o que \u00e9 \u00f3timo para testes e projetos de pequena dura\u00e7\u00e3o. Seleciona a que for mais apropriado ao seu projeto</p> <p></p>"},{"location":"adicional/topicos/AWSLigthsailInstancia/#identificacao-da-instancia","title":"Identifica\u00e7\u00e3o da Inst\u00e2ncia","text":"<p>Por fim, d\u00ea um nome apropriado para sua inst\u00e2ncia, e, caso necess\u00e1rio, adicione tags que possam facilitar no controle e manuten\u00e7\u00e3o delas dentro da AWS futuramente. Para concluir, basta clicar em criar inst\u00e2ncia.</p> <p></p>"},{"location":"conceitos/0.Cloud_Intro/","title":"Computa\u00e7\u00e3o em Nuvem","text":""},{"location":"conceitos/0.Cloud_Intro/#objetivos","title":"Objetivos","text":"<ol> <li>Introduzir os conceitos b\u00e1sicos sobre cloud computing.</li> <li>Entender os conceitos b\u00e1sicos sobre IaaS.</li> </ol> <p>Pr\u00e9-requisitos:</p> <ol> <li> <p>Realizar leitura pr\u00e9via:</p> <p>Produtos da AWS</p> <p>Public vs Private Cloud, AWS compared to Openstack</p> </li> <li> <p>Realizar a leitura sobre Cloud Computing. [Kavis - cap. 2 e Earl et al - cap. 4]</p> </li> </ol>"},{"location":"conceitos/0.Cloud_Intro/#primeira-instancia","title":"Primeira Inst\u00e2ncia","text":"<p>Vamos come\u00e7ar conhecendo o ferramental b\u00e1sico da AWS para virtual machines.</p> <ul> <li>Acessar o dashboard do EC2 de North Virginia (us-east-1).</li> <li>Criar uma inst\u00e2ncia t2.micro com Ubuntu 18.04 LTS server e 8Gb de disco.</li> <li>Renomear a m\u00e1quina com o seu nome (Tag).</li> <li>Verifique se o security group liberou a conex\u00e3o SSH externa.</li> <li>Importar em Key Pair a sua public key gerada na primeira aula. Coloque o seu nome na chave.<ul> <li>Endere\u00e7o IP p\u00fablico da m\u00e1quina:</li> </ul> </li> <li>Teste a conex\u00e3o SSH (n\u00e3o se esque\u00e7a da chave privada).</li> </ul> <p>. Voc\u00ea criou uma policy para seu usu\u00e1rio. O que s\u00e3o Policies? Por que elas s\u00e3o importantes e devem ser bem definidas?   . Dentro do contexto de Cloud Computing, defina os termos: instance, image, region, VPC, subnet, security-group.   . O poder computacional das inst\u00e2ncias \u00e9 medido em vCPU. O que \u00e9 vCPU?</p>"},{"location":"conceitos/0.Cloud_Intro/#primeiro-deploy-ghost-blog-platform","title":"Primeiro Deploy - Ghost Blog Platform","text":"<p>Vamos fazer um deploy completo e r\u00e1pido com poucos comandos. Acesse o terminal da inst\u00e2ncia criada e execute os seguintes comandos:</p> <ul> <li>Atualize o S.O.<ul> <li>$ sudo apt update</li> </ul> </li> <li>Instale o conjure-up usando o snap<ul> <li>$ sudo snap install conjure-up --classic</li> </ul> </li> <li>Agora instale a plataforma Ghost<ul> <li>$ juju add-credential aws</li> <li>Insira um nome e a regi\u00e3o correspondente: us-east-1</li> <li>Entre com o par Access Key ID/Secret Access Key</li> <li>$ conjure-up battlemidget/ghost aws/us-east-1</li> <li>Aguarde.</li> </ul> </li> <li>Teste o deploy<ul> <li>$ juju status</li> <li>Anote o IP da aplica\u00e7\u00e3o HAProxy.</li> <li>Acesse a plataforma: https://[IP P\u00fablico]/admin</li> </ul> </li> <li>Destrua tudo:<ul> <li>Anote o nome do controller no juju status</li> <li>$ juju kill-controller [controller-name]</li> <li>Aguarde e destrua a inst\u00e2ncia que voc\u00ea criou na AWS</li> </ul> </li> </ul> <p>. Quantas inst\u00e2ncias foram criadas automaticamente? Criar inst\u00e2ncias automaticamente \u00e9 um atributo positivo ou negativo?  . Quanto custou o prot\u00f3tipo? Assuma que usou uma semana de cada inst\u00e2ncia.  . Dada a quantidade de computadores apontada na quest\u00e3o anterior, descreva como voc\u00ea montaria um ambiente Ghost em um Datacenter pr\u00f3prio. Assuma que voc\u00ea ainda n\u00e3o possui nenhum hardware dispon\u00edvel, apenas um or\u00e7amento aprovado.  . Agora, somando o fato de que hardware deprecia com o tempo e possui um custo mensal de manuten\u00e7\u00e3o, compare em termos de custo uma Public Cloud e um Datacenter pr\u00f3prio.</p> <p>Como podem perceber a infraestrutura acima n\u00e3o custa barato ao longo do tempo. Talvez o uso do conjure-up/juju n\u00e3o seja o mais adequado para pequenos projetos. Outras alternativas para realizar provisionamento/implanta\u00e7\u00e3o:</p> <ul> <li>Terraform: https://www.terraform.io/</li> <li>Ansible: https://www.ansible.com/</li> <li>Puppet: https://puppet.com/</li> </ul>"},{"location":"conceitos/0.Cloud_Intro/#escalabilidade","title":"Escalabilidade","text":"<p>Conforme visto na Aula 01, vamos agora fazer uso de uma das mais poderosas caracter\u00edsticas da nuvem.</p> <ul> <li>Crie uma inst\u00e2ncia t2.micro com Ubuntu 18.04 LTS:</li> <li>Renomeie a inst\u00e2ncia para Webserver</li> <li>$ sudo apt update; sudo apt install nodejs build-essential -y</li> <li> <p>Edite um arquivo server.js:</p> <pre><code>#!/usr/bin/env nodejs\nvar http = require('http');\nvar os = require('os');\nvar crypto = require('crypto');\n\nhttp.createServer(function (req, res) {\n  res.writeHead(200, {'Content-Type': 'text/plain'});\n  var nonce = 1;\n  var seed = Math.random();\n  var h = crypto.createHash('sha256');\n\n  h.update(new Buffer(nonce + \" Hello World \" + seed));\n  while (h.digest(\"hex\").substr(0,3)!='000') {\n    h = crypto.createHash('sha256');\n    nonce++;\n    h.update(new Buffer(nonce + \" Hello World \" + seed));\n  }\n\n  res.end('{ \"host\": ' + os.hostname() + ', \"nonce\": ' + nonce + '}');\n}).listen(8080, '');\nconsole.log('Server running at http://localhost:8080/');\n</code></pre> </li> <li> <p>Execute o servi\u00e7o:</p> </li> <li>$ chmod +x ./server.js</li> <li>$ ./server.js</li> <li>Libere a porta no security group correspondente. Teste o servi\u00e7o no browser.</li> <li>Ajustando o final:</li> <li>$ crontab -e\\     @reboot /home/ubuntu/server.js</li> <li>$ sudo reboot</li> <li>Teste novamente no browser.</li> </ul> <p> Pesquise o que faz o crontab? </p>"},{"location":"conceitos/0.Cloud_Intro/#simulando-carga-no-servidor","title":"Simulando carga no servidor","text":"<p>Uma das grande d\u00favidas de quem utiliza nuvem diz respeito a capacidade das inst\u00e2ncias utilizadas e se elas est\u00e3o dimensiondas corretamente. Nessa etapa vamos estimar essa capacidade.</p> <ul> <li>Crie duas novas inst\u00e2ncias t2.micro com Ubuntu 18.04</li> <li>Renomeie como: Locust-master e Locust-worker</li> <li>Em ambas as m\u00e1quinas:</li> <li>$ sudo apt update &amp;&amp; sudo apt install python3-pip -y</li> <li>$ pip3 install locust</li> <li>crie um arquivo locustfile.py no home: \\vspace{0.3cm}</li> </ul> <p><pre><code>  from locust import HttpUser, task, between\n\n  class QuickstartUser(HttpUser):\n\n      @task\n      def index_page(self):\n          self.client.get(\"/\")\n</code></pre> \\vspace{0.3cm} * no master:   * liberar no security group as portas 8089 e 5557   * $ python3 -m locust -f /home/ubuntu/locustfile.py --master * No worker:   * ajuste o n\u00famero de conex\u00f5es no Linux:\\     $ sudo nano /etc/sysctl.conf   * adicione a linha:\\     fs.file-max = 5000000   * aplique as altera\u00e7\u00f5es:\\     $ sudo sysctl -p   * acerte o crontab para rodar na inicializa\u00e7\u00e3o:\\     python3 -m locust -f /home/ubuntu/locustfile.py --worker --master-host=[IP do master]   * $ sudo reboot</p> <ul> <li>Realizando a simula\u00e7\u00e3o:</li> <li>acesse o locust master via browser</li> <li>aguarde o worker se conectar no master</li> <li>inicie um teste 300/10 - 300 usu\u00e1rios e hatch rate de 10 novos usu\u00e1rios por segundo.</li> <li>N\u00e3o caiu! - Talvez haja algumas poucas falhas.</li> <li> <p>verifique que essa aplica\u00e7\u00e3o suporta cerca de 100 rps (requisi\u00e7\u00f5es por segundo).</p> </li> <li> <p>Multiplicando os usu\u00e1rios:</p> </li> <li>crie uma imagem do locust-worker. Caf\u00e9.</li> <li>crie mais 2 inst\u00e2ncias dessa AMI,</li> <li>Execute um teste 600/20 - observe que h\u00e1 algumas falhas mas ainda em um percentual baixo.</li> <li>Agora execute um teste 1000/50 - agora complicou.</li> </ul>"},{"location":"conceitos/0.Cloud_Intro/#escalando-verticalmente","title":"Escalando Verticalmente","text":"<ul> <li>pare a m\u00e1quina com o servidor http.</li> <li>troque para t2.2xlarge.</li> <li>atualize o IP no locust master, reinicie os workers e repita o teste 1000/50.</li> </ul>"},{"location":"conceitos/0.Cloud_Intro/#escalando-horizontalmente","title":"Escalando Horizontalmente","text":"<ul> <li>Crie uma imagem do servidor web. Caf\u00e9.</li> <li>Rebaixe a m\u00e1quina para t2.micro de novo.</li> <li>Crie mais 2 inst\u00e2ncias a partir da AMI criada. N\u00e3o esque\u00e7a de reutilizar o security group.</li> <li>Crie um Application LoadBalancer que mapeia inst\u00e2ncias:8080 para loadbalancer:80.</li> <li>Marcar todas as Availability Zones.</li> <li>Adicione as 3 inst\u00e2ncias no Target Group.</li> <li>Teste o acesso ao LoadBalancer:\\vspace{0.5cm}</li> <li>Endere\u00e7o DNS:\\vspace{0.5cm}</li> <li>Verifique no navegador que h\u00e1 uma altern\u00e2ncia do servidor.</li> <li>Execute novamente o teste 1000/50.</li> <li>Voil\u00e0!</li> </ul> <p>Agora vamos ativar a elasticidade da nuvem.</p> <ul> <li>Remova as inst\u00e2ncias do LoadBalancer. Destrue-as.</li> <li>Crie um Autoscalling Group:</li> <li>Criar um Launch Configuration da mesma configura\u00e7\u00e3o em que foi criada a inst\u00e2ncia original. Reutilizar o Security Group com as devidas libera\u00e7\u00f5es.</li> <li>Come\u00e7ar com 1 inst\u00e2ncia.</li> <li>Selecionar todas as subnets.</li> <li>Anexar o Target Group criado anteriormente.</li> <li>Selecionar: Use scaling policies to adjust the capacity of this group. Usar Request Count Per Target em 3000 (50 rps x 60 segundos)</li> <li>Aguarde a primeira inst\u00e2ncia subir e teste o LoadBalancer de novo.</li> </ul> <p>Execute o teste 1000/50 novamente. Em 3 minutos ele se ajustar\u00e1 sozinho \u00e0 demanda. Encerre o teste e em 15 minutos ir\u00e1 desativar a capacidade ociosa automaticamente. Remova tudo e n\u00e3o deixe nada rodando (Cuidado com os recursos do seu colega).</p>"},{"location":"conceitos/1.ELB/","title":"Elastic Load Balancer","text":"<p>O Elastic Load Balancer (ELB) da AWS \u00e9 um servi\u00e7o que distribui o tr\u00e1fego de entrada de aplicativos em v\u00e1rios destinos, como inst\u00e2ncias do Amazon EC2, cont\u00eaineres e endere\u00e7os IP. Ele aumenta a escalabilidade, a disponibilidade e a capacidade de gerenciamento de seus aplicativos.</p>"},{"location":"conceitos/1.ELB/#tipos-de-elbs","title":"Tipos de ELBs","text":"<p>A AWS oferece tr\u00eas tipos de ELBs:</p>"},{"location":"conceitos/1.ELB/#classic-load-balancer","title":"Classic Load Balancer","text":"<p>O Classic Load Balancer \u00e9 o tipo original de ELB da AWS. Ele fornece balanceamento de carga para aplicativos que foram criados em apenas uma \u00fanica regi\u00e3o da AWS.</p>"},{"location":"conceitos/1.ELB/#application-load-balancer","title":"Application Load Balancer","text":"<p>O Application Load Balancer (ALB) \u00e9 um balanceador de carga de camada 7 que direciona o tr\u00e1fego para aplicativos baseados em HTTP/HTTPS. Ele fornece recursos avan\u00e7ados de roteamento, como a capacidade de rotear tr\u00e1fego para diferentes destinos com base no conte\u00fado da solicita\u00e7\u00e3o.</p>"},{"location":"conceitos/1.ELB/#network-load-balancer","title":"Network Load Balancer","text":"<p>O Network Load Balancer (NLB) \u00e9 um balanceador de carga de camada 4 que \u00e9 capaz de lidar com milh\u00f5es de solicita\u00e7\u00f5es por segundo. Ele \u00e9 projetado para aplicativos que exigem lat\u00eancia ultra baixa e alto desempenho.</p>"},{"location":"conceitos/1.ELB/#recursos-do-elb","title":"Recursos do ELB","text":"<p>O ELB oferece v\u00e1rios recursos, incluindo:</p> <ul> <li>Balanceamento de carga: Distribui o tr\u00e1fego de entrada entre v\u00e1rios destinos para garantir que seus aplicativos estejam sempre dispon\u00edveis.</li> <li>Auto Scaling: O ELB pode ser integrado com o servi\u00e7o de Auto Scaling da AWS para aumentar ou diminuir a capacidade de seus aplicativos com base nas demandas do tr\u00e1fego.</li> <li>Monitoramento: O ELB fornece m\u00e9tricas detalhadas sobre o tr\u00e1fego e o desempenho do aplicativo para ajud\u00e1-lo a solucionar problemas rapidamente.</li> <li>Certificados SSL/TLS: O ELB suporta a criptografia SSL/TLS para garantir a seguran\u00e7a dos dados transmitidos pelos seus aplicativos.</li> </ul>"},{"location":"conceitos/1.ELB/#conclusao","title":"Conclus\u00e3o","text":"<p>O Elastic Load Balancer \u00e9 um servi\u00e7o fundamental para garantir a disponibilidade, escalabilidade e confiabilidade de seus aplicativos. Com sua ampla gama de recursos e op\u00e7\u00f5es de configura\u00e7\u00e3o, o ELB \u00e9 uma excelente escolha para qualquer aplicativo que precise lidar com alto volume de tr\u00e1fego.</p>"},{"location":"conceitos/10.EKS/","title":"Servi\u00e7o AWS EKS","text":"<p>O Amazon Elastic Kubernetes Service (EKS) \u00e9 um servi\u00e7o gerenciado que permite executar aplicativos em cont\u00eaineres Kubernetes na nuvem da AWS. Ele ajuda a implantar e gerenciar aplicativos em cont\u00eaineres com facilidade e seguran\u00e7a, usando um ambiente escal\u00e1vel e flex\u00edvel.</p>"},{"location":"conceitos/10.EKS/#caracteristicas-do-aws-eks","title":"Caracter\u00edsticas do AWS EKS","text":"<p>Algumas das principais caracter\u00edsticas do AWS EKS s\u00e3o:</p> <ul> <li> <p>Gerenciamento de cont\u00eaineres escal\u00e1vel: O EKS \u00e9 um servi\u00e7o altamente escal\u00e1vel que permite executar milhares de cont\u00eaineres Kubernetes em uma \u00fanica inst\u00e2ncia.</p> </li> <li> <p>Alta disponibilidade: O EKS \u00e9 projetado para oferecer alta disponibilidade, reduzindo a possibilidade de interrup\u00e7\u00f5es de servi\u00e7o.</p> </li> <li> <p>Integra\u00e7\u00e3o com outros servi\u00e7os da AWS: O EKS \u00e9 integrado com outros servi\u00e7os da AWS, como o Elastic Load Balancer, o Amazon S3 e o Amazon VPC.</p> </li> <li> <p>Suporte a v\u00e1rios tipos de cont\u00eaineres: O EKS oferece suporte a v\u00e1rios tipos de cont\u00eaineres, incluindo Docker e containerd.</p> </li> <li> <p>Integra\u00e7\u00e3o com o AWS Fargate: O EKS \u00e9 integrado com o AWS Fargate, o que permite executar cont\u00eaineres sem precisar gerenciar inst\u00e2ncias EC2.</p> </li> </ul>"},{"location":"conceitos/10.EKS/#como-funciona-o-aws-eks","title":"Como funciona o AWS EKS","text":"<p>O AWS EKS \u00e9 composto de v\u00e1rios componentes, incluindo clusters, worker nodes e servi\u00e7os Kubernetes. O EKS usa o Amazon EC2 ou o AWS Fargate para executar worker nodes que executam os cont\u00eaineres Kubernetes.</p> <p>Para usar o AWS EKS, siga estes passos simples:</p> <ol> <li> <p>Crie um cluster: Crie um cluster EKS para executar seus aplicativos em cont\u00eaineres Kubernetes. Os clusters s\u00e3o criados usando o console do EKS ou a API do EKS.</p> </li> <li> <p>Crie worker nodes: Crie um ou mais worker nodes que executem os cont\u00eaineres Kubernetes.</p> </li> <li> <p>Implante aplicativos: Implantar aplicativos em cont\u00eaineres Kubernetes no cluster EKS usando servi\u00e7os Kubernetes.</p> </li> <li> <p>Gerencie os servi\u00e7os: Gerencie os servi\u00e7os implantados para garantir que eles estejam sempre em execu\u00e7\u00e3o e dispon\u00edveis.</p> </li> </ol>"},{"location":"conceitos/10.EKS/#conclusao","title":"Conclus\u00e3o","text":"<p>O Amazon Elastic Kubernetes Service (EKS) \u00e9 uma plataforma eficiente para executar e gerenciar aplicativos em cont\u00eaineres Kubernetes na nuvem da AWS. Com sua alta escalabilidade e flexibilidade, o EKS \u00e9 uma solu\u00e7\u00e3o ideal para empresas que buscam uma forma segura e confi\u00e1vel de executar aplicativos em cont\u00eaineres Kubernetes.</p> <p>Ao integrar-se com outros servi\u00e7os da AWS, como o Elastic Load Balancer, o Amazon S3 e o Amazon VPC, o EKS permite que voc\u00ea crie uma infraestrutura de aplicativos em cont\u00eaineres Kubernetes altamente personalizada que atenda \u00e0s suas necessidades espec\u00edficas. Al\u00e9m disso, a integra\u00e7\u00e3o com o AWS Fargate torna o EKS ainda mais flex\u00edvel, permitindo que voc\u00ea execute cont\u00eaineres sem precisar gerenciar inst\u00e2ncias EC2.</p>"},{"location":"conceitos/11.KMS/","title":"AWS KMS","text":"<p>O AWS Key Management Service (KMS) \u00e9 um servi\u00e7o gerenciado que ajuda a criar e controlar o acesso a chaves criptogr\u00e1ficas para proteger dados confidenciais na nuvem da AWS. Com o KMS, \u00e9 poss\u00edvel gerenciar suas pr\u00f3prias chaves criptogr\u00e1ficas e controlar quem pode us\u00e1-las.</p>"},{"location":"conceitos/11.KMS/#caracteristicas-do-aws-kms","title":"Caracter\u00edsticas do AWS KMS","text":"<p>Algumas das principais caracter\u00edsticas do AWS KMS s\u00e3o:</p> <ul> <li> <p>Gerenciamento de chaves criptogr\u00e1ficas: O KMS permite criar, gerenciar e usar suas pr\u00f3prias chaves criptogr\u00e1ficas, al\u00e9m de oferecer integra\u00e7\u00e3o com outras ferramentas da AWS.</p> </li> <li> <p>Seguran\u00e7a de dados: O KMS ajuda a proteger seus dados confidenciais por meio do uso de criptografia avan\u00e7ada e controles de acesso granulares.</p> </li> <li> <p>Conformidade com regulamenta\u00e7\u00f5es: O KMS \u00e9 compat\u00edvel com uma variedade de regulamenta\u00e7\u00f5es de seguran\u00e7a, como PCI DSS, HIPAA, FedRAMP e outras.</p> </li> <li> <p>Integra\u00e7\u00e3o com outros servi\u00e7os da AWS: O KMS \u00e9 integrado com outros servi\u00e7os da AWS, como o Amazon S3, o Amazon EBS e o Amazon Redshift.</p> </li> <li> <p>Controles de acesso granulares: O KMS oferece controle de acesso granular para suas chaves criptogr\u00e1ficas, permitindo que voc\u00ea gerencie quem pode us\u00e1-las e como elas s\u00e3o usadas.</p> </li> </ul>"},{"location":"conceitos/11.KMS/#como-funciona-o-aws-kms","title":"Como funciona o AWS KMS","text":"<p>O AWS KMS funciona atrav\u00e9s da cria\u00e7\u00e3o, gerenciamento e uso de chaves criptogr\u00e1ficas. Para usar o KMS, siga estes passos:</p> <ol> <li> <p>Crie uma chave criptogr\u00e1fica: Crie uma chave criptogr\u00e1fica no console do KMS ou usando a API do KMS. \u00c9 poss\u00edvel criar chaves sim\u00e9tricas ou assim\u00e9tricas.</p> </li> <li> <p>Configure permiss\u00f5es de chave: Configure permiss\u00f5es de chave para controlar quem pode usar a chave criptogr\u00e1fica e como ela pode ser usada.</p> </li> <li> <p>Criptografe e descriptografe dados: Use a chave criptogr\u00e1fica para criptografar e descriptografar dados.</p> </li> <li> <p>Rotacione as chaves criptogr\u00e1ficas: Rotacione as chaves criptogr\u00e1ficas regularmente para garantir a seguran\u00e7a dos dados.</p> </li> </ol>"},{"location":"conceitos/11.KMS/#conclusao","title":"Conclus\u00e3o","text":"<p>O AWS Key Management Service (KMS) \u00e9 uma solu\u00e7\u00e3o eficiente para gerenciar chaves criptogr\u00e1ficas na nuvem da AWS. Com sua seguran\u00e7a avan\u00e7ada e controle de acesso granular, o KMS ajuda a proteger seus dados confidenciais contra amea\u00e7as de seguran\u00e7a.</p> <p>Ao integrar-se com outros servi\u00e7os da AWS, como o Amazon S3, o Amazon EBS e o Amazon Redshift, o KMS permite que voc\u00ea proteja seus dados em tr\u00e2nsito e em repouso, garantindo a conformidade com regulamenta\u00e7\u00f5es de seguran\u00e7a. Se voc\u00ea precisa de uma solu\u00e7\u00e3o robusta de gerenciamento de chaves criptogr\u00e1ficas, o AWS KMS \u00e9 uma excelente escolha.</p>"},{"location":"conceitos/12.Lambda/","title":"AWS Lambda","text":"<p>AWS Lambda \u00e9 um servi\u00e7o de computa\u00e7\u00e3o sem servidor oferecido pela Amazon Web Services (AWS) que executa c\u00f3digo em resposta a eventos e gerencia automaticamente os recursos necess\u00e1rios para executar esse c\u00f3digo.</p>"},{"location":"conceitos/12.Lambda/#como-funciona","title":"Como funciona","text":"<p>Com o AWS Lambda, voc\u00ea pode escrever e carregar seu pr\u00f3prio c\u00f3digo em uma variedade de linguagens de programa\u00e7\u00e3o suportadas pela AWS, como Python, Node.js, Java, C# e Go. Em seguida, voc\u00ea pode criar fun\u00e7\u00f5es que s\u00e3o acionadas por eventos, como altera\u00e7\u00f5es em dados armazenados no Amazon S3, novas mensagens em um t\u00f3pico do Amazon SNS ou novos registros em um stream do Amazon Kinesis.</p> <p>Quando uma fun\u00e7\u00e3o \u00e9 acionada, o servi\u00e7o AWS Lambda cria um cont\u00eainer ef\u00eamero, carrega o c\u00f3digo da fun\u00e7\u00e3o e executa o c\u00f3digo em resposta ao evento. Quando a fun\u00e7\u00e3o \u00e9 conclu\u00edda, o cont\u00eainer \u00e9 desativado e seus recursos s\u00e3o liberados.</p>"},{"location":"conceitos/12.Lambda/#beneficios","title":"Benef\u00edcios","text":"<ul> <li>Escala autom\u00e1tica: O AWS Lambda escala automaticamente a capacidade de execu\u00e7\u00e3o de suas fun\u00e7\u00f5es com base na frequ\u00eancia dos eventos que acionam suas fun\u00e7\u00f5es. N\u00e3o \u00e9 necess\u00e1rio gerenciar a capacidade de execu\u00e7\u00e3o manualmente.</li> <li>Pagamento por uso: Voc\u00ea paga apenas pelo tempo de execu\u00e7\u00e3o da sua fun\u00e7\u00e3o, sem taxas m\u00ednimas ou compromissos de longo prazo.</li> <li>Conectividade com outros servi\u00e7os AWS: O AWS Lambda pode ser facilmente conectado a outros servi\u00e7os da AWS, como Amazon S3, Amazon DynamoDB, Amazon Kinesis e Amazon SNS, permitindo que voc\u00ea crie aplicativos altamente escal\u00e1veis e integrados.</li> <li>Integra\u00e7\u00e3o com ferramentas de desenvolvimento: O AWS Lambda \u00e9 facilmente integrado com ferramentas de desenvolvimento populares, como o AWS Toolkit for Visual Studio, o AWS Toolkit para JetBrains, o AWS CLI e o AWS CloudFormation.</li> </ul>"},{"location":"conceitos/12.Lambda/#limitacoes","title":"Limita\u00e7\u00f5es","text":"<ul> <li>Tempo limite de execu\u00e7\u00e3o: Cada execu\u00e7\u00e3o da fun\u00e7\u00e3o do Lambda tem um tempo m\u00e1ximo de dura\u00e7\u00e3o de 900 segundos (15 minutos).</li> <li>Restri\u00e7\u00f5es de tamanho do pacote: O tamanho m\u00e1ximo do pacote de c\u00f3digo da fun\u00e7\u00e3o \u00e9 de 50 MB, incluindo todas as depend\u00eancias.</li> <li>Limites de recursos: O AWS Lambda tem limites de recursos, como o n\u00famero m\u00e1ximo de cont\u00eaineres em execu\u00e7\u00e3o, a quantidade m\u00e1xima de mem\u00f3ria alocada por fun\u00e7\u00e3o e o n\u00famero m\u00e1ximo de solicita\u00e7\u00f5es simult\u00e2neas por fun\u00e7\u00e3o.</li> </ul>"},{"location":"conceitos/12.Lambda/#exemplo-de-codigo","title":"Exemplo de c\u00f3digo","text":"<p>Aqui est\u00e1 um exemplo simples de uma fun\u00e7\u00e3o do AWS Lambda escrita em Python que responde a eventos do Amazon S3:</p> <pre><code>import json\nimport boto3\n\ndef lambda_handler(event, context):\n    # Obt\u00e9m o nome do bucket S3 e a chave do objeto que acionou o evento\n    bucket = event['Records'][0]['s3']['bucket']['name']\n    key = event['Records'][0]['s3']['object']['key']\n\n    # Obt\u00e9m o objeto S3\n    s3 = boto3.resource('s3')\n    obj = s3.Object(bucket, key)\n\n    # L\u00ea o conte\u00fado do objeto\n    body = obj.get()['Body'].read()\n\n    # Imprime o conte\u00fado do objeto\n    print(\"Conte\u00fado do objeto:\")\n    print(body.decode('utf-8'))\n\n    # Retorna uma resposta\n    return {\n        'statusCode': 200,\n        'body': json.dumps('Hello from Cloudinho Nuvem!')\n    }\n</code></pre>"},{"location":"conceitos/12.Lambda/#conclusao","title":"Conclus\u00e3o","text":"<p>O AWS Lambda \u00e9 uma solu\u00e7\u00e3o sem servidor poderosa para criar aplicativos escal\u00e1veis e altamente integrados na AWS. Ele oferece escala autom\u00e1tica, pagamento por uso, conectividade com outros servi\u00e7os da AWS e integra\u00e7\u00e3o com ferramentas de desenvolvimento populares. No entanto, ele tamb\u00e9m tem algumas limita\u00e7\u00f5es, como tempo m\u00e1ximo de execu\u00e7\u00e3o, restri\u00e7\u00f5es de tamanho de pacote e limites de recursos.</p> <p>Em resumo, o AWS Lambda \u00e9 uma ferramenta poderosa para desenvolvedores que procuram criar aplicativos escal\u00e1veis sem se preocupar com a infraestrutura subjacente. Com sua facilidade de uso e integra\u00e7\u00e3o com outras ferramentas da AWS, o Lambda permite que os desenvolvedores se concentrem na l\u00f3gica de neg\u00f3cios em vez de gerenciar a infraestrutura. Se voc\u00ea ainda n\u00e3o experimentou o AWS Lambda, vale a pena dar uma olhada e descobrir como ele pode ajudar a impulsionar seus aplicativos na nuvem.</p>"},{"location":"conceitos/13.Fargate/","title":"AWS Fargate","text":"<p>O AWS Fargate \u00e9 um servi\u00e7o de computa\u00e7\u00e3o sem servidor para cont\u00eaineres que permite executar cont\u00eaineres do Docker no Amazon Elastic Container Service (ECS) e no Amazon Elastic Kubernetes Service (EKS) sem a necessidade de gerenciar a infraestrutura subjacente.</p>"},{"location":"conceitos/13.Fargate/#como-funciona","title":"Como funciona","text":"<p>Com o AWS Fargate, voc\u00ea pode executar cont\u00eaineres do Docker em um ambiente completamente gerenciado. Voc\u00ea s\u00f3 precisa criar um cluster do ECS ou do EKS, definir suas tarefas de cont\u00eainer e o Fargate gerenciar\u00e1 a infraestrutura subjacente necess\u00e1ria para executar essas tarefas. Isso inclui recursos como inst\u00e2ncias do Amazon EC2, escalabilidade, patching de seguran\u00e7a e muito mais.</p>"},{"location":"conceitos/13.Fargate/#beneficios","title":"Benef\u00edcios","text":"<ul> <li>Sem infraestrutura para gerenciar: O AWS Fargate gerencia toda a infraestrutura necess\u00e1ria para executar suas tarefas de cont\u00eainer, permitindo que voc\u00ea se concentre em desenvolver seu aplicativo.</li> <li>Escala autom\u00e1tica: O Fargate escalona automaticamente seus cont\u00eaineres com base na demanda do aplicativo.</li> <li>Seguran\u00e7a: O Fargate usa inst\u00e2ncias EC2 dedicadas e isoladas para executar suas tarefas de cont\u00eainer, garantindo um alto n\u00edvel de seguran\u00e7a.</li> <li>Flexibilidade: O Fargate \u00e9 compat\u00edvel com todas as ferramentas e servi\u00e7os do ecossistema do Docker, permitindo que voc\u00ea use suas ferramentas e configura\u00e7\u00f5es favoritas para criar e implantar cont\u00eaineres.</li> </ul>"},{"location":"conceitos/13.Fargate/#limitacoes","title":"Limita\u00e7\u00f5es","text":"<ul> <li>Limita\u00e7\u00f5es de tamanho do cont\u00eainer: O tamanho m\u00e1ximo do cont\u00eainer \u00e9 de 4 GB.</li> <li>Restri\u00e7\u00f5es de recursos: O AWS Fargate tem limites de recursos, como a quantidade m\u00e1xima de vCPUs e mem\u00f3ria alocados por tarefa de cont\u00eainer.</li> </ul>"},{"location":"conceitos/13.Fargate/#exemplo-de-uso","title":"Exemplo de uso","text":"<p>Aqui est\u00e1 um exemplo simples de como executar um cont\u00eainer do Docker usando o AWS Fargate no Amazon ECS:</p> <ol> <li>Crie um cluster do Amazon ECS.</li> <li>Defina sua tarefa de cont\u00eainer, que inclui informa\u00e7\u00f5es sobre a imagem do cont\u00eainer, a porta exposta e outras configura\u00e7\u00f5es.</li> <li>Crie um servi\u00e7o do ECS que usa o Fargate como plataforma de computa\u00e7\u00e3o.</li> </ol> <pre><code>version: \"3\"\nservices:\n  myapp:\n    image: mydockerimage\n    ports:\n      - \"80:80\"\n    logging:\n      driver: awslogs\n      options:\n        awslogs-group: \"my-logs-group\"\n        awslogs-region: \"us-east-1\"\n    cpu: 256\n    memory: 512\n    network_mode: awsvpc\n    execution_role_arn: arn:aws:iam::25072000:role/ecsTaskExecutionRole\n</code></pre> <ol> <li>Inicie o servi\u00e7o e o Fargate gerenciar\u00e1 a execu\u00e7\u00e3o dos cont\u00eaineres para voc\u00ea.</li> </ol>"},{"location":"conceitos/13.Fargate/#conclusao","title":"Conclus\u00e3o","text":"<p>O AWS Fargate \u00e9 uma solu\u00e7\u00e3o ideal para desenvolvedores que desejam executar cont\u00eaineres do Docker sem ter que gerenciar a infraestrutura subjacente. Ele oferece escalabilidade autom\u00e1tica, seguran\u00e7a e compatibilidade com todas as ferramentas e servi\u00e7os do ecossistema do Docker. No entanto, ele tamb\u00e9m tem algumas limita\u00e7\u00f5es, como tamanho m\u00e1ximo do cont\u00eainer e limites de recursos.</p> <p>Em resumo, o AWS Fargate \u00e9 uma ferramenta poderosa para desenvolvedores que procuram uma maneira simples e f\u00e1cil de executar cont\u00eaineres do Docker sem ter que lidar com a infraestrutura. Com sua escalabilidade autom\u00e1tica, gerenciamento de seguran\u00e7a e compatibilidade com o ecossistema do Docker, o Fargate \u00e9 uma solu\u00e7\u00e3o atraente para equipes de desenvolvimento que buscam aumentar a efici\u00eancia e a produtividade. Se voc\u00ea ainda n\u00e3o experimentou o AWS Fargate, vale a pena dar uma olhada e descobrir como ele pode ajudar a impulsionar seus aplicativos na nuvem.</p>"},{"location":"conceitos/14.S3/","title":"AWS S3","text":"<p>O Amazon Simple Storage Service (S3) \u00e9 um servi\u00e7o de armazenamento de objetos na nuvem projetado para armazenar e recuperar qualquer quantidade de dados de qualquer lugar da web.</p>"},{"location":"conceitos/14.S3/#como-funciona","title":"Como funciona","text":"<p>Com o AWS S3, voc\u00ea pode armazenar e recuperar arquivos de qualquer tamanho de qualquer lugar do mundo. Voc\u00ea s\u00f3 precisa criar um bucket do S3, carregar seus arquivos e definir as configura\u00e7\u00f5es de permiss\u00f5es e seguran\u00e7a, e o S3 gerenciar\u00e1 o restante para voc\u00ea. O AWS S3 \u00e9 altamente escal\u00e1vel e dur\u00e1vel, com redund\u00e2ncia em v\u00e1rias zonas de disponibilidade.</p>"},{"location":"conceitos/14.S3/#beneficios","title":"Benef\u00edcios","text":"<ul> <li>Escalabilidade: O S3 \u00e9 altamente escal\u00e1vel e pode ser usado para armazenar qualquer quantidade de dados.</li> <li>Durabilidade: O S3 tem redund\u00e2ncia em v\u00e1rias zonas de disponibilidade, garantindo que seus dados estejam protegidos contra falhas de hardware.</li> <li>Seguran\u00e7a: O S3 oferece recursos de seguran\u00e7a avan\u00e7ados, como controle de acesso baseado em pol\u00edticas, criptografia e muito mais.</li> <li>Acessibilidade: O S3 pode ser acessado de qualquer lugar do mundo com uma conex\u00e3o \u00e0 Internet.</li> </ul>"},{"location":"conceitos/14.S3/#limitacoes","title":"Limita\u00e7\u00f5es","text":"<ul> <li>Custo: O custo do armazenamento no S3 pode variar dependendo da quantidade de dados armazenados e dos acessos aos dados.</li> <li>Desempenho: O desempenho do S3 pode ser afetado por diversos fatores, como a regi\u00e3o em que o bucket est\u00e1 localizado e o tipo de acesso aos dados.</li> </ul>"},{"location":"conceitos/14.S3/#exemplo-de-uso","title":"Exemplo de uso","text":"<p>Aqui est\u00e1 um exemplo simples de como usar o AWS S3:</p> <ol> <li>Crie um bucket do S3 na regi\u00e3o desejada.</li> <li>Carregue seus arquivos no bucket do S3.</li> <li>Defina as configura\u00e7\u00f5es de permiss\u00f5es e seguran\u00e7a para o bucket do S3.</li> <li>Acesse seus arquivos de qualquer lugar do mundo com uma conex\u00e3o \u00e0 Internet.</li> </ol>"},{"location":"conceitos/14.S3/#conclusao","title":"Conclus\u00e3o","text":"<p>O AWS S3 \u00e9 uma ferramenta essencial para empresas que precisam armazenar e recuperar grandes quantidades de dados de maneira segura e escal\u00e1vel. Com recursos de seguran\u00e7a avan\u00e7ados, escalabilidade e durabilidade, o S3 \u00e9 uma solu\u00e7\u00e3o atraente para empresas de todos os tamanhos. No entanto, \u00e9 importante estar ciente das limita\u00e7\u00f5es, como o custo e o desempenho, ao planejar o uso do S3. Se voc\u00ea ainda n\u00e3o experimentou o AWS S3, vale a pena dar uma olhada e descobrir como ele pode ajudar a impulsionar seus aplicativos na nuvem.</p>"},{"location":"conceitos/15.CloudWatch/","title":"AWS CloudWatch","text":"<p>O Amazon CloudWatch \u00e9 um servi\u00e7o de monitoramento e observabilidade da AWS que permite monitorar e coletar m\u00e9tricas, logs e eventos de seus recursos e aplicativos na nuvem. Com o CloudWatch, voc\u00ea pode monitorar e analisar o desempenho de seus aplicativos, identificar e solucionar problemas e garantir a conformidade e a seguran\u00e7a.</p>"},{"location":"conceitos/15.CloudWatch/#como-funciona","title":"Como funciona","text":"<p>O CloudWatch coleta e armazena m\u00e9tricas, logs e eventos de seus recursos e aplicativos na nuvem, como inst\u00e2ncias do Amazon EC2, grupos de autoescalabilidade, aplicativos da web e muito mais. Voc\u00ea pode usar esses dados para monitorar o desempenho de seus aplicativos, identificar problemas e solucion\u00e1-los. O CloudWatch tamb\u00e9m pode ser usado para criar alarmes que disparam a\u00e7\u00f5es automatizadas em resposta a eventos espec\u00edficos.</p>"},{"location":"conceitos/15.CloudWatch/#beneficios","title":"Benef\u00edcios","text":"<ul> <li>Monitoramento: O CloudWatch permite monitorar e analisar o desempenho de seus aplicativos e recursos na nuvem.</li> <li>Identifica\u00e7\u00e3o de problemas: Com o CloudWatch, voc\u00ea pode identificar problemas e solucion\u00e1-los antes que afetem seus usu\u00e1rios.</li> <li>Conformidade e seguran\u00e7a: O CloudWatch permite monitorar a conformidade e a seguran\u00e7a de seus aplicativos e recursos na nuvem.</li> <li>Automa\u00e7\u00e3o: O CloudWatch permite criar alarmes que disparam a\u00e7\u00f5es automatizadas em resposta a eventos espec\u00edficos.</li> </ul>"},{"location":"conceitos/15.CloudWatch/#limitacoes","title":"Limita\u00e7\u00f5es","text":"<ul> <li>Custo: O custo do CloudWatch pode variar dependendo da quantidade de m\u00e9tricas, logs e eventos coletados.</li> <li>Complexidade: O CloudWatch pode ser complexo de configurar e gerenciar, especialmente para aplicativos e recursos mais complexos.</li> </ul>"},{"location":"conceitos/15.CloudWatch/#exemplo-de-uso","title":"Exemplo de uso","text":"<p>Aqui est\u00e1 um exemplo simples de como usar o CloudWatch:</p> <ol> <li>Crie um grupo de autoescalabilidade do Amazon EC2.</li> <li>Configure o CloudWatch para coletar m\u00e9tricas, logs e eventos do grupo de autoescalabilidade.</li> <li>Crie um painel do CloudWatch para monitorar as m\u00e9tricas coletadas.</li> <li>Crie um alarme no CloudWatch que dispara uma a\u00e7\u00e3o automatizada quando um evento espec\u00edfico ocorre.</li> </ol>"},{"location":"conceitos/15.CloudWatch/#conclusao","title":"Conclus\u00e3o","text":"<p>O Amazon CloudWatch \u00e9 uma ferramenta essencial para empresas que precisam monitorar e analisar o desempenho de seus aplicativos e recursos na nuvem. Com recursos avan\u00e7ados de monitoramento, identifica\u00e7\u00e3o de problemas, conformidade e seguran\u00e7a, o CloudWatch \u00e9 uma solu\u00e7\u00e3o atraente para empresas de todos os tamanhos. No entanto, \u00e9 importante estar ciente das limita\u00e7\u00f5es, como o custo e a complexidade, ao planejar o uso do CloudWatch. Se voc\u00ea ainda n\u00e3o experimentou o Amazon CloudWatch, vale a pena dar uma olhada e descobrir como ele pode ajudar a impulsionar seus aplicativos na nuvem.</p>"},{"location":"conceitos/2.RDS/","title":"Relational Database Service (RDS)","text":"<p>O Amazon RDS (Relational Database Service) \u00e9 um servi\u00e7o de banco de dados relacional gerenciado pela Amazon Web Services (AWS). Ele oferece suporte para v\u00e1rios mecanismos de banco de dados, incluindo MySQL, PostgreSQL, Oracle e SQL Server.</p>"},{"location":"conceitos/2.RDS/#vantagens-do-amazon-rds","title":"Vantagens do Amazon RDS","text":"<ul> <li> <p>Gerenciamento f\u00e1cil: O Amazon RDS permite gerenciar facilmente os bancos de dados relacionais na nuvem, sem precisar se preocupar com o gerenciamento de hardware e software subjacente.</p> </li> <li> <p>Escalabilidade autom\u00e1tica: O RDS da AWS facilita a escalabilidade horizontal do banco de dados, permitindo aumentar ou diminuir a capacidade do banco de dados de acordo com a demanda.</p> </li> <li> <p>Backup e recupera\u00e7\u00e3o: O Amazon RDS faz backups autom\u00e1ticos do banco de dados, permitindo a recupera\u00e7\u00e3o r\u00e1pida em caso de falha ou erro.</p> </li> <li> <p>Seguran\u00e7a: O RDS da AWS oferece recursos de seguran\u00e7a robustos, incluindo criptografia de dados em repouso e em tr\u00e2nsito, controle de acesso baseado em fun\u00e7\u00f5es e conformidade com v\u00e1rias normas de seguran\u00e7a.</p> </li> </ul>"},{"location":"conceitos/2.RDS/#mecanismos-de-banco-de-dados-suportados-pelo-amazon-rds","title":"Mecanismos de banco de dados suportados pelo Amazon RDS","text":"<p>O Amazon RDS oferece suporte para os seguintes mecanismos de banco de dados:</p> <ul> <li>MySQL</li> <li>PostgreSQL</li> <li>Oracle</li> <li>SQL Server</li> <li>MariaDB</li> </ul>"},{"location":"conceitos/2.RDS/#precos-do-amazon-rds","title":"Pre\u00e7os do Amazon RDS","text":"<p>O Amazon RDS \u00e9 oferecido em v\u00e1rios planos de pre\u00e7os, dependendo do tipo de mecanismo de banco de dados, do tamanho do banco de dados e da capacidade de computa\u00e7\u00e3o. Os pre\u00e7os variam de acordo com a regi\u00e3o da AWS em que o banco de dados \u00e9 implantado.</p>"},{"location":"conceitos/2.RDS/#conclusao","title":"Conclus\u00e3o","text":"<p>O Amazon RDS \u00e9 uma solu\u00e7\u00e3o conveniente e confi\u00e1vel para gerenciamento de banco de dados relacional na nuvem. Com recursos avan\u00e7ados de escalabilidade, backup e seguran\u00e7a, o RDS da AWS \u00e9 uma excelente escolha para empresas que desejam uma solu\u00e7\u00e3o de banco de dados gerenciada.</p>"},{"location":"conceitos/3.EC2/","title":"EC2 - Elastic Compute Cloud","text":"<p>O Amazon Elastic Compute Cloud (EC2) \u00e9 um servi\u00e7o da AWS que fornece capacidade de computa\u00e7\u00e3o escal\u00e1vel na nuvem. \u00c9 um dos servi\u00e7os mais populares da AWS, permitindo que os usu\u00e1rios criem e gerenciem inst\u00e2ncias de servidores virtuais na nuvem.</p>"},{"location":"conceitos/3.EC2/#caracteristicas-do-ec2","title":"Caracter\u00edsticas do EC2","text":"<p>O EC2 oferece as seguintes caracter\u00edsticas:</p> <ul> <li> <p>Escalabilidade: O EC2 permite que os usu\u00e1rios aumentem ou diminuam a capacidade de computa\u00e7\u00e3o conforme necess\u00e1rio, sem a necessidade de investir em hardware adicional.</p> </li> <li> <p>Flexibilidade: Os usu\u00e1rios podem escolher entre diferentes tipos de inst\u00e2ncias de acordo com suas necessidades de processamento, armazenamento e mem\u00f3ria.</p> </li> <li> <p>Seguran\u00e7a: O EC2 oferece v\u00e1rios recursos de seguran\u00e7a, incluindo criptografia de dados em tr\u00e2nsito e em repouso, gerenciamento de chaves e controle de acesso.</p> </li> <li> <p>Gerenciamento f\u00e1cil: O EC2 \u00e9 f\u00e1cil de usar e gerenciar, com recursos como o console da AWS, APIs e ferramentas de linha de comando.</p> </li> </ul>"},{"location":"conceitos/3.EC2/#como-funciona-o-ec2","title":"Como funciona o EC2","text":"<p>O EC2 funciona da seguinte maneira:</p> <ol> <li> <p>Os usu\u00e1rios criam uma ou mais inst\u00e2ncias de servidor virtual.</p> </li> <li> <p>Eles selecionam um tipo de inst\u00e2ncia com base em suas necessidades de processamento, mem\u00f3ria e armazenamento.</p> </li> <li> <p>Eles podem configurar o sistema operacional, o armazenamento, a rede e outros recursos da inst\u00e2ncia.</p> </li> <li> <p>Eles iniciam a inst\u00e2ncia e se conectam a ela usando um cliente SSH ou uma conex\u00e3o de \u00e1rea de trabalho remota.</p> </li> <li> <p>Eles podem instalar aplicativos e servi\u00e7os na inst\u00e2ncia e us\u00e1-la como um servidor ou como parte de uma arquitetura de aplicativo distribu\u00eddo.</p> </li> </ol>"},{"location":"conceitos/3.EC2/#precos-do-ec2","title":"Pre\u00e7os do EC2","text":"<p>Os pre\u00e7os do EC2 s\u00e3o baseados no tipo de inst\u00e2ncia, na regi\u00e3o em que ela \u00e9 executada e na quantidade de tempo em que a inst\u00e2ncia \u00e9 executada. Os usu\u00e1rios podem escolher entre modelos de pagamento sob demanda, onde eles pagam por hora de uso, ou modelos de inst\u00e2ncia reservada, onde eles fazem um compromisso a longo prazo e recebem um desconto significativo nos pre\u00e7os de inst\u00e2ncia.</p>"},{"location":"conceitos/3.EC2/#conclusao","title":"Conclus\u00e3o","text":"<p>O EC2 \u00e9 um servi\u00e7o poderoso e flex\u00edvel da AWS que permite que os usu\u00e1rios criem e gerenciem facilmente inst\u00e2ncias de servidor virtual na nuvem. Com recursos de seguran\u00e7a, escalabilidade e flexibilidade, o EC2 \u00e9 uma escolha popular para empresas de todos os tamanhos que desejam aproveitar os benef\u00edcios da nuvem.</p>"},{"location":"conceitos/4.Auto_Scaling/","title":"Auto Scaling na AWS","text":"<p>O Auto Scaling \u00e9 um recurso da Amazon Web Services (AWS) que permite dimensionar automaticamente os recursos da sua aplica\u00e7\u00e3o de acordo com a demanda do usu\u00e1rio. Com o Auto Scaling, voc\u00ea pode manter o desempenho da aplica\u00e7\u00e3o, economizar custos e garantir que seus usu\u00e1rios recebam a melhor experi\u00eancia poss\u00edvel.</p>"},{"location":"conceitos/4.Auto_Scaling/#como-funciona-o-auto-scaling","title":"Como funciona o Auto Scaling?","text":"<p>O Auto Scaling monitora as m\u00e9tricas de utiliza\u00e7\u00e3o dos recursos da sua aplica\u00e7\u00e3o, como CPU, mem\u00f3ria e tr\u00e1fego de rede. Com base nessas m\u00e9tricas, ele pode aumentar ou diminuir automaticamente o n\u00famero de inst\u00e2ncias de recursos da sua aplica\u00e7\u00e3o.</p> <p>Por exemplo, se a demanda do usu\u00e1rio aumentar, o Auto Scaling pode adicionar mais inst\u00e2ncias para lidar com o aumento de tr\u00e1fego. Quando a demanda diminuir, o Auto Scaling pode reduzir o n\u00famero de inst\u00e2ncias para economizar custos.</p> <p>O Auto Scaling tamb\u00e9m permite definir pol\u00edticas de escalonamento personalizadas com base em suas necessidades espec\u00edficas. Voc\u00ea pode definir uma pol\u00edtica de escalonamento para aumentar as inst\u00e2ncias quando a utiliza\u00e7\u00e3o da CPU atingir um determinado n\u00edvel ou para diminuir as inst\u00e2ncias quando a utiliza\u00e7\u00e3o da mem\u00f3ria estiver abaixo de um determinado n\u00edvel.</p>"},{"location":"conceitos/4.Auto_Scaling/#beneficios-do-auto-scaling","title":"Benef\u00edcios do Auto Scaling","text":"<p>Existem v\u00e1rios benef\u00edcios em usar o Auto Scaling na AWS, incluindo:</p> <ul> <li>Maior disponibilidade: o Auto Scaling ajuda a garantir que sua aplica\u00e7\u00e3o esteja sempre dispon\u00edvel, mesmo em momentos de pico de tr\u00e1fego.</li> <li>Economia de custos: o Auto Scaling permite que voc\u00ea aumente ou diminua automaticamente o n\u00famero de inst\u00e2ncias de recursos da sua aplica\u00e7\u00e3o com base na demanda do usu\u00e1rio, o que pode ajudar a economizar custos de infraestrutura.</li> <li>Melhor desempenho: o Auto Scaling pode ajudar a manter o desempenho da sua aplica\u00e7\u00e3o, garantindo que haja sempre recursos suficientes para lidar com a demanda do usu\u00e1rio.</li> </ul>"},{"location":"conceitos/4.Auto_Scaling/#conclusao","title":"Conclus\u00e3o","text":"<p>O Auto Scaling \u00e9 uma ferramenta essencial para garantir a escalabilidade, disponibilidade e desempenho da sua aplica\u00e7\u00e3o na AWS. Com o Auto Scaling, voc\u00ea pode automatizar o processo de escalonamento dos recursos da sua aplica\u00e7\u00e3o, economizar custos e garantir a melhor experi\u00eancia poss\u00edvel para seus usu\u00e1rios.</p>"},{"location":"conceitos/5.VPC/","title":"Servi\u00e7o de VPC na AWS","text":"<p>O Amazon Virtual Private Cloud (VPC) \u00e9 um servi\u00e7o que permite que voc\u00ea crie uma rede virtual isolada na nuvem da AWS. Com o VPC, voc\u00ea pode personalizar a sua pr\u00f3pria rede virtual em termos de sub-redes, roteamento e gateways de internet, e conectar a sua rede local ao seu ambiente de nuvem da AWS.</p>"},{"location":"conceitos/5.VPC/#caracteristicas-do-vpc","title":"Caracter\u00edsticas do VPC","text":"<p>Algumas das principais caracter\u00edsticas do VPC s\u00e3o:</p> <ul> <li> <p>Isolamento: O VPC permite que voc\u00ea crie uma rede isolada na nuvem da AWS, onde voc\u00ea pode executar recursos sem o risco de interfer\u00eancia de outras redes na nuvem.</p> </li> <li> <p>Personaliza\u00e7\u00e3o: Com o VPC, voc\u00ea pode personalizar a sua rede virtual de acordo com as suas necessidades, criando sub-redes p\u00fablicas e privadas, definindo as suas pr\u00f3prias tabelas de roteamento e configurando gateways de internet.</p> </li> <li> <p>Seguran\u00e7a: O VPC oferece recursos de seguran\u00e7a avan\u00e7ados, incluindo grupos de seguran\u00e7a e listas de controle de acesso (ACLs), para controlar o acesso aos recursos na sua rede.</p> </li> <li> <p>Conectividade: O VPC permite que voc\u00ea conecte a sua rede local ao ambiente de nuvem da AWS por meio de uma conex\u00e3o VPN ou uma conex\u00e3o direta.</p> </li> </ul>"},{"location":"conceitos/5.VPC/#componentes-do-vpc","title":"Componentes do VPC","text":"<p>O VPC \u00e9 composto por v\u00e1rios componentes, incluindo:</p> <ul> <li> <p>Sub-redes: As sub-redes s\u00e3o segmentos da rede que permitem que voc\u00ea agrupe recursos com base em suas funcionalidades e requisitos de seguran\u00e7a. Voc\u00ea pode criar sub-redes p\u00fablicas ou privadas e definir as suas pr\u00f3prias faixas de endere\u00e7os IP.</p> </li> <li> <p>Tabelas de roteamento: As tabelas de roteamento s\u00e3o usadas para determinar como o tr\u00e1fego \u00e9 encaminhado entre as sub-redes e para a internet. Voc\u00ea pode criar tabelas de roteamento personalizadas para cada sub-rede ou usar as tabelas de roteamento padr\u00e3o.</p> </li> <li> <p>Gateways de internet: Os gateways de internet s\u00e3o usados para permitir que o tr\u00e1fego da internet chegue \u00e0s sub-redes p\u00fablicas do VPC. Voc\u00ea pode criar e anexar um gateway de internet a uma sub-rede p\u00fablica para permitir o acesso \u00e0 internet.</p> </li> <li> <p>Grupos de seguran\u00e7a: Os grupos de seguran\u00e7a s\u00e3o usados para controlar o tr\u00e1fego de entrada e sa\u00edda para inst\u00e2ncias do Amazon EC2 na sua rede. Voc\u00ea pode criar grupos de seguran\u00e7a personalizados e especificar as regras de acesso para cada grupo.</p> </li> <li> <p>Listas de controle de acesso: As listas de controle de acesso (ACLs) s\u00e3o usadas para controlar o tr\u00e1fego de entrada e sa\u00edda para as sub-redes do VPC. Voc\u00ea pode criar ACLs personalizadas e especificar as regras de acesso para cada ACL.</p> </li> </ul>"},{"location":"conceitos/5.VPC/#conclusao","title":"Conclus\u00e3o","text":"<p>O Amazon Virtual Private Cloud (VPC) \u00e9 um servi\u00e7o essencial para aqueles que desejam criar e personalizar a sua pr\u00f3pria rede virtual na nuvem da AWS. Com o VPC, voc\u00ea pode criar uma rede isolada e segura, definir as suas pr\u00f3prias sub-redes e tabelas de roteamento, configurar gateways de internet e controlar o acesso aos recursos na sua rede.</p> <p>Compreender os componentes do VPC \u00e9 fundamental para criar uma rede virtual eficaz e segura na nuvem da AWS. Ao utilizar o VPC, voc\u00ea pode garantir que a sua rede esteja configurada corretamente para atender \u00e0s necessidades da sua empresa, al\u00e9m de garantir a seguran\u00e7a e a privacidade dos dados e dos recursos na nuvem da AWS.</p> <p>Al\u00e9m disso, o VPC pode ser integrado com outros servi\u00e7os da AWS, como o Amazon EC2, o Amazon RDS e o Amazon S3, para criar solu\u00e7\u00f5es avan\u00e7adas e escal\u00e1veis na nuvem. Com a sua flexibilidade e escalabilidade, o VPC \u00e9 uma ferramenta poderosa para aqueles que desejam aproveitar ao m\u00e1ximo a nuvem da AWS.</p>"},{"location":"conceitos/5.VPC/#resumo-do-resumo","title":"Resumo do resumo","text":"<p>Em resumo, o Amazon Virtual Private Cloud (VPC) \u00e9 um servi\u00e7o fundamental para criar uma rede virtual isolada e personalizada na nuvem da AWS. Com o VPC, voc\u00ea pode personalizar a sua rede virtual de acordo com as suas necessidades, controlar o acesso aos recursos e integr\u00e1-lo com outros servi\u00e7os da AWS para criar solu\u00e7\u00f5es avan\u00e7adas e escal\u00e1veis.</p>"},{"location":"conceitos/6.Elastic_BeanStalk/","title":"Elastic BeanStalk","text":"<p>O Elastic Beanstalk \u00e9 um servi\u00e7o da AWS que facilita a implanta\u00e7\u00e3o e a escalabilidade de aplicativos da web. O servi\u00e7o \u00e9 projetado para lidar com toda a complexidade da implanta\u00e7\u00e3o de aplicativos, incluindo a configura\u00e7\u00e3o de recursos de infraestrutura e o provisionamento de capacidade.</p>"},{"location":"conceitos/6.Elastic_BeanStalk/#caracteristicas-do-elastic-beanstalk","title":"Caracter\u00edsticas do Elastic Beanstalk","text":"<p>Algumas das principais caracter\u00edsticas do Elastic Beanstalk s\u00e3o:</p> <ul> <li> <p>Facilidade de uso: O Elastic Beanstalk permite que voc\u00ea implante e gerencie aplicativos da web e servi\u00e7os com facilidade, sem a necessidade de gerenciar a infraestrutura subjacente. Voc\u00ea pode usar v\u00e1rias linguagens de programa\u00e7\u00e3o, plataformas e servi\u00e7os da AWS para implantar o seu aplicativo.</p> </li> <li> <p>Autoscaling: O Elastic Beanstalk suporta o dimensionamento autom\u00e1tico, permitindo que voc\u00ea aumente ou diminua a capacidade de processamento do seu aplicativo com base na demanda do usu\u00e1rio.</p> </li> <li> <p>Integra\u00e7\u00e3o: O Elastic Beanstalk integra-se com outros servi\u00e7os da AWS, como o Amazon RDS, o Amazon S3 e o Amazon CloudWatch, para fornecer uma solu\u00e7\u00e3o completa para a implanta\u00e7\u00e3o de aplicativos.</p> </li> <li> <p>Visibilidade: O Elastic Beanstalk oferece visibilidade sobre o estado do seu aplicativo, com logs e m\u00e9tricas que ajudam a detectar e solucionar problemas rapidamente.</p> </li> </ul>"},{"location":"conceitos/6.Elastic_BeanStalk/#como-funciona-o-elastic-beanstalk","title":"Como funciona o Elastic Beanstalk","text":"<p>O Elastic Beanstalk automatiza o processo de implanta\u00e7\u00e3o e gerenciamento de aplicativos da web e servi\u00e7os na AWS. Para usar o Elastic Beanstalk, basta seguir alguns passos simples:</p> <ul> <li> <p>Crie um aplicativo: Crie um aplicativo na AWS que voc\u00ea deseja implantar usando o Elastic Beanstalk.</p> </li> <li> <p>Configure as op\u00e7\u00f5es do aplicativo: Escolha as op\u00e7\u00f5es de linguagem de programa\u00e7\u00e3o, plataforma e ambiente de tempo de execu\u00e7\u00e3o do seu aplicativo.</p> </li> <li> <p>Implante o aplicativo: Implante o aplicativo na plataforma Elastic Beanstalk e deixe que o servi\u00e7o gerencie a implanta\u00e7\u00e3o.</p> </li> <li> <p>Gerencie o aplicativo: Gerencie e monitore o estado do aplicativo por meio do console do Elastic Beanstalk ou por meio de ferramentas de linha de comando.</p> </li> </ul>"},{"location":"conceitos/6.Elastic_BeanStalk/#conclusao","title":"Conclus\u00e3o","text":"<p>O AWS Elastic Beanstalk \u00e9 um servi\u00e7o poderoso para aqueles que desejam implantar e gerenciar aplicativos da web e servi\u00e7os na nuvem da AWS. Com o Elastic Beanstalk, voc\u00ea pode implantar aplicativos com facilidade, escalar automaticamente a capacidade de processamento do seu aplicativo, integr\u00e1-lo com outros servi\u00e7os da AWS e obter visibilidade sobre o estado do seu aplicativo.</p> <p>Ao automatizar o processo de implanta\u00e7\u00e3o e gerenciamento de aplicativos, o Elastic Beanstalk permite que desenvolvedores se concentrem no desenvolvimento de aplicativos e na cria\u00e7\u00e3o de recursos de valor para os usu\u00e1rios finais. Em resumo, o AWS Elastic Beanstalk \u00e9 uma ferramenta essencial para aqueles que desejam aproveitar ao m\u00e1ximo a nuvem da AWS.</p>"},{"location":"conceitos/7.IAM/","title":"Servi\u00e7o AWS IAM","text":"<p>O AWS Identity and Access Management (IAM) \u00e9 um servi\u00e7o que permite que voc\u00ea gerencie com seguran\u00e7a o acesso aos recursos da AWS. Com o IAM, voc\u00ea pode criar e gerenciar usu\u00e1rios e grupos, conceder e revogar permiss\u00f5es e definir pol\u00edticas de acesso para controlar quem pode acessar quais recursos na sua conta da AWS.</p>"},{"location":"conceitos/7.IAM/#caracteristicas-do-aws-iam","title":"Caracter\u00edsticas do AWS IAM","text":"<p>Algumas das principais caracter\u00edsticas do AWS IAM s\u00e3o:</p> <ul> <li> <p>Gerenciamento de usu\u00e1rios e grupos: O IAM permite que voc\u00ea crie e gerencie usu\u00e1rios e grupos na sua conta da AWS. Voc\u00ea pode conceder e revogar permiss\u00f5es para usu\u00e1rios individuais ou grupos de usu\u00e1rios.</p> </li> <li> <p>Pol\u00edticas de acesso: O IAM permite que voc\u00ea crie pol\u00edticas de acesso para controlar quem pode acessar quais recursos na sua conta da AWS. Voc\u00ea pode definir pol\u00edticas para usu\u00e1rios individuais, grupos de usu\u00e1rios ou para toda a sua conta da AWS.</p> </li> <li> <p>Autentica\u00e7\u00e3o de usu\u00e1rios: O IAM fornece op\u00e7\u00f5es de autentica\u00e7\u00e3o de usu\u00e1rios, incluindo autentica\u00e7\u00e3o baseada em senha e autentica\u00e7\u00e3o de dois fatores.</p> </li> <li> <p>Monitoramento de atividade de usu\u00e1rios: O IAM registra todas as atividades dos usu\u00e1rios na sua conta da AWS, permitindo que voc\u00ea monitore quem est\u00e1 acessando seus recursos e o que eles est\u00e3o fazendo.</p> </li> </ul>"},{"location":"conceitos/7.IAM/#como-funciona-o-aws-iam","title":"Como funciona o AWS IAM","text":"<p>O AWS IAM funciona permitindo que voc\u00ea crie e gerencie usu\u00e1rios e grupos na sua conta da AWS. Voc\u00ea pode conceder e revogar permiss\u00f5es para usu\u00e1rios individuais ou grupos de usu\u00e1rios e definir pol\u00edticas de acesso para controlar quem pode acessar quais recursos na sua conta da AWS.</p> <p>Para usar o AWS IAM, basta seguir alguns passos simples:</p> <ol> <li> <p>Crie usu\u00e1rios e grupos: Crie usu\u00e1rios e grupos na sua conta da AWS usando o console do IAM ou a API do IAM.</p> </li> <li> <p>Defina pol\u00edticas de acesso: Defina pol\u00edticas de acesso para controlar quem pode acessar quais recursos na sua conta da AWS. Voc\u00ea pode definir pol\u00edticas para usu\u00e1rios individuais, grupos de usu\u00e1rios ou para toda a sua conta da AWS.</p> </li> <li> <p>Conceda permiss\u00f5es: Conceda permiss\u00f5es para usu\u00e1rios individuais ou grupos de usu\u00e1rios para permitir que eles acessem recursos na sua conta da AWS.</p> </li> <li> <p>Monitore a atividade de usu\u00e1rios: Monitore a atividade dos usu\u00e1rios na sua conta da AWS usando o console do IAM ou o AWS CloudTrail.</p> </li> </ol>"},{"location":"conceitos/7.IAM/#conclusao","title":"Conclus\u00e3o","text":"<p>O AWS Identity and Access Management (IAM) \u00e9 um servi\u00e7o essencial para aqueles que desejam gerenciar com seguran\u00e7a o acesso aos recursos da AWS. Com o IAM, voc\u00ea pode criar e gerenciar usu\u00e1rios e grupos, conceder e revogar permiss\u00f5es e definir pol\u00edticas de acesso para controlar quem pode acessar quais recursos na sua conta da AWS.</p> <p>Ao permitir que voc\u00ea crie e gerencie usu\u00e1rios e grupos e defina pol\u00edticas de acesso, o IAM ajuda a garantir que seus recursos da AWS estejam protegidos contra acessos n\u00e3o autorizados e fornece a voc\u00ea o controle necess\u00e1rio para gerenciar sua conta da AWS com seguran\u00e7a.</p>"},{"location":"conceitos/8.Pipeline/","title":"Servi\u00e7o AWS Pipeline","text":"<p>O AWS Pipeline \u00e9 um servi\u00e7o gerenciado de integra\u00e7\u00e3o e entrega cont\u00ednua (CI/CD) que permite automatizar o processo de implanta\u00e7\u00e3o de software na AWS. Com o AWS Pipeline, \u00e9 poss\u00edvel criar pipelines de implanta\u00e7\u00e3o que automatizam as etapas de compila\u00e7\u00e3o, teste e implanta\u00e7\u00e3o de software.</p>"},{"location":"conceitos/8.Pipeline/#caracteristicas-do-aws-pipeline","title":"Caracter\u00edsticas do AWS Pipeline","text":"<p>Algumas das principais caracter\u00edsticas do AWS Pipeline s\u00e3o:</p> <ul> <li> <p>Automa\u00e7\u00e3o do processo de implanta\u00e7\u00e3o: O AWS Pipeline automatiza o processo de implanta\u00e7\u00e3o de software na AWS, permitindo que voc\u00ea crie pipelines de implanta\u00e7\u00e3o que incluem compila\u00e7\u00e3o, teste e implanta\u00e7\u00e3o.</p> </li> <li> <p>Suporte a v\u00e1rias fontes de c\u00f3digo: O AWS Pipeline oferece suporte a v\u00e1rias fontes de c\u00f3digo, incluindo reposit\u00f3rios Git, reposit\u00f3rios S3 e reposit\u00f3rios do AWS CodeCommit.</p> </li> <li> <p>Integra\u00e7\u00e3o com outros servi\u00e7os da AWS: O AWS Pipeline se integra com outros servi\u00e7os da AWS, como o AWS CodeBuild, AWS CodeDeploy e AWS CloudFormation, permitindo que voc\u00ea crie pipelines de implanta\u00e7\u00e3o mais complexos.</p> </li> <li> <p>Visualiza\u00e7\u00e3o do progresso do pipeline: O AWS Pipeline oferece uma interface visual que permite que voc\u00ea visualize o progresso do pipeline de implanta\u00e7\u00e3o e identifique rapidamente quaisquer problemas que possam ocorrer durante o processo de implanta\u00e7\u00e3o.</p> </li> </ul>"},{"location":"conceitos/8.Pipeline/#como-funciona-o-aws-pipeline","title":"Como funciona o AWS Pipeline","text":"<p>O AWS Pipeline funciona criando pipelines de implanta\u00e7\u00e3o que automatizam as etapas de compila\u00e7\u00e3o, teste e implanta\u00e7\u00e3o de software. Para usar o AWS Pipeline, basta seguir alguns passos simples:</p> <ol> <li> <p>Criar um pipeline: Crie um pipeline de implanta\u00e7\u00e3o no console do AWS Pipeline ou usando a API do AWS Pipeline.</p> </li> <li> <p>Configurar a origem do c\u00f3digo: Escolha a fonte do c\u00f3digo para o pipeline, como um reposit\u00f3rio Git ou S3.</p> </li> <li> <p>Configurar a compila\u00e7\u00e3o: Configure a compila\u00e7\u00e3o do c\u00f3digo usando o AWS CodeBuild ou outro servi\u00e7o de compila\u00e7\u00e3o.</p> </li> <li> <p>Configurar o teste: Configure o teste do c\u00f3digo usando ferramentas de teste, como o AWS CodeBuild.</p> </li> <li> <p>Configurar a implanta\u00e7\u00e3o: Configure a implanta\u00e7\u00e3o do c\u00f3digo usando o AWS CodeDeploy ou outro servi\u00e7o de implanta\u00e7\u00e3o.</p> </li> <li> <p>Executar o pipeline: Execute o pipeline de implanta\u00e7\u00e3o e monitore o progresso usando a interface visual do AWS Pipeline.</p> </li> </ol>"},{"location":"conceitos/8.Pipeline/#conclusao","title":"Conclus\u00e3o","text":"<p>O AWS Pipeline \u00e9 uma solu\u00e7\u00e3o eficiente e escal\u00e1vel para a automa\u00e7\u00e3o do processo de implanta\u00e7\u00e3o de software na AWS. Com o AWS Pipeline, \u00e9 poss\u00edvel criar pipelines de implanta\u00e7\u00e3o que automatizam as etapas de compila\u00e7\u00e3o, teste e implanta\u00e7\u00e3o de software, permitindo que voc\u00ea implante seu software com mais rapidez e seguran\u00e7a.</p> <p>Ao oferecer suporte a v\u00e1rias fontes de c\u00f3digo e integrar-se com outros servi\u00e7os da AWS, como o AWS CodeBuild, AWS CodeDeploy e AWS CloudFormation, o AWS Pipeline permite que voc\u00ea crie pipelines de implanta\u00e7\u00e3o mais complexos para atender \u00e0s suas necessidades espec\u00edficas de implanta\u00e7\u00e3o de software.</p>"},{"location":"conceitos/9.ECS/","title":"Servi\u00e7o AWS ECS","text":"<p>O Amazon Elastic Container Service (ECS) \u00e9 um servi\u00e7o gerenciado que permite executar aplicativos em cont\u00eaineres na nuvem da AWS. Ele ajuda a implantar e gerenciar aplicativos em cont\u00eaineres com facilidade e seguran\u00e7a, usando um ambiente escal\u00e1vel e flex\u00edvel.</p>"},{"location":"conceitos/9.ECS/#caracteristicas-do-aws-ecs","title":"Caracter\u00edsticas do AWS ECS","text":"<p>Algumas das principais caracter\u00edsticas do AWS ECS s\u00e3o:</p> <ul> <li> <p>Gerenciamento de cont\u00eaineres escal\u00e1vel: O ECS \u00e9 um servi\u00e7o altamente escal\u00e1vel que permite executar milhares de cont\u00eaineres em uma \u00fanica inst\u00e2ncia.</p> </li> <li> <p>Alta disponibilidade: O ECS \u00e9 projetado para oferecer alta disponibilidade, reduzindo a possibilidade de interrup\u00e7\u00f5es de servi\u00e7o.</p> </li> <li> <p>Integra\u00e7\u00e3o com outros servi\u00e7os da AWS: O ECS \u00e9 integrado com outros servi\u00e7os da AWS, como o Elastic Load Balancer, o Amazon S3 e o Amazon VPC.</p> </li> <li> <p>Suporte a v\u00e1rios tipos de cont\u00eaineres: O ECS oferece suporte a v\u00e1rios tipos de cont\u00eaineres, incluindo Docker e containerd.</p> </li> </ul>"},{"location":"conceitos/9.ECS/#como-funciona-o-aws-ecs","title":"Como funciona o AWS ECS","text":"<p>O AWS ECS \u00e9 composto de v\u00e1rios componentes, incluindo clusters, servi\u00e7os e tarefas. O ECS usa o Amazon EC2 para executar cont\u00eaineres em inst\u00e2ncias EC2, ou o AWS Fargate para executar cont\u00eaineres sem precisar gerenciar inst\u00e2ncias EC2.</p> <p>Para usar o AWS ECS, siga estes passos simples:</p> <ol> <li> <p>Crie um cluster: Crie um cluster ECS para executar seus aplicativos em cont\u00eaineres. Os clusters s\u00e3o criados usando o console do ECS ou a API do ECS.</p> </li> <li> <p>Defina tarefas: Crie uma ou mais tarefas que descrevam como executar um ou mais cont\u00eaineres.</p> </li> <li> <p>Crie servi\u00e7os: Crie um ou mais servi\u00e7os que usem as tarefas definidas para gerenciar a execu\u00e7\u00e3o de cont\u00eaineres.</p> </li> <li> <p>Inicie a execu\u00e7\u00e3o: Inicie a execu\u00e7\u00e3o de seus servi\u00e7os para implantar seus aplicativos em cont\u00eaineres.</p> </li> <li> <p>Gerencie os servi\u00e7os: Gerencie os servi\u00e7os implantados para garantir que eles estejam sempre em execu\u00e7\u00e3o e dispon\u00edveis.</p> </li> </ol>"},{"location":"conceitos/9.ECS/#conclusao","title":"Conclus\u00e3o","text":"<p>O Amazon Elastic Container Service (ECS) \u00e9 uma plataforma eficiente para executar e gerenciar aplicativos em cont\u00eaineres na nuvem da AWS. Com sua alta escalabilidade e flexibilidade, o ECS \u00e9 uma solu\u00e7\u00e3o ideal para empresas que buscam uma forma segura e confi\u00e1vel de executar aplicativos em cont\u00eaineres.</p> <p>Ao integrar-se com outros servi\u00e7os da AWS, como o Elastic Load Balancer, o Amazon S3 e o Amazon VPC, o ECS permite que voc\u00ea crie uma infraestrutura de aplicativos em cont\u00eaineres altamente personalizada que atenda \u00e0s suas necessidades espec\u00edficas.</p>"},{"location":"conceitos/changelog/","title":"Changelog","text":""},{"location":"conceitos/changelog/#material-for-mkdocs-insiders","title":"Material for MkDocs Insiders","text":""},{"location":"conceitos/changelog/#4.21.1","title":"4.21.1 _ August 13, 2022","text":"<ul> <li>Fixed #4176: Broken image when avatar is served by Gravatar</li> <li>Fixed #4212: Deferred search initialization for file:// locations</li> </ul>"},{"location":"conceitos/changelog/#4.21.0","title":"4.21.0 _ July 17, 2022","text":"<ul> <li>Added meta plugin: set front matter for all pages in a folder</li> <li>Fixed #4114: Tags plugin fails if only <code>tags_extra_files</code> is set</li> </ul>"},{"location":"conceitos/changelog/#4.20.1","title":"4.20.1 _ July 11, 2022","text":"<ul> <li>Fixed #4105: Tags plugin fails if <code>tags_file</code> is not set (4.20.0 regression)</li> </ul>"},{"location":"conceitos/changelog/#4.20.0","title":"4.20.0 _ July 7, 2022","text":"<ul> <li>Added support for additional tags indexes</li> <li>Fixed #4100: Tag icons not shown in tags index</li> </ul>"},{"location":"conceitos/changelog/#4.19.2","title":"4.19.2 _ July 4, 2022","text":"<ul> <li>Fixed #4051: Privacy plugin fails if symlinking isn't allowed on Windows</li> </ul>"},{"location":"conceitos/changelog/#4.19.1","title":"4.19.1 _ June 25, 2022","text":"<ul> <li>Added <code>mkdocs-git-committers-plugin</code> to Dockerfile</li> <li>Added <code>mkdocs-git-revision-date-localized-plugin</code> to Dockerfile</li> </ul>"},{"location":"conceitos/changelog/#4.19.0","title":"4.19.0 _ June 24, 2022","text":"<ul> <li>Added support for document contributors</li> <li>Updated French translations for cookie consent</li> </ul>"},{"location":"conceitos/changelog/#4.18.2","title":"4.18.2 _ June 16, 2022","text":"<ul> <li>Fixed #4026: Fixed tooltips not mounted for nested navigation links</li> </ul>"},{"location":"conceitos/changelog/#4.18.1","title":"4.18.1 _ June 14, 2022","text":"<ul> <li>Fixed #3990: Chinese search highlighting not working on non-boundaries</li> </ul>"},{"location":"conceitos/changelog/#4.18.0","title":"4.18.0 _ June 11, 2022","text":"<ul> <li>Added support for automatic dark/light mode</li> <li>Fixed #4009: Privacy plugin uses invalid paths for file cache on Windows</li> </ul>"},{"location":"conceitos/changelog/#4.17.2","title":"4.17.2 _ June 5, 2022","text":"<ul> <li>Added support for custom jieba dictionaries (Chinese search)</li> </ul>"},{"location":"conceitos/changelog/#4.17.1","title":"4.17.1 _ June 5, 2022","text":"<ul> <li>Added support for cookie consent reject button</li> <li>Added support for cookie consent custom button ordering</li> <li>Fixed #3988: Content tab not focused after alternating anchor links</li> </ul>"},{"location":"conceitos/changelog/#4.17.0","title":"4.17.0 _ June 4, 2022","text":"<ul> <li>Added support for content tabs anchor links (deep linking)</li> <li>Fixed #3975: Detect composition events in search interface (Chinese)</li> <li>Fixed #3980: Search plugin doesn't use title set via front matter</li> </ul>"},{"location":"conceitos/changelog/#4.16.2","title":"4.16.2 _ May 29, 2022","text":"<ul> <li>Fixed #3961: Nested sections triggered build error for navigation tabs</li> </ul>"},{"location":"conceitos/changelog/#4.16.1","title":"4.16.1 _ May 28, 2022","text":"<ul> <li>Switched feedback widget rating titles to tooltips</li> <li>Improved contrast of link colors for light/dark color schemes</li> <li>Fixed #3950: Sticky navigation tabs rendering broken (4.15.2 regression)</li> <li>Fixed #3958: Links invisible when using <code>white</code> primary color</li> </ul>"},{"location":"conceitos/changelog/#4.16.0","title":"4.16.0 _ May 25, 2022","text":"<ul> <li>Added support for navigation pruning</li> <li>Fixed search results for non-segmented characters (4.15.2 regression)</li> </ul>"},{"location":"conceitos/changelog/#4.15.2","title":"4.15.2 _ May 22, 2022","text":"<ul> <li>Removed workaround for <code>abbr</code> on touch devices (superseded by tooltips)</li> <li>Fixed #3915: Improved Chinese search query segmentation</li> <li>Fixed #3938: Fixed tooltips position for navigation titles with ellipsis</li> </ul>"},{"location":"conceitos/changelog/#4.15.1","title":"4.15.1 _ May 14, 2022","text":"<ul> <li>Improved performance of element focus obervables</li> <li>Fixed #3531: Added prev/next buttons to content tabs</li> <li>Fixed tooltip positioning when host element is hidden</li> </ul>"},{"location":"conceitos/changelog/#4.15.0","title":"4.15.0 _ May 8, 2022","text":"<ul> <li>Added support for improved tooltips</li> <li>Fixed #3785: Show tooltip on hover for overflowing navigation link</li> </ul>"},{"location":"conceitos/changelog/#4.14.0","title":"4.14.0 _ May 5, 2022","text":"<ul> <li>Added Chinese language support to built-in search plugin</li> <li>Fixed all-numeric page titles raising error in social plugin</li> </ul>"},{"location":"conceitos/changelog/#4.13.2","title":"4.13.2 _ April 30, 2022","text":"<ul> <li>Improved caching of downloaded resources in privacy plugin</li> <li>Fixed #3851: External images not downloaded by privacy plugin</li> </ul>"},{"location":"conceitos/changelog/#4.13.1","title":"4.13.1 _ April 25, 2022","text":"<ul> <li>Fixed #3839: Tags plugin breaks without icons (4.13.0 regression)</li> </ul>"},{"location":"conceitos/changelog/#4.13.0","title":"4.13.0 _ April 24, 2022","text":"<ul> <li>Added support for tag icons</li> </ul>"},{"location":"conceitos/changelog/#4.12.0","title":"4.12.0 _ March 27, 2022","text":"<ul> <li>Added support for card grids and grid layouts</li> <li>Fixed #3685: Annotations sometimes broken when using instant loading </li> <li>Fixed #3742: Automatically add Mermaid.js when building for offline usage</li> </ul>"},{"location":"conceitos/changelog/#4.11.0","title":"4.11.0 _ March 6, 2022","text":"<ul> <li>Added support for excluding external assets from privacy plugin</li> </ul>"},{"location":"conceitos/changelog/#4.10.1","title":"4.10.1 _ March 2, 2022","text":"<ul> <li>Added missing build dependencies to Dockerfile</li> <li>Fixed encoding issues in privacy plugin, now forcing UTF-8 encoding</li> <li>Fixed #3624: Scroll to active navigation item unreliable in Firefox</li> <li>Fixed #3642: Privacy plugin errors when font setting was omitted</li> </ul>"},{"location":"conceitos/changelog/#4.10.0","title":"4.10.0 _ February 27, 2022","text":"<ul> <li>Added support for offline plugin (supersedes offline search support)</li> <li>Improved built-in privacy plugin to download nested JavaScript assets</li> <li>Refactored configuration of built-in privacy plugin</li> </ul>"},{"location":"conceitos/changelog/#4.9.1","title":"4.9.1 _ February 21, 2022","text":"<ul> <li>Fixed #3610: missing <code>lxml</code> dependency for privacy plugin</li> <li>Fixed error when charset is missing in <code>content-type</code> header</li> </ul>"},{"location":"conceitos/changelog/#4.9.0","title":"4.9.0 _ February 20, 2022","text":"<ul> <li>Added privacy plugin: automatic downloading of external assets</li> </ul>"},{"location":"conceitos/changelog/#4.8.3","title":"4.8.3 _ February 13, 2022","text":"<ul> <li>Fixed #3560: Mermaid diagrams don't render for <code>file://</code> locations</li> </ul>"},{"location":"conceitos/changelog/#4.8.2","title":"4.8.2 _ February 10, 2022","text":"<ul> <li>Fixed #3559: Mermaid diagrams don't render inside closed <code>details</code></li> </ul>"},{"location":"conceitos/changelog/#4.8.1","title":"4.8.1 _ February 6, 2022","text":"<ul> <li>Fixed jump back to top on mobile when using anchor following</li> </ul>"},{"location":"conceitos/changelog/#4.8.0","title":"4.8.0 _ February 6, 2022","text":"<ul> <li>Added support for anchor following table of contents (= auto scroll)</li> </ul>"},{"location":"conceitos/changelog/#4.7.2","title":"4.7.2 _ February 2, 2022","text":"<ul> <li>Fixed #3526: Transparent sidebar title due to Safari bug</li> <li>Fixed #3528: Firefox sometimes clips text in flow chart diagrams</li> </ul>"},{"location":"conceitos/changelog/#4.7.1","title":"4.7.1 _ January 30, 2022","text":"<ul> <li>Fixed #3506: Tags index not respecting title set via front matter</li> </ul>"},{"location":"conceitos/changelog/#4.7.0","title":"4.7.0 _ January 25, 2022","text":"<ul> <li>Added native support for offline search</li> </ul>"},{"location":"conceitos/changelog/#4.6.1","title":"4.6.1 _ January 16, 2022","text":"<ul> <li>Fixed #3459: Section index pages picking up wrong title</li> </ul>"},{"location":"conceitos/changelog/#4.6.0","title":"4.6.0 _ January 11, 2022","text":"<ul> <li>Added support for annotations (outside of code blocks)</li> </ul>"},{"location":"conceitos/changelog/#4.5.2","title":"4.5.2 _ January 8, 2022","text":"<ul> <li>Fixed #3440: Content tab indicator not moving when using linking</li> <li>Fixed #3445: Content tab switch flickers/jitters when using linking</li> </ul>"},{"location":"conceitos/changelog/#4.5.1","title":"4.5.1 _ January 2, 2022","text":"<ul> <li>Added support for setting initial state of cookie consent</li> <li>Fixed #3396: Disappearing link in navigation due to Safari bug</li> </ul>"},{"location":"conceitos/changelog/#4.5.0","title":"4.5.0 _ December 16, 2021","text":"<ul> <li>Added support for navigation icons</li> </ul>"},{"location":"conceitos/changelog/#4.4.0","title":"4.4.0 _ December 10, 2021","text":"<ul> <li>Added support for code annotation anchor links (deep linking)</li> <li>Added new code annotation syntax modifier to strip comment</li> <li>Updated German translations for cookie consent</li> </ul>"},{"location":"conceitos/changelog/#4.3.0","title":"4.3.0 _ December 5, 2021","text":"<ul> <li>Added support for custom fonts in social cards</li> <li>Fixed #3300: Announcement bar reappearing when using instant loading</li> </ul>"},{"location":"conceitos/changelog/#4.2.0","title":"4.2.0 _ December 2, 2021","text":"<ul> <li>Added support for dismissable announcement bar</li> <li>Added support for named placeholders in feedback widget</li> </ul>"},{"location":"conceitos/changelog/#4.1.0","title":"4.1.0 _ November 30, 2021","text":"<ul> <li>Added support for passing page title to feedback forms</li> </ul>"},{"location":"conceitos/changelog/#4.0.0","title":"4.0.0 _ November 28, 2021","text":"<ul> <li>Removed deprecated content tabs legacy implementation</li> <li>Removed deprecated <code>seealso</code> admonition type</li> <li>Removed deprecated <code>site_keywords</code> setting (unsupported by MkDocs)</li> <li>Removed deprecated prebuilt search index support</li> <li>Removed deprecated web app manifest \u2013 use customization</li> <li>Removed <code>extracopyright</code> variable \u2013 use new <code>copyright</code> partial</li> <li>Removed Disqus integation \u2013 use customization</li> <li>Switched to <code>:is()</code> selectors for simple selector lists</li> <li>Switched autoprefixer from <code>last 4 years</code> to <code>last 2 years</code></li> <li>Improved CSS overall to match modern standards</li> <li>Improved CSS variable semantics for fonts</li> <li>Improved extensibility by restructuring partials</li> <li>Improved handling of <code>details</code> when printing</li> <li>Improved keyboard navigation for footnotes</li> <li>Fixed #3214: Search highlighting breaks site when empty</li> </ul>"},{"location":"conceitos/changelog/#3.2.3","title":"3.2.3 _ November 20, 2021","text":"<ul> <li>Updated Swedish and French translations</li> <li>Removed support for <code>.mermaid-experimental</code> class (now <code>.mermaid</code>)</li> <li>Fixed #3202: Cookie consent not dismissable on <code>file://</code> locations</li> <li>Fixed #3216: Cookie consent not dismissed when invoked via anchor</li> <li>Fixed #3232: Mermaid.js sometimes runs twice (race condition)</li> </ul>"},{"location":"conceitos/changelog/#3.2.2","title":"3.2.2 _ November 6, 2021","text":"<ul> <li>Fixed always last feedback rating being sent</li> <li>Fixed #3145: Code annotations eat whole comment lines</li> <li>Fixed #3170: Feedback widget doesn't send data to GA4</li> </ul>"},{"location":"conceitos/changelog/#3.2.1","title":"3.2.1 _ November 4, 2021","text":"<ul> <li>Added support for custom Mermaid.js version via additional JavaScript</li> <li>Fixed some configuration edge cases for tags plugin (3.1.5 regression)</li> <li>Fixed feedback widget title not being centered in Firefox</li> <li>Fixed #3179: Safari doesn't send request for feedback widget</li> </ul>"},{"location":"conceitos/changelog/#3.2.0","title":"3.2.0 _ October 31, 2021","text":"<ul> <li>Added support for feedback widget (Was this page helpful?)</li> </ul>"},{"location":"conceitos/changelog/#3.1.5","title":"3.1.5 _ October 28, 2021","text":"<ul> <li>Fixed #3144: Rogue link when using tags with auto-populated navigation</li> <li>Fixed #3147: Code block line numbers appear in search results</li> <li>Fixed #3158: Social cards do not strip HTML tags from title</li> </ul>"},{"location":"conceitos/changelog/#3.1.4","title":"3.1.4 _ October 17, 2021","text":"<ul> <li>Fixed #2974: Text cropped with other fonts than <code>Roboto</code> in social plugin</li> <li>Fixed #3099: Encoding problems with non-latin character in social plugin</li> <li>Fixed #3112: Japanese segmenter not executed as part of new tokenizer</li> <li>Fixed tags (front matter) appearing in search with disabled tags plugin</li> </ul>"},{"location":"conceitos/changelog/#3.1.3","title":"3.1.3 _ October 12, 2021","text":"<ul> <li>Added warnings to search plugin for unsupported options and syntax</li> <li>Fixed #3503: Search sometimes returns entire page</li> <li>Fixed #3089: Single-line code annotations disappear when printing</li> </ul>"},{"location":"conceitos/changelog/#3.1.2","title":"3.1.2 _ October 6, 2021","text":"<ul> <li>Fixed incorrect path separators for social cards on Windows</li> </ul>"},{"location":"conceitos/changelog/#3.1.1","title":"3.1.1 _ September 26, 2021","text":"<ul> <li>Fixed ordering bug in search exclusion logic</li> </ul>"},{"location":"conceitos/changelog/#3.1.0","title":"3.1.0 _ September 26, 2021","text":"<ul> <li>Added support for excluding pages, sections, and elements from search</li> <li>Fixed #2803: Code block annotations not visible when printing</li> </ul>"},{"location":"conceitos/changelog/#3.0.1","title":"3.0.1 _ September 19, 2021","text":"<ul> <li>Added support for using literal <code>h1-6</code> tags for search plugin</li> <li>Fixed search plugin breaking on void elements without slashes</li> <li>Fixed search plugin filtering link contents from headlines</li> <li>Fixed search plugin handling of multiple <code>h1</code> headlines</li> <li>Fixed search plugin handling of missing <code>h1</code> headlines</li> </ul>"},{"location":"conceitos/changelog/#3.0.0","title":"3.0.0 _ September 13, 2021","text":"<ul> <li>Rewrite of MkDocs' search plugin</li> <li>Added support for rich search previews</li> <li>Added support for tokenizer with lookahead</li> <li>Improved search indexing performance (twice as fast)</li> <li>Improved search highlighting</li> </ul>"},{"location":"conceitos/changelog/#2.13.3","title":"2.13.3 _ September 1, 2021","text":"<ul> <li>Added support for disabling social card generation</li> </ul>"},{"location":"conceitos/changelog/#2.13.2","title":"2.13.2 _ August 25, 2021","text":"<ul> <li>Fixed #2965: Social plugin error when primary color is not defined</li> </ul>"},{"location":"conceitos/changelog/#2.13.1","title":"2.13.1 _ August 21, 2021","text":"<ul> <li>Fixed #2948: Social cards are not cached</li> <li>Fixed #2953: Mermaid.js diagrams can't be centered anymore</li> </ul>"},{"location":"conceitos/changelog/#2.13.0","title":"2.13.0 _ August 7, 2021","text":"<ul> <li>Added support for custom colors in social cards</li> </ul>"},{"location":"conceitos/changelog/#2.12.2","title":"2.12.2 _ August 4, 2021","text":"<ul> <li>Fixed #2891: Division by zero error in social plugin</li> </ul>"},{"location":"conceitos/changelog/#2.12.1","title":"2.12.1 _ July 26, 2021","text":"<ul> <li>Fixed error in social plugin when <code>site_description</code> was not set</li> <li>Fixed error in social plugin for non-ASCII characters</li> </ul>"},{"location":"conceitos/changelog/#2.12.0","title":"2.12.0 _ July 25, 2021","text":"<ul> <li>Added support for social cards</li> </ul>"},{"location":"conceitos/changelog/#2.11.1","title":"2.11.1 _ July 20, 2021","text":"<ul> <li>Fixed order of tags index, now sorted alphabetically</li> </ul>"},{"location":"conceitos/changelog/#2.11.0","title":"2.11.0 _ July 18, 2021","text":"<ul> <li>Improved Mermaid.js intergration, now stable</li> <li>Added support for sequence diagrams</li> <li>Added support for entity relationship diagrams</li> <li>Added support for cookie consent configuration</li> <li>Added feature flag to always enable annotations</li> </ul>"},{"location":"conceitos/changelog/#2.10.0","title":"2.10.0 _ July 10, 2021","text":"<ul> <li>Added support for cookie consent</li> <li>Fixed #2807: Back-to-top button not hidden when using sticky tabs</li> </ul>"},{"location":"conceitos/changelog/#2.9.2","title":"2.9.2 _ May 30, 2021","text":"<ul> <li>Moved tags to partial for easier customization</li> <li>Added support for hiding tags on any page</li> </ul>"},{"location":"conceitos/changelog/#2.9.1","title":"2.9.1 _ May 24, 2021","text":"<ul> <li>Added missing guard for linking of content tabs</li> </ul>"},{"location":"conceitos/changelog/#2.9.0","title":"2.9.0 _ May 23, 2021","text":"<ul> <li>Added support for linking of content tabs</li> </ul>"},{"location":"conceitos/changelog/#2.8.0","title":"2.8.0 _ May 12, 2021","text":"<ul> <li>Added support for boosting pages in search</li> </ul>"},{"location":"conceitos/changelog/#2.7.2","title":"2.7.2 _ May 8, 2021","text":"<ul> <li>Fixed #2638: Warnings shown when using <code>tags</code> plugin without directory URLs</li> </ul>"},{"location":"conceitos/changelog/#2.7.1","title":"2.7.1 _ May 3, 2021","text":"<ul> <li>Fixed <code>git-revision-date-localized</code> plugin integration (2.7.0 regression)</li> </ul>"},{"location":"conceitos/changelog/#2.7.0","title":"2.7.0 _ May 1, 2021","text":"<ul> <li>Added support for tags (with search integration)</li> </ul>"},{"location":"conceitos/changelog/#2.6.0","title":"2.6.0 _ April 11, 2021","text":"<ul> <li>Stay on page when switching versions</li> </ul>"},{"location":"conceitos/changelog/#2.5.0","title":"2.5.0 _ March 28, 2021","text":"<ul> <li>Added support for version warning</li> </ul>"},{"location":"conceitos/changelog/#2.4.0","title":"2.4.0 _ March 20, 2021","text":"<ul> <li>Added support for custom admonition icons</li> <li>Fixed #2444: Code block annotations with extra comments have wrong index</li> </ul>"},{"location":"conceitos/changelog/#2.3.1","title":"2.3.1 _ March 14, 2021","text":"<ul> <li>Fixed anchor offset for permalinks when using sticky navigation tabs</li> </ul>"},{"location":"conceitos/changelog/#2.3.0","title":"2.3.0 _ March 13, 2021","text":"<ul> <li>Added support for back-to-top button</li> </ul>"},{"location":"conceitos/changelog/#2.2.1","title":"2.2.1 _ March 4, 2021","text":"<ul> <li>Fixed #2382: Repository stats failing when no release tag is present</li> </ul>"},{"location":"conceitos/changelog/#2.2.0","title":"2.2.0 _ February 28, 2021","text":"<ul> <li>Added support for code block annotations</li> </ul>"},{"location":"conceitos/changelog/#2.1.0","title":"2.1.0 _ February 26, 2021","text":"<ul> <li>Added support for anchor tracking</li> </ul>"},{"location":"conceitos/changelog/#2.0.0","title":"2.0.0 _ February 24, 2021","text":"<ul> <li>Migrated Insiders to the new architecture</li> <li>Swapped color palette toggle configuration</li> </ul>"},{"location":"conceitos/changelog/#1.17.0","title":"1.17.0 _ January 31, 2021","text":"<ul> <li>Added support for section index pages</li> </ul>"},{"location":"conceitos/changelog/#1.16.1","title":"1.16.1 _ January 26, 2021","text":"<ul> <li>Fixed #2249: Instant loading + sticky tabs result in invalid links</li> <li>Fixed #2248: Search highlighting URL parameter always added</li> <li>Fixed #2235: Version selector doesn't select current version for aliases</li> </ul>"},{"location":"conceitos/changelog/#1.16.0","title":"1.16.0 _ January 7, 2021","text":"<ul> <li>Added latest release to repository info (GitHub)</li> <li>Slight facelift of repository info (lighter fonts, spacing and icons)</li> </ul>"},{"location":"conceitos/changelog/#1.15.0","title":"1.15.0 _ January 2, 2021","text":"<ul> <li>Added support for native Mermaid.js integration</li> </ul>"},{"location":"conceitos/changelog/#1.14.0","title":"1.14.0 _ December 30, 2020","text":"<ul> <li>Added support for sharing searches</li> </ul>"},{"location":"conceitos/changelog/#1.13.2","title":"1.13.2 _ December 22, 2020","text":"<ul> <li>Fixed version selector + sticky tabs navigation rendering issues</li> <li>Fixed version selector wrapping</li> </ul>"},{"location":"conceitos/changelog/#1.13.1","title":"1.13.1 _ December 20, 2020","text":"<ul> <li>Removed horizontal scrollbars on language and version selector</li> <li>Fixed type conversion in JavaScript config</li> </ul>"},{"location":"conceitos/changelog/#1.13.0","title":"1.13.0 _ December 13, 2020","text":"<ul> <li>Refactored navigation tabs to simplify grouping behavior</li> <li>Added support for sticky navigation tabs</li> <li>Added support for arbitrary links in navigation tabs</li> <li>Fixed #2098: Subsequent active subsection not highlighted correctly</li> </ul>"},{"location":"conceitos/changelog/#1.12.1","title":"1.12.1 _ December 8, 2020","text":"<ul> <li>Fixed empty language selector being shown</li> </ul>"},{"location":"conceitos/changelog/#1.12.0","title":"1.12.0 _ December 6, 2020","text":"<ul> <li>Added support for adding a language selector</li> </ul>"},{"location":"conceitos/changelog/#1.11.2","title":"1.11.2 _ November 29, 2020","text":"<ul> <li>Fixed #2068: Search highlight interprets code blocks as JavaScript</li> </ul>"},{"location":"conceitos/changelog/#1.11.1","title":"1.11.1 _ November 29, 2020","text":"<ul> <li>Refactored styling to be more stable and easier to adjust</li> <li>Fixed some styling regressions from latest features</li> </ul>"},{"location":"conceitos/changelog/#1.11.0","title":"1.11.0 _ November 22, 2020","text":"<ul> <li>Added support for rendering admonitions as inline blocks</li> </ul>"},{"location":"conceitos/changelog/#1.10.0","title":"1.10.0 _ November 15, 2020","text":"<ul> <li>Added support for integrating table of contents into navigation</li> </ul>"},{"location":"conceitos/changelog/#1.9.0","title":"1.9.0 _ November 7, 2020","text":"<ul> <li>Added support for hiding navigation and table of contents on any page</li> <li>Removed autohiding table of contents when empty</li> </ul>"},{"location":"conceitos/changelog/#1.8.0","title":"1.8.0 _ November 1, 2020","text":"<ul> <li>Added support for navigation sections</li> <li>Fixed appearance of inactive search suggestions</li> </ul>"},{"location":"conceitos/changelog/#1.7.0","title":"1.7.0 _ October 25, 2020","text":"<ul> <li>Added support for deploying multiple versions</li> <li>Fixed alignment of sidebar when content area is too small</li> </ul>"},{"location":"conceitos/changelog/#1.6.0","title":"1.6.0 _ October 11, 2020","text":"<ul> <li>Added support for search suggestions to save keystrokes</li> <li>Added support for removing Made with Material for MkDocs from footer</li> <li>Fixed #1915: search should go to first result by pressing Enter</li> </ul>"},{"location":"conceitos/changelog/#1.5.1","title":"1.5.1 _ September 21, 2020","text":"<ul> <li>Fixed content area stretching to whole width for long code blocks</li> </ul>"},{"location":"conceitos/changelog/#1.5.0","title":"1.5.0 _ September 19, 2020","text":"<ul> <li>Added support for autohiding table of contents when empty</li> </ul>"},{"location":"conceitos/changelog/#1.4.1","title":"1.4.1 _ September 6, 2020","text":"<ul> <li>Improved typeahead and search result relevance and scoring</li> </ul>"},{"location":"conceitos/changelog/#1.4.0","title":"1.4.0 _ August 30, 2020","text":"<ul> <li>Added support for autohiding header on scroll</li> </ul>"},{"location":"conceitos/changelog/#1.3.0","title":"1.3.0 _ August 26, 2020","text":"<ul> <li>Added support for user-selectable color palettes</li> </ul>"},{"location":"conceitos/changelog/#1.2.0","title":"1.2.0 _ August 11, 2020","text":"<ul> <li>Added feature to expand navigation by default</li> </ul>"},{"location":"conceitos/changelog/#1.1.0","title":"1.1.0 _ August 3, 2020","text":"<ul> <li>Added highlighting of search results</li> </ul>"},{"location":"conceitos/changelog/#1.0.0","title":"1.0.0 _ July 14, 2020","text":"<ul> <li>Added grouping of search results</li> <li>Added missing query terms to search result</li> <li>Improved search result relevance and scoring</li> </ul>"},{"location":"conceitos/construcao/","title":"Em Contru\u00e7\u00e3o","text":""},{"location":"conceitos/construcao/#visualizacao-do-processo-de-contrucao","title":"Visualiza\u00e7\u00e3o do Processo de Contru\u00e7\u00e3o","text":""},{"location":"conceitos/projeto_2022/","title":"Projeto Cloud 2022","text":"<p>Infraestrutura como c\u00f3digo \u00e9 o processo de gerenciamento de infraestrutura em um arquivo ou arquivos, em vez de configurar recursos manualmente em uma dashboard. Partindo deste conceito, voc\u00ea dever\u00e1:</p> <p>Desenvolver uma aplica\u00e7\u00e3o capaz de provisionar uma infraestrutura por meio de uma interface amig\u00e1vel(livre escolha) para gerenciar e administr\u00e1-la (construir, alterar e deletar recursos).</p> <p>A rubrica abaixo pressup\u00f5e que para alcan\u00e7ar o Conceito \"B\" voc\u00ea tenha feito o Conceito \"C\" por completo. Assim, para ter \"A\" precisa que os conceitos anteriores tenham sido alcan\u00e7ados.</p> <p>Sua aplica\u00e7\u00e3o dever\u00e1 seguir as fun\u00e7\u00f5es (descri\u00e7\u00e3o) abaixo e a tabela completa para alcan\u00e7ar o conceito base.</p> Conceito C+ Descri\u00e7\u00e3o <code>CRIAR</code> VPC cria\u00e7\u00e3o de uma VPC e sub-rede; inst\u00e2ncias: esta funcionalidade dever\u00e1 permitir a escolha de pelo menos 2 tipos de configura\u00e7\u00e3o de hosts; ainda dever\u00e1 ser poss\u00edvel aumentar e diminuir a quantidade de inst\u00e2ncias;  security group: cria\u00e7\u00e3o e a associa\u00e7\u00e3o de grupos de seguran\u00e7a com inst\u00e2ncias; Usu\u00e1rio no IAM. <code>DELETAR</code>         Inst\u00e2ncias, grupos de seguran\u00e7a e usu\u00e1rio. <code>LISTAR</code>     Aplica\u00e7\u00e3o dever\u00e1 listar todas inst\u00e2ncias e suas regi\u00f5es, usu\u00e1rios, grupos de seguran\u00e7a e suas regras. Conceito B Descri\u00e7\u00e3o <code>CRIAR</code>         Regras em security group; Inst\u00e2ncia em mais de uma regi\u00e3o; Associar algum tipo de restri\u00e7\u00e3o de acesso a um usu\u00e1rio; <code>DELETAR</code>         Regras de security group; recursos implantados na Regi\u00e3o; Conceito A Descri\u00e7\u00e3o <code>CRIAR</code>         Criar um HA de servidores web. <p>Warning</p> <p>OBS: Ser\u00e1 descontado meio conceito na nota do projeto caso algum incidente ou publica\u00e7\u00e3o (vazamento) de sua chave AWS for identificada no git hub.</p> <p>ENTREGA</p> <ul> <li>Os projetos dever\u00e3o ser entregues at\u00e9 \u00e0s 23h59 do dia 25/11/2022.</li> <li>A entrega ser\u00e1 feita via blackboard por meio da associa\u00e7\u00e3o de seu github.</li> <li>Todos os projetos dever\u00e3o estar acompanhados de um roteiro (tutorial) de instala\u00e7\u00e3o e opera\u00e7\u00e3o.</li> <li>Ser\u00e3o sorteados/escolhidos 16 projetos para apresenta\u00e7\u00e3o no dia 01/12/2022.</li> <li>A publica\u00e7\u00e3o dos projetos que realizar\u00e3o a apresenta\u00e7\u00e3o ser\u00e1 no dia 28/11/2022.</li> <li>A apresenta\u00e7\u00e3o ser\u00e1 realizada em um tempo m\u00e1ximo de 15 minutos a partir do roteiro entregue.</li> </ul> <p> Falta pouco para terminar o semestre, foquem em terminar os roteiros 3 e 4 em sala e desenvolva o projeto fora do hor\u00e1rio de aula. </p> <p>Dica</p> <p>Sugerimos que voc\u00ea estude a partir de documenta\u00e7\u00f5es oficiais e tutoriais t\u00e9cnicos.     * terraform.io      * terraform-aws-get-started</p>"},{"location":"plano_aula/","title":"Plano de Aula","text":""},{"location":"plano_aula/#fluxograma-do-andamento-da-disciplina","title":"Fluxograma do andamento da disciplina:","text":"<pre><code>---\nconfig:\n  layout: dagre\n---\nflowchart LR\n subgraph subGraph0[\"M\u00f3dulo 1\"]\n        j0[\"Data de finaliza\u00e7\u00e3o sugerida: 05/09/2025\"]\n        R1[\"Roteiro 1 - MAAS\"]\n        TE1[\"Teoria 1 - Redes\"]\n        T1[\"Tutorial 1 - AWS\"]\n        i0[\" \"]\n  end\n subgraph subGraph1[\"M\u00f3dulo 2\"]\n        j1[\"Data de finaliza\u00e7\u00e3o sugerida: 19/09/2025\"]\n        R2[\"Roteiro 2 - JUJU\"]\n        TE2[\"Teoria 2 - Redes\"]\n        T2[\"Tutorial 2 - AWS\"]\n        i1[\" \"]\n  end\n subgraph subGraph2[\"M\u00f3dulo 3\"]\n        j2[\"Data de finaliza\u00e7\u00e3o sugerida: 31/10/2025\"]\n        R3[\"Roteiro 3 - OpenStack\"]\n        TE3[\"Teoria 3 - Redes\"]\n        T3[\"Tutorial 3 - AWS\"]\n        i2[\" \"]\n  end\n subgraph subGraph3[\"M\u00f3dulo 4\"]\n        j3[\"Data de finaliza\u00e7\u00e3o sugerida: 07/11/2025\"]\n        R4[\"Roteiro 4 - OpenStack\"]\n        TE4[\"Teoria 4 - Redes\"]\n        T4[\"Tutorial 4 - AWS\"]\n  end\n    n10 --&gt; R1\n    n11 --&gt; TE1\n    n12 --&gt; T1\n    i0 L_i0_subGraph1_0@--&gt; subGraph1\n    subGraph1 L_subGraph1_i0_0@--&gt; i0\n    i1 L_i1_subGraph2_0@--&gt; subGraph2\n    subGraph2 L_subGraph2_i1_0@--&gt; i1\n    i2 L_i2_subGraph3_0@--&gt; subGraph3\n    subGraph3 L_subGraph3_i2_0@--&gt; i2\n    R1 -- 100% --&gt; n1[\"\ud83d\udd12\"]\n    TE1 -- 70% --&gt; n1\n    T1 -- 50% --&gt; n1\n    n1 --&gt; EX1[[\"Exam 1 - QUIZ 1\"]]\n    EX1 --&gt; n2[\"\ud83d\udd12\"]\n    R2 -- 100% --&gt; n2\n    TE2 -- 70% --&gt; n2\n    T2 -- 50% --&gt; n2\n    n2 --&gt; EX2[[\"Exam 2 - QUIZ 2\"]]\n    EX2 --&gt; n3[\"\ud83d\udd12\"]\n    R3 -- 100%--&gt; n3\n    TE3 --70%--&gt; n3\n    T3 --50%--&gt; n3\n    n3 --&gt; EX3[[\"Exam 3 - QUIZ 3\"]]\n    EX3 --&gt; n4[\"\ud83d\udd12\"]\n    R4 --100%--&gt; n4\n    TE4 -- 70%--&gt; n4\n    T4 -- 50%--&gt; n4\n    n4 --&gt; EX4[[\"Exam 4 - QUIZ 4\"]]\n\n    n10@{ img: \"https://media2.dev.to/dynamic/image/width=1000,height=420,fit=cover,gravity=auto,format=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2F3eo4lq29ys7npyze8vol.jpg\", h: 120, w: 250, pos: \"c\"} \n    n11@{ img: \"https://researchpark.illinois.edu/wp-content/uploads/2024/06/3x2-Logo-_PrairieLearn.png\", h: 120, w: 200, pos: \"b\"}\n    n12@{ img: \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRGriEor-iHn4958eGtsWa8qpmxleCqEultLQ&amp;s\", h: 120, w: 200, pos: \"a\"}\n\n\n     R1:::modulo1\n     TE1:::modulo1\n     T1:::modulo1\n     i0:::invisible\n     R2:::modulo2\n     TE2:::modulo2\n     T2:::modulo2\n     i1:::invisible\n     R3:::modulo3\n     TE3:::modulo3\n     T3:::modulo3\n     i2:::invisible\n     R4:::modulo4\n     TE4:::modulo4\n     T4:::modulo4\n     n1:::forkjoin\n     EX1:::exam\n     n2:::forkjoin\n     EX2:::exam\n     n3:::forkjoin\n     EX3:::exam\n     n4:::forkjoin\n     EX4:::exam\n\n  classDef modulo1 fill:#DDEBF7,stroke:#4682B4,stroke-width:2px,color:#000000\n  classDef modulo2 fill:#E2EFDA,stroke:#006400,stroke-width:2px,color:#000000\n  classDef modulo3 fill:#FFF2CC,stroke:#DAA520,stroke-width:2px,color:#000000\n  classDef modulo4 fill:#FCE4D6,stroke:#B22222,stroke-width:2px,color:#000000\n  classDef exam fill:#FFEFD5,stroke:#CD853F,stroke-width:2px,color:#000000\n  classDef forkjoin fill:#DDFFFF,stroke:#696969,stroke-width:2px,color:#000000\n    L_i0_subGraph1_0@{ animation: slow } \n    L_subGraph1_i0_0@{ animation: slow } \n    L_i1_subGraph2_0@{ animation: slow } \n    L_subGraph2_i1_0@{ animation: slow } \n    L_i2_subGraph3_0@{ animation: slow } \n    L_subGraph3_i2_0@{ animation: slow }\n</code></pre> <p>A disciplina de Computa\u00e7\u00e3o em Nuvem do Insper adota uma estrutura baseada no modelo de Mastery Learning, com \u00eanfase em progress\u00e3o por compet\u00eancia. O objetivo \u00e9 garantir que cada aluno avance somente ap\u00f3s demonstrar o dom\u00ednio considerado b\u00e1sico nos conceitos e habilidades de cada etapa, mantendo um ritmo de aprendizado consistente.</p> <p>O curso est\u00e1 organizado em quatro m\u00f3dulos sequenciais, cada um com foco em diferentes aspectos da computa\u00e7\u00e3o em nuvem. Cada m\u00f3dulo \u00e9 composto por tr\u00eas trilhas paralelas de atividades: Roteiros Pr\u00e1ticos de Infraestrutura, Tutoriais sobre Servi\u00e7os em Nuvem P\u00fablica e Teoria sobre Protocolos e Arquiteturas de Rede.</p> <p>Trilhas Parelelas</p> <ul> <li> <p>Roteiros (On-Premise / OpenStack): Nesta trilha, os alunos realizam atividades pr\u00e1ticas que envolvem a constru\u00e7\u00e3o de uma nuvem privada utilizando a stack da Canonical: MAAS, Juju e OpenStack. O foco \u00e9 proporcionar ao aluno um entendimento t\u00e9cnico sobre a infraestrutura que suporta ambientes de nuvem.</p> </li> <li> <p>Tutoriais (AWS / Cloud P\u00fablica): Aqui os alunos interagem com a plataforma AWS, realizando tarefas como configura\u00e7\u00e3o de redes virtuais (VPC), gest\u00e3o de usu\u00e1rios (IAM), cria\u00e7\u00e3o de inst\u00e2ncias (EC2), fun\u00e7\u00f5es serverless (Lambda) e uso de servi\u00e7os como S3 e bancos de dados gerenciados.</p> </li> <li> <p>Teoria (Redes e Protocolos): Baseada no livro de Kurose, esta trilha traz atividades te\u00f3ricas na plataforma PrairieLearn, com quest\u00f5es autoavaliativas, varia\u00e7\u00f5es din\u00e2micas e feedback imediato. Os alunos podem repetir as atividades at\u00e9 alcan\u00e7arem o dom\u00ednio de cada conceito.</p> </li> </ul> <p>O progresso do curso s\u00f3 ocorre quando o aluno completa as tr\u00eas trilhas e faz um QUIZ (Exam) na plataforma PrairieLearn correspondente ao m\u00f3dulo. Esses Quiz funcionam como barreiras de progress\u00e3o, seguindo o modelo Assessment Locked, onde a aprova\u00e7\u00e3o \u00e9 condi\u00e7\u00e3o necess\u00e1ria para liberar o acesso ao pr\u00f3ximo QUIZ, por\u00e9m o aluno pode percorrer as atividades Tutoriais e Teoria como achar mais proveitoso em seus estudos de modo a facilitar como cada individuo trata a disciplina.</p>"},{"location":"plano_aula/#regras-para-liberar-o-exam-quiz-de-cada-modulo","title":"\u2705 Regras para liberar o Exam (Quiz) de cada m\u00f3dulo","text":"<p>Para ter acesso ao Exam do m\u00f3dulo, voc\u00ea precisa cumprir todas as condi\u00e7\u00f5es:</p> <ol> <li> <p>Roteiro do m\u00f3dulo \u2014 100%</p> <ul> <li>Concluir o roteiro completo do m\u00f3dulo.</li> <li>Entregar todas as evid\u00eancias (prints) solicitadas.</li> </ul> </li> <li> <p>Teoria \u2014 70%</p> <ul> <li>Realizar pelo menos 70% dos exerc\u00edcios no PrairieLearn (teoria de redes).</li> </ul> </li> <li> <p>Tutoriais AWS \u2014 50%</p> <ul> <li>Cada m\u00f3dulo cont\u00e9m 2 laborat\u00f3rios pr\u00e1ticos de AWS.</li> <li>Complete 1 dos 2 (\u2265 50%) para desbloquear o Exam.</li> </ul> </li> </ol> <p>\ud83d\udccc O Exam s\u00f3 ser\u00e1 liberado quando as tr\u00eas condi\u00e7\u00f5es forem atendidas.</p> <p>Al\u00e9m das trilhas e exames, os alunos desenvolvem um Projeto Final, iniciado desde o primeir m\u00eas e conduzido de forma paralela ao restante da disciplina. Este projeto \u00e9 dividido em duas fases:</p> <ul> <li> <p>Constru\u00e7\u00e3o manual de uma infraestrutura escal\u00e1vel, aplicando os conceitos pr\u00e1ticos adquiridos.</p> </li> <li> <p>Automa\u00e7\u00e3o da infraestrutura com CI/CD, utilizando Terraform para provisionamento e pipelines de deploy.</p> </li> </ul> <p>Essa abordagem permite ao aluno vivenciar uma experi\u00eancia educacional que integra teoria, pr\u00e1tica e aplica\u00e7\u00e3o de conceitos de infraestrutura e desenvolvimento em nuvem de forma progressiva, com acompanhamento e checkpoints claros de aprendizado.</p> <p>Ao final da disciplina, os alunos ter\u00e3o desenvolvido n\u00e3o apenas compet\u00eancias t\u00e9cnicas, mas tamb\u00e9m habilidades de organiza\u00e7\u00e3o de aprendizado, autogerenciamento e capacidade de demonstrar conhecimentos de forma pr\u00e1tica da \u00e1rea de computa\u00e7\u00e3o em nuvem.</p>"},{"location":"plano_aula/#criterios-de-avaliacao-da-disciplina-de-computacao-em-nuvem","title":"Crit\u00e9rios de Avalia\u00e7\u00e3o da Disciplina de Computa\u00e7\u00e3o em Nuvem","text":"<p>A avalia\u00e7\u00e3o da disciplina \u00e9 composta por duas partes principais: Nota Individual e Nota em Grupo, cada uma representando 50% da nota final.</p> <p>Aten\u00e7\u00e3o</p> <p>Nota Individual (45% da nota final):</p> <p>Esta nota ser\u00e1 calculada com base na m\u00e9dia dos quatro Quiz (Exams) realizadas ao longo do semestre.</p> <p>Crit\u00e9rio de Barreira: a participa\u00e7\u00e3o no Quiz 4 \u00e9 obrigat\u00f3ria. O aluno que n\u00e3o fizer o \u00faltimo Quiz estar\u00e1 automaticamente reprovado, independentemente do desempenho nos anteriores.</p> <p>Nota Individual (5% da nota final): Desempenho nos exerc\u00edcios te\u00f3ricos: O aluno deve atingir 100% de acerto em todas as atividades te\u00f3ricas dos quatro m\u00f3dulos.    </p> <p>Aten\u00e7\u00e3o</p> <p>Nota em Grupo (45% da nota final):</p> <p>Corresponde ao desempenho no Projeto Final, que ser\u00e1 desenvolvido em equipe.</p> <p>Crit\u00e9rio de barreira: a entrega do Projeto Final \u00e9 obrigat\u00f3ria. A n\u00e3o entrega do projeto resultar\u00e1 em reprova\u00e7\u00e3o na disciplina, independentemente das demais notas.</p> <p>Nota em Grupo (5% da nota final): Conclus\u00e3o dos tutoriais pr\u00e1ticos: O aluno deve concluir todos os tutoriais pr\u00e1ticos dos quatro m\u00f3dulos (total de 8 tutoriais), isso dar\u00e1 um acrescimo individual a sua nota relacionada ao projeto. </p> Item Peso na Nota Final Observa\u00e7\u00f5es M\u00e9dia dos Quizes Individuais 45% M\u00e9dia dos 4 Quiz. O Quiz 4 \u00e9 obrigat\u00f3rio: aus\u00eancia resulta em reprova\u00e7\u00e3o independente das demais notas. Projeto Final (Trabalho em Grupo) 45% Entrega obrigat\u00f3ria. A n\u00e3o entrega reprova automaticamente o aluno. Exerc\u00edcios Te\u00f3ricos (100%) 5% Aluno que atingir 100% em todos os exerc\u00edcios te\u00f3ricos dos 4 m\u00f3dulos. Conclus\u00e3o de Todos os Tutoriais 5% Aluno que concluir todos os 8 tutoriais pr\u00e1ticos dos 4 m\u00f3dulos."},{"location":"plano_aula/#datas-limite-para-os-exames","title":"Datas Limite para os Exames","text":"<p>Como parte da estrat\u00e9gia de progress\u00e3o por dom\u00ednio adotada pela disciplina, cada aluno pode realizar os Quizzes no momento que se sentir preparado e tiver passado pelos pontos de controle. No entanto, para garantir o ritmo adequado de avan\u00e7o e evitar atrasos que prejudiquem o andamento geral do aluno, foram estabelecidas datas limite para os Exames \"1 e 2\" e \"3 e 4\" e para o projeto final:</p> <p>Exam 1 e 2 \u2013 QUIZ: devem ser realizados at\u00e9 o dia 20/03/2026.</p> <p>Exam 3 e 4 \u2013 QUIZ: devem ser realizados at\u00e9 o dia 22/05/2026.</p> <p>Projeto Final: deve ser realizado at\u00e9 o dia 08/05/2026.</p> <p>IMPORTANTE !!!  \u2192  PRAZOS</p> <p>TODAS AS ENTREGAS SE ENCERRAM NO DIA 26/05/2026 \u00c0S 12:00(meio dia), NENHUMA ENTREGA NO PRAIRIELEARN PODE SER FEITA AP\u00d3S ESTA DATA</p> <p>Ap\u00f3s a data 20/03/2026, o sistema ainda permitir\u00e1 a realiza\u00e7\u00e3o dos Exam 1 e 2, at\u00e9 a data FINAL - 22/05/2026, por\u00e9m o aluno n\u00e3o poder\u00e1 obter nota superior a 5,0 nessas avalia\u00e7\u00f5es. Ou seja, a nota ser\u00e1 limitada a 5 caso o Exam seja entregue ap\u00f3s o prazo inicial estipulado, independentemente da nota do Quiz e n\u00e3o ser\u00e1 aceito ap\u00f3s a data Final 22/05/2026. No caso do projeto final, n\u00e3o existe possibilidade de entrega atrasada, este projeto n\u00e3o ser\u00e1 adiado!!!</p> <p>Essa medida busca estimular o comprometimento cont\u00ednuo ao longo do semestre e a responsabilidade com os marcos de entrega, fundamentais para o sucesso no modelo de aprendizagem adotado.</p>"},{"location":"plano_aula/#observacoes-gerais","title":"Observa\u00e7\u00f5es Gerais","text":"<ul> <li>A disciplina adota o modelo de progress\u00e3o por dom\u00ednio (Mastery Learning).</li> <li>O Projeto Final e o QUIZ 4 s\u00e3o componentes de crit\u00e9rio de barreira.</li> </ul>"},{"location":"projetos_2022/DaviReisVieira/","title":"Infraestrutura por C\u00f3digo","text":"<p>Aplica\u00e7\u00e3o Front-end para gerenciar infraestrutura constru\u00edda com Terraform.</p> <ul> <li>Aluno: Davi Reis Vieira de Souza</li> <li>Curso: Engenharia da Computa\u00e7\u00e3o</li> <li>Semestre: 6</li> <li>Contato: davirvs@al.insper.edu.br</li> <li>Ano: 2022</li> <li>GitHub Page: https://github.com/DaviReisVieira/AWS-Core-Management</li> </ul>"},{"location":"projetos_2022/DaviReisVieira/#aws-core-management","title":"AWS Core Management","text":""},{"location":"projetos_2022/DaviReisVieira/#description","title":"Description","text":"<p>This project is a simple example of how to use Terraform to manage AWS resources.</p>"},{"location":"projetos_2022/DaviReisVieira/#technologies","title":"Technologies","text":""},{"location":"projetos_2022/DaviReisVieira/#requirements","title":"Requirements","text":"<ul> <li>Terraform</li> <li>AWS CLI</li> <li>Python 3</li> <li>Node.js</li> <li>AWS Account</li> <li>AWS IAM User</li> </ul>"},{"location":"projetos_2022/DaviReisVieira/#usage","title":"Usage","text":"<p>Execute the <code>install.sh</code> script to install the dependencies and configure the infrastructure.</p> <pre><code>$ ./install.sh\n</code></pre> <p>Open your browser and go to the URL <code>http://localhost:3000</code>. You should see the following page:</p>"},{"location":"projetos_2022/DaviReisVieira/#tutorial","title":"Tutorial","text":"<ol> <li>Register in the plataform with username, password, AWS Access Key ID and AWS Secret Access Key.    </li> <li>After registering, you will be redirected to the login page. Log in with the username and password you registered.    </li> <li>After logging in, you will be redirected to the home page. Here you can see the AWS regions. Create a new region by clicking on the <code>Create</code> button after selecting the region you want to create.    </li> <li>You can select a specific region by clicking on the region name. Here you can see the AWS resources.    </li> <li>Create a new resource by clicking on the <code>Create</code> button after selecting the resource you want to create.    </li> <li>Update the region configuration by clicking on the <code>Update Region</code>.    </li> </ol>"},{"location":"projetos_2022/DaviReisVieira/#concepts","title":"Concepts","text":""},{"location":"projetos_2022/DaviReisVieira/#conceito-c","title":"Conceito C+","text":"<p>Criar:</p> <ul> <li> VPC cria\u00e7\u00e3o de uma VPC e sub-rede; inst\u00e2ncias: esta funcionalidade dever\u00e1 permitir a escolha de pelo menos 2 tipos de configura\u00e7\u00e3o de hosts; ainda dever\u00e1 ser poss\u00edvel aumentar e diminuir a quantidade de inst\u00e2ncias; security group: cria\u00e7\u00e3o e a associa\u00e7\u00e3o de grupos de seguran\u00e7a com inst\u00e2ncias; Usu\u00e1rio no IAM.</li> </ul> <p>Deletar:</p> <ul> <li> Inst\u00e2ncias, grupos de seguran\u00e7a e usu\u00e1rio.</li> </ul> <p>Listar:</p> <ul> <li> Aplica\u00e7\u00e3o dever\u00e1 listar todas inst\u00e2ncias e suas regi\u00f5es, usu\u00e1rios, grupos de seguran\u00e7a e suas regras.</li> </ul>"},{"location":"projetos_2022/DaviReisVieira/#conceito-b","title":"Conceito B","text":"<p>Criar:</p> <ul> <li> Regras em security group; Inst\u00e2ncia em mais de uma regi\u00e3o; Associar algum tipo de restri\u00e7\u00e3o de acesso a um usu\u00e1rio;</li> </ul> <p>Deletar:</p> <ul> <li> Regras de security group; recursos implantados na Regi\u00e3o;</li> </ul>"},{"location":"projetos_2022/DaviReisVieira/#conceito-a","title":"Conceito A","text":"<p>Criar:</p> <ul> <li> Criar um HA de servidores web.</li> </ul>"},{"location":"projetos_2022/DaviReisVieira/#format-of-variables-in-terraform-json","title":"Format of variables in Terraform JSON","text":"<ul> <li>Security Group</li> </ul> <pre><code>{\n  \"id\": \"sg-0a1b2c3d\",\n  \"name\": \"sg-tcp/udp-22 - davirvs\",\n  \"description\": \"Security Group for EC2\",\n  \"ingress\": [\n    {\n      \"description\": \"SSH\",\n      \"from_port\": 22,\n      \"to_port\": 22,\n      \"protocol\": \"tcp\",\n      \"cidr_blocks\": [\"0.0.0.0/0\"]\n    }\n  ],\n  \"egress\": [\n    {\n      \"description\": \"All\",\n      \"from_port\": 0,\n      \"to_port\": 0,\n      \"protocol\": \"-1\",\n      \"cidr_blocks\": [\"0.0.0.0/0\"]\n    }\n  ]\n}\n</code></pre> <ul> <li>EC2</li> </ul> <pre><code>{\n  \"name\": \"davirvs1_ubuntu2204\",\n  \"ami\": \"ami-08c40ec9ead489470\",\n  \"instance_type\": \"t2.micro\",\n  \"security_groups_ids\": [\"sg-0a1b2c3d\"]\n}\n</code></pre> <ul> <li>User</li> </ul> <pre><code>{\n  \"name\": \"davirvsTeste1\",\n  \"policies\": {\n    \"name\": \"davirvsTeste1Restrictions\",\n    \"description\": \"Estas s\u00e3o as restri\u00e7\u00f5es do usu\u00e1rio davirvsTeste1\",\n    \"actions\": [\"ec2:DescribeInstances\", \"ec2:DescribeSecurityGroups\"],\n    \"resources\": [\"*\"]\n  }\n}\n</code></pre> <ul> <li>Group</li> </ul> <pre><code>{\n  \"id\": \"ug-0a1b2c3d\",\n  \"name\": \"davirvsGroups1\",\n  \"description\": \"davirvsGroups1 description\",\n  \"policies\": {\n    \"name\": \"davirvsGroups1Restrictions\",\n    \"description\": \"Estas s\u00e3o as restri\u00e7\u00f5es do grupo de usu\u00e1rios davirvsGroups1\",\n    \"actions\": [\"ec2:DescribeInstances\", \"ec2:DescribeSecurityGroups\"],\n    \"resources\": [\"*\"]\n  }\n}\n</code></pre>"},{"location":"projetos_2022/DaviReisVieira/#format-of-json-variable-file","title":"Format of JSON variable file","text":"<pre><code>{\n  \"aws-region\": \"us-east-2\",\n  \"security_groups\": [],\n  \"instances\": [],\n  \"users\": [],\n  \"users_groups\": []\n}\n</code></pre>"},{"location":"projetos_2022/fran-janela/","title":"Infraestrutura por C\u00f3digo","text":"<p>Aplica\u00e7\u00e3o em Python para gerenciar infraestrutura constru\u00edda com Terraform.</p> <ul> <li>Aluno: Francisco Pinheiro Janela</li> <li>Curso: Engenharia da Computa\u00e7\u00e3o</li> <li>Semestre: 6</li> <li>Contato: franciscopj@al.insper.edu.br</li> <li>Ano: 2022</li> <li>GitHub Page: https://fran-janela.github.io/roteiro-proj-CompNuvem/</li> </ul>"},{"location":"projetos_2022/fran-janela/#como-operar-com-o-meu-programa","title":"Como Operar com o meu programa:","text":"<p>Warning</p> <p>O programa foi desenvolvido por uma \u00fanica pessoa, e existem algumas falhas na robustez da utiliza\u00e7\u00e3o, ou seja, \u00e9 da responsabilidade do usu\u00e1rio configurar adequadamente os campos durante a utiliza\u00e7\u00e3o para que a montagem n\u00e3o falhe. Ademais, aproveito para lembrar a import\u00e2ncia da prote\u00e7\u00e3o de suas chaves de acesso, utilize-as apenas em vari\u00e1veis de ambiente. Esta aplica\u00e7\u00e3o utiliza a cria\u00e7\u00e3o de um arquivo <code>.env</code> para armazen\u00e1-las. Mais sobre isso na aba de Pr\u00e9-Requisitos.</p>"},{"location":"projetos_2022/fran-janela/#pre-requisitos","title":"Pr\u00e9-requisitos","text":"<p>Para come\u00e7ar a operar com o meu programa, sigam o passo a passo indicado no readme do meu reposit\u00f3rio no github.</p>"},{"location":"projetos_2022/fran-janela/#como-usar","title":"Como usar","text":"<p>Ao iniciar o programa pela primeira vez, o usu\u00e1rio se depara com a escolha entre a configura\u00e7\u00e3o das regi\u00f5es, podendo, nesse caminho, gerenciar inst\u00e2ncias, gerenciar security groups e levantar aplica\u00e7\u00f5es em HA (High Availability), e a configura\u00e7\u00e3o do ambiente do IAM, onde o usu\u00e1rio pode gerenciar usu\u00e1rios e pol\u00edticas(restri\u00e7\u00f5es).</p> <p>Para facilitar, a \u00e1rvore de navega\u00e7\u00e3o abaixo, pode trazer mais facilidade para o usu\u00e1rio se encontrar pelo programa:</p> <pre><code>\u251c\u2500\u2500 Configura\u00e7\u00e3o de Regi\u00f5es\n\u2502   \u251c\u2500\u2500 Criar, deletar ou escolher uma regi\u00e3o\n\u2502   \u251c\u2500\u2500 Gerenciar Inst\u00e2ncias\n\u2502   \u2502   \u251c\u2500\u2500 Listar Inst\u00e2ncias\n\u2502   \u2502   \u251c\u2500\u2500 Criar Inst\u00e2ncia\n\u2502   \u2502   \u251c\u2500\u2500 Deletar Inst\u00e2ncia\n\u2502   \u2502   \u251c\u2500\u2500 Atualizar Configura\u00e7\u00e3o de uma Inst\u00e2ncia\n\u2502   \u2502   \u2514\u2500\u2500 Voltar\n\u2502   \u251c\u2500\u2500 Gerenciar Security Groups\n\u2502   \u2502   \u251c\u2500\u2500 Listar Security Groups\n\u2502   \u2502   \u251c\u2500\u2500 Criar Security Group\n\u2502   \u2502   \u251c\u2500\u2500 Deletar Security Group\n\u2502   \u2502   \u251c\u2500\u2500 Adicionar Regras a um Security Group\n\u2502   \u2502   \u251c\u2500\u2500 Deletar Regras de um Security Group\n\u2502   \u2502   \u2514\u2500\u2500 Voltar\n\u2502   \u2514\u2500\u2500 Gerenciar Aplica\u00e7\u00e3o em HA\n\u2502       \u251c\u2500\u2500 Listar Aplica\u00e7\u00e3o em HA\n\u2502       \u251c\u2500\u2500 Criar Aplica\u00e7\u00e3o em HA\n\u2502       \u251c\u2500\u2500 Deletar Aplica\u00e7\u00e3o em HA\n\u2502       \u2514\u2500\u2500 Voltar\n\u251c\u2500\u2500 Configura\u00e7\u00e3o do IAM\n\u2502   \u251c\u2500\u2500 Limpar ou Restaurar a Infraestrutura do IAM\n\u2502   \u251c\u2500\u2500 Gerenciar Usu\u00e1rios\n\u2502   \u2502   \u251c\u2500\u2500 Listar Usu\u00e1rios\n\u2502   \u2502   \u251c\u2500\u2500 Criar Usu\u00e1rio\n\u2502   \u2502   \u251c\u2500\u2500 Deletar Usu\u00e1rio\n\u2502   \u2502   \u251c\u2500\u2500 Adicionar Pol\u00edticas a um Usu\u00e1rio\n\u2502   \u2502   \u251c\u2500\u2500 Deletar Pol\u00edticas de um Usu\u00e1rio\n\u2502   \u2502   \u2514\u2500\u2500 Voltar\n\u2502   \u2514\u2500\u2500 Gerenciar Pol\u00edticas\n\u2502       \u251c\u2500\u2500 Listar Pol\u00edticas\n\u2502       \u251c\u2500\u2500 Importar Pol\u00edtica\n\u2502       \u2514\u2500\u2500 Voltar\n\u251c\u2500\u2500 Listar todas as Inst\u00e2ncias\n\u2514\u2500\u2500 Sair\n</code></pre> <p>Em sua maioria, as instru\u00e7\u00f5es de uso de cada uma das funcionalidades est\u00e1 autocontida no pr\u00f3prio programa, mas existem algumas considera\u00e7\u00f5es que podem ser feitas:</p>"},{"location":"projetos_2022/fran-janela/#configuracao-de-regioes","title":"Configura\u00e7\u00e3o de Regi\u00f5es","text":""},{"location":"projetos_2022/fran-janela/#criar-deletar-ou-escolher-uma-regiao","title":"Criar, deletar ou escolher uma regi\u00e3o","text":"<ul> <li> <p>Ao criar uma regi\u00e3o em um uma daquelas dispon\u00edveis no programa, garanta que a sua conta possua permiss\u00f5es para faz\u00ea-lo, pois isso pode gerar um problema para o bom funcionamento da aplica\u00e7\u00e3o. Ao criar uma nova regi\u00e3o, autom\u00e1ticamente a infraestrutura b\u00e1sica \u00e9 copiada da pasta de <code>sample</code> para uma com o nome da regi\u00e3o, com a adi\u00e7\u00e3o do prefixo <code>tf-</code>.</p> </li> <li> <p>Ao escolher a op\u00e7\u00e3o de deletar uma regi\u00e3o, n\u00e3o existe confirma\u00e7\u00e3o necess\u00e1ria, e se o comando for executado, a regi\u00e3o ser\u00e1 deletada, ou seja, ir\u00e1 perder todos os recursos criados naquela regi\u00e3o de uma vez. Portanto, \u00e9 importante que o usu\u00e1rio tenha certeza de que deseja deletar a regi\u00e3o.</p> </li> </ul>"},{"location":"projetos_2022/fran-janela/#gerenciar-instancias","title":"Gerenciar Inst\u00e2ncias","text":"<ul> <li> <p>Ao Listar as Inst\u00e2ncias, o usu\u00e1rio deve escolher pelo n\u00famero mostrado na tela aquela que quer visualizar mais informa\u00e7\u00f5es.</p> </li> <li> <p>Ao Criar uma Inst\u00e2ncia, o usu\u00e1rio deve escolher o tipo de inst\u00e2ncia que deseja criar, e o nome da inst\u00e2ncia que deseja criar. O nome da inst\u00e2ncia deve ser \u00fanico, ou seja, n\u00e3o pode haver duas inst\u00e2ncias com o mesmo nome na mesma regi\u00e3o. Al\u00e9m disso, o n\u00famero de inst\u00e2ncias olocado \u00e9 a quantidade de r\u00e9plicas aquelas configura\u00e7\u00f5es que ir\u00e3o ser criadas. Por fim, o Sistema Operacional pr\u00e9 definido \u00e9 o <code>Ubuntu Server 18.04 LTS</code>.</p> </li> </ul> Warning <p>O usu\u00e1rio deve ter criado previamente seu <code>par de chaves</code> na AWS para poder indic\u00e1-lo na cria\u00e7\u00e3o de uma inst\u00e2ncia e, por sua vez, poder acess\u00e1-lo via ssh posteriormente.</p> <ul> <li>Ao atualizar a configura\u00e7\u00e3o de uma inst\u00e2ncia estar\u00e1 mudando todas as r\u00e9plicas criadas. Quando for feita a mudan\u00e7a de n\u00famero de inst\u00e2ncias, ser\u00e1 sempre a com \u00edndice maior que ser\u00e1 deletada. Ao mudar os ids dos security groups, dever\u00e1 passar novamente todos aqueles que desejar aplicar \u00e0 inst\u00e2ncia, configura\u00e7\u00f5es antigas ser\u00e3o perdidas.</li> </ul>"},{"location":"projetos_2022/fran-janela/#gerenciar-security-groups","title":"Gerenciar Security Groups","text":"<ul> <li> <p>Ao Listar os Security Groups, o usu\u00e1rio deve escolher pelo n\u00famero mostrado na tela aquele que quer visualizar mais informa\u00e7\u00f5es.</p> </li> <li> <p>Ao Criar um Security Group, o usu\u00e1rio deve escolher o nome do Security Group que deseja criar. O nome do Security Group deve ser \u00fanico, ou seja, n\u00e3o pode haver dois Security Groups com o mesmo nome na mesma regi\u00e3o. Al\u00e9m disso, poder\u00e1 ser criado quantas regras de Ingress e Egress que o usu\u00e1rio desejar, se atentando somente \u00e0 libera\u00e7\u00e3o de todas as portas para n\u00e3o correr riscos de seguran\u00e7a.</p> </li> <li> <p>S\u00f3 ser\u00e1 poss\u00edvel deletar um Security Group se ele n\u00e3o estiver sendo usado, ou seja, se quiser delet\u00e1-lo, deve remover todas as depend\u00eancias dele nas inst\u00e2ncias da regi\u00e3o.</p> </li> </ul>"},{"location":"projetos_2022/fran-janela/#gerenciar-aplicacao-em-ha","title":"Gerenciar Aplica\u00e7\u00e3o em HA","text":"<p>Em primeiro lugar, a Aplica\u00e7\u00e3o em HA \u00e9 uma demo com funcionamento limitado, que permite a cria\u00e7\u00e3o de uma aplica\u00e7\u00e3o predefinida e utiliza sistemas de Auto Scalling e Load Balancing dispon\u00edveis na AWS. S\u00f3 \u00e9 poss\u00edvel criar em duas regi\u00f5es: <code>us-east-1</code> e <code>us-east-2</code>.</p> <ul> <li> <p>S\u00f3 pode ser criada uma aplica\u00e7\u00e3o em HA por regi\u00e3o, ou seja, se j\u00e1 houver uma aplica\u00e7\u00e3o em HA criada na regi\u00e3o, n\u00e3o ser\u00e1 poss\u00edvel criar outra.</p> </li> <li> <p>Para pegar a URL da aplica\u00e7\u00e3o e poder acess\u00e1-la, basta listar a aplica\u00e7\u00e3o no programa.</p> </li> </ul>"},{"location":"projetos_2022/fran-janela/#configuracao-do-iam","title":"Configura\u00e7\u00e3o do IAM","text":""},{"location":"projetos_2022/fran-janela/#limpar-ou-restaurar-a-infraestrutura-do-iam","title":"Limpar ou Restaurar a Infraestrutura do IAM","text":"<ul> <li> <p>Limpar a infraestrutura do IAM significa apagar todas as configura\u00e7\u00f5es pr\u00e9 criadas para usu\u00e1rios, mas todos as pol\u00edticas importadas continuar\u00e3o sendo criadas quando for restaurada a infraestrutura.</p> </li> <li> <p>A Infraestrutura vem configurada com 4 pol\u00edticas de teste: AdministratorAccess, AdminNorthVirginia, AdminOregon e AdminOhio. Essas pol\u00edticas s\u00e3o criadas automaticamente quando a infraestrutura \u00e9 restaurada, e n\u00e3o podem ser deletadas.</p> </li> </ul>"},{"location":"projetos_2022/fran-janela/#gerenciar-usuarios","title":"Gerenciar Usu\u00e1rios","text":"<ul> <li> <p>Ao Listar os Usu\u00e1rios, desta vez o usu\u00e1rio n\u00e3o precisa escolher pelo n\u00famero mostrado na tela, pois o programa j\u00e1 ir\u00e1 mostrar as informa\u00e7\u00f5es de todos os usu\u00e1rios e todas as pol\u00edticas atreladas a eles.</p> </li> <li> <p>Ao Criar um Usu\u00e1rio, o usu\u00e1rio deve escolher o nome do Usu\u00e1rio que deseja criar. O nome do Usu\u00e1rio deve ser \u00fanico, ou seja, n\u00e3o pode haver dois Usu\u00e1rios com o mesmo nome na mesma regi\u00e3o. Al\u00e9m disso, a senha aparecer\u00e1 somente na cria\u00e7\u00e3o deste, ent\u00e3o guarde-a em um local seguro antes de continuar. Atrelar uma pol\u00edtica (restri\u00e7\u00e3o) ao usu\u00e1rio, deve ser feita posteriormente com a fun\u00e7\u00e3o de adicionar pol\u00edticas.</p> </li> <li> <p>Ao deletar um Usu\u00e1rio, o usu\u00e1rio n\u00e3o poder\u00e1 ser recuperado, e todas as configura\u00e7\u00f5es de pol\u00edticas atreladas tamb\u00e9m ser\u00e3o descartadas, mas as pol\u00edticas em si ainda continuar\u00e3o existindo.</p> </li> </ul>"},{"location":"projetos_2022/fran-janela/#gerenciar-politicas","title":"Gerenciar Pol\u00edticas","text":"<ul> <li> <p>Ao Listar as Pol\u00edticas, o usu\u00e1rio deve escolher pelo n\u00famero mostrado na tela aquela que quer visualizar mais informa\u00e7\u00f5es.</p> </li> <li> <p>Para importar uma pol\u00edtica, o usu\u00e1rio deve passar o path completo do arquivo <code>.json</code>. Caso seja um arquivo v\u00e1lido, a regra ser\u00e1 criada e permanentemente adicionada ao seu reposit\u00f3rio de pol\u00edticas. Para delet\u00e1-la, deve apagar o arquivo .json criado em <code>iam/policies/</code>. O nome da pol\u00edtica ser\u00e1 o nome do arquivo, sem a extens\u00e3o.</p> </li> <li> <p>Para facilitar a cria\u00e7\u00e3o, construa a pol\u00edtica pela dashboard da AWS e copie o conte\u00fado do arquivo <code>.json</code> gerado.</p> </li> </ul>"},{"location":"projetos_2022/fran-janela/#roteiro-diy","title":"Roteiro DIY","text":""},{"location":"projetos_2022/fran-janela/#comecando","title":"Come\u00e7ando","text":"<p>Para seguir esse tutorial \u00e9 necess\u00e1rio:</p> <ul> <li>Tecnologias: Terraform, Python</li> <li>Documentos: Terraform AWS Docs</li> <li>Pr\u00e9-Requisitos: aqueles anteriormente destacados para o funcionamento do programa e uma conta na AWS com permiss\u00f5es de administrador e suas credenciais.</li> </ul> <p>Danger</p> <p>ATEN\u00c7\u00c3O: Estas pr\u00f3ximas etapas ser\u00e3o feitas para vias de estudo, n\u00e3o \u00e9 recomendado que sejam feitas em um ambiente de produ\u00e7\u00e3o. Al\u00e9m disso, as chaves que ser\u00e3o utilizadas s\u00e3o extremamente sens\u00edveis, ent\u00e3o n\u00e3o as compartilhe com ningu\u00e9m, muito menos disponibilize-as no GitHub ou similares. Daqui em diante \u00e9 por sua conta e risco.</p>"},{"location":"projetos_2022/fran-janela/#o-que-e-terraform","title":"O que \u00e9 Terraform?","text":"<p>Terraform \u00e9 uma ferramenta de infraestrutura por c\u00f3digo, desenvolvida pela HashiCorp, que te permite definir, tanto para Cloud P\u00fablica, quanto para Cloud Privada, recursos de infraestrutura em c\u00f3digo poss\u00edvel de ser lido pelo ser humano e pelo computador, podendo ser versionado, reutiliz\u00e1do e compartilhado.</p>"},{"location":"projetos_2022/fran-janela/#terraform-e-aws","title":"Terraform e AWS","text":"<p>A HashiCorp disponibiliza uma s\u00e9rie de m\u00f3dulos para os recursos na aws que podem ser copiados e reconfigurados para construir a sua infraestrutura. Para facilitar a sua pesquisa, a documenta\u00e7\u00e3o no link acima \u00e9 de grande utilidade.</p> <p>Existem 4 grandes tipos de m\u00f3dulos que ser\u00e3o explorados neste roteiro, s\u00e3o eles:</p> <ul> <li> <p>Provider: \u00e9 o m\u00f3dulo que permite a comunica\u00e7\u00e3o com a AWS, e \u00e9 o primeiro m\u00f3dulo que deve ser importado. Ele \u00e9 respons\u00e1vel por definir a regi\u00e3o que ser\u00e1 utilizada, e tamb\u00e9m as credenciais de acesso.</p> </li> <li> <p>Resource: \u00e9 o m\u00f3dulo que define os recursos que ser\u00e3o utilizados na AWS. Por exemplo, se voc\u00ea deseja criar uma inst\u00e2ncia EC2, voc\u00ea deve importar o m\u00f3dulo <code>aws_instance</code> e configurar os par\u00e2metros necess\u00e1rios para a cria\u00e7\u00e3o da inst\u00e2ncia.</p> </li> <li> <p>Data: \u00e9 o m\u00f3dulo que permite a consulta de informa\u00e7\u00f5es de recursos j\u00e1 existentes na AWS. Por exemplo, se voc\u00ea deseja consultar o ID de uma inst\u00e2ncia EC2, voc\u00ea deve importar o m\u00f3dulo <code>aws_instance</code> e configurar os par\u00e2metros necess\u00e1rios para a consulta da inst\u00e2ncia.</p> </li> <li> <p>Output: \u00e9 o m\u00f3dulo que permite a visualiza\u00e7\u00e3o de informa\u00e7\u00f5es de recursos j\u00e1 existentes na AWS. Por exemplo, se voc\u00ea deseja visualizar o ID de uma inst\u00e2ncia EC2, voc\u00ea deve importar o m\u00f3dulo <code>aws_instance</code> e configurar os par\u00e2metros necess\u00e1rios para a visualiza\u00e7\u00e3o da inst\u00e2ncia.</p> </li> </ul>"},{"location":"projetos_2022/fran-janela/#criando-a-infraestrutura-basica-para-o-roteiro","title":"Criando a Infraestrutura B\u00e1sica para o roteiro","text":"<p>Em primeiro lugar, defina um diret\u00f3rio(pasta) para o seu projeto. Isso vai ser importante para posteriormente replicar o que foi feito e poder escalar para a constru\u00e7\u00e3o de uma infraestrutura maior com o aux\u00edlio de uma aplica\u00e7\u00e3o em <code>python</code>. D\u00ea o nome de <code>sample</code> para o diret\u00f3rio, pois ele ser\u00e1 a amostra replicada para cada regi\u00e3o. Para este tutorial iremos utilizar somente a regi\u00e3o <code>us-east-1</code> (Norte da Virg\u00ednia).</p> <p>Dentro deste diret\u00f3rio, crie um arquivo chamado <code>main.tf</code> e outro chamado <code>variables.tf</code>. O primeiro ser\u00e1 respons\u00e1vel por definir os providers necess\u00e1rios e iniciar a estrutura do terraform, e o segundo ser\u00e1 respons\u00e1vel por definir as vari\u00e1veis que ser\u00e3o utilizadas para a cria\u00e7\u00e3o dos recursos.</p> <ul> <li>Dentro do arquivo <code>main.tf</code>, insira o seguinte c\u00f3digo:</li> </ul> <pre><code>terraform {\n  required_providers {\n    aws = {\n      source  = \"hashicorp/aws\"\n      version = \"~&gt; 4.16\"\n    }\n  }\n\n  required_version = \"&gt;= 1.2.0\"\n}\n</code></pre> <p>Este Snipet de c\u00f3digo \u00e9 respons\u00e1vel, ent\u00e3o, por definir a vers\u00e3o do terraform que ser\u00e1 utilizada e tamb\u00e9m a vers\u00e3o do provider <code>aws</code> que ser\u00e1 necess\u00e1rio.</p> <p>Al\u00e9m disso, \u00e9 necess\u00e1rio definir, em si, a regi\u00e3o do provider e passar a ele as credenciais para poder acessar a sua AWS.</p> <ul> <li>Em um novo arquivo <code>provider.tf</code>, insira o seguinte c\u00f3digo:</li> </ul> <pre><code>provider \"aws\" {\n  region = var.region\n  access_key = var.AWS_ACCESS_KEY_ID\n  secret_key = var.AWS_SECRET_ACCESS_KEY\n}\n</code></pre> <ul> <li>E no arquivo j\u00e1 criado <code>variables.tf</code>, insira o seguinte c\u00f3digo:</li> </ul> <pre><code>variable \"region\" {\n  type = string\n  default = \"us-east-1\"\n}\n\nvariable \"AWS_ACCESS_KEY_ID\" {\n  type = string\n  sensitive = true\n}\n\nvariable \"AWS_SECRET_ACCESS_KEY\" {\n  type = string\n  sensitive = true\n}\n</code></pre> <p>Info</p> <p>O arquivo <code>variables.tf</code> \u00e9 respons\u00e1vel por definir as vari\u00e1veis que ser\u00e3o utilizadas na infraestrutura do Terraform. O par\u00e2metro <code>sensitive = true</code> \u00e9 respons\u00e1vel por ocultar a vari\u00e1vel quando for executado o comando <code>terraform plan</code> ou <code>terraform apply</code>.</p> <ul> <li>Agora, execute o comando <code>terraform init</code> para que o terraform baixe os providers necess\u00e1rios para a cria\u00e7\u00e3o da infraestrutura.</li> </ul> <pre><code>terraform init\n</code></pre>"},{"location":"projetos_2022/fran-janela/#definindo-as-variaveis-para-o-codigo","title":"Definindo as vari\u00e1veis para o c\u00f3digo:","text":"<p>Anteriormente foi falado da import\u00e2ncia de manter o sigilo quanto \u00e0s chaves de acesso \u00e0 AWS, e, portanto, iremos precisar de um arquivo que as contenha, e ao mesmo tempo, n\u00e3o seja enviado para nenhum reposit\u00f3rio aberto.</p> <p>O Terraform consegue ler um arquivo e dele extrair as vari\u00e1veis que ser\u00e3o utilizadas na infraestrutura. Para isso, crie um arquivo chamado <code>config.tfvars.json</code> dentro de uma pasta <code>config</code>. \u00c9 importante que estes estejam descritos no seu arquivo <code>.gitignore</code> ou similares.</p> <ul> <li>Adicione o conte\u00fado a esse arquivo:</li> </ul> <pre><code>{\n  \"region\": \"us-east-1\",\n  \"AWS_ACCESS_KEY_ID\": [\"SEU_ID_CHAVE\"],\n  \"AWS_SECRET_ACCESS_KEY\": [\"SUA_SECRET_KEY\"]\n}\n</code></pre> <p>O arquivo <code>variables.tf</code> ser\u00e1 respons\u00e1vel por informar ao terraform quais as vari\u00e1veis que ser\u00e3o necess\u00e1rias e quais os seus tipos. O arquivo <code>config.tfvars.json</code> ser\u00e1 respons\u00e1vel por informar ao terraform quais os valores que ser\u00e3o utilizados para as vari\u00e1veis.</p> <p>Agora, podemos aplicar a nossa infraestrutura. Para isso, execute o comando <code>terraform apply</code> e informe o arquivo <code>config.tfvars.json</code> como vari\u00e1vel de entrada.</p> <pre><code>terraform apply -var-file=config/config.tfvars.json\n</code></pre>"},{"location":"projetos_2022/fran-janela/#criando-a-infraestrutura-de-rede","title":"Criando a Infraestrutura de Rede","text":"<p>Agora que j\u00e1 temos a infraestrutura b\u00e1sica criada, podemos come\u00e7ar a criar a infraestrutura de rede. Para isso, iremos criar um arquivo chamado <code>network.tf</code> e nele iremos definir os recursos que ser\u00e3o utilizados para a cria\u00e7\u00e3o da infraestrutura de rede.</p> <p>Para a cria\u00e7\u00e3o de rede, vamos come\u00e7ar a exercitar a pesquisa na documenta\u00e7\u00e3o do terraform. Crie um recurso para cada uma das seguintes funcionalidades e adicione os par\u00e2metros tamb\u00e9m descritos:</p> <ul> <li>VPC: cidr_block, instance_tenancy, enable_dns_support, enable_dns_hostnames e tags={Name}</li> <li>Subnet: vpc_id, cidr_block, map_public_ip_on_launch e tags={Name}</li> <li>Internet Gateway: vpc_id e tags={Name}</li> <li>Route Table: vpc_id e tags={Name}</li> <li>Route: route_table_id, destination_cidr_block e gateway_id</li> <li>Route Table Association: subnet_id e route_table_id</li> </ul> <p>Para as configura\u00e7\u00f5es de rede, adicione ao arquivo <code>variables.tf</code> as seguintes vari\u00e1veis:</p> <pre><code>variable \"network_configurations\" {\n  type = object({\n    vpcCIDRblock = string\n    instanceTenancy = string\n    dnsSupport = bool\n    dnsHostNames = bool\n    publicsCIDRblock = string\n    mapPublicIP = bool\n    publicdestCIDRblock = string\n  })\n}\n</code></pre> <p>E como exemplo, adicione ao arquivo <code>config.tfvars.json</code> as seguintes configura\u00e7\u00f5es:</p> <pre><code>\"network_configurations\": {\n        \"vpcCIDRblock\": \"172.16.0.0/16\",\n        \"instanceTenancy\": \"default\",\n        \"dnsSupport\": true,\n        \"dnsHostNames\": true,\n        \"publicsCIDRblock\": \"172.16.10.0/24\",\n        \"mapPublicIP\": true,\n        \"publicdestCIDRblock\": \"0.0.0.0/0\"\n}\n</code></pre> <p>O restante das vari\u00e1veis, associe diretamente no arquivo <code>network.tf</code>, utilizando a seguinte estrutura:</p> <pre><code>variavel = [recurso].[nome_do_recurso].[vari\u00e1vel_desejada]\n\n# Exemplo:\nvpc_id = aws_vpc.VPC.id\n</code></pre>"},{"location":"projetos_2022/fran-janela/#criando-instancias-ec2","title":"Criando Inst\u00e2ncias EC2","text":"<p>A cria\u00e7\u00e3o de inst\u00e2ncias vai nos trazer alguns conceitos extremamente interessantes para a escalabilidade da nossa aplica\u00e7\u00e3o no terraform, s\u00e3o estes: <code>count</code>, <code>for_each</code>, e <code>locals</code>. Vamos come\u00e7ar pelo b\u00e1sico.</p> <ul> <li> <p>Crie uma inst\u00e2ncia usando o recurso <code>aws_instance</code> no arquivo <code>instances.tf</code>.</p> </li> <li> <p>Realize o Apply da infraestrutura e veja sua inst\u00e2ncia sendo criada.</p> </li> <li> <p>Utilizando a m\u00f3dulo de <code>output</code> do terraform, crie um output para a inst\u00e2ncia criada. O output deve conter o id da inst\u00e2ncia e o DNS p\u00fablico e estar\u00e1 localizado no arquivo gerado autom\u00e1ticamente <code>terraform.tfstate</code>.</p> </li> </ul>"},{"location":"projetos_2022/fran-janela/#escalando-com-o-count","title":"Escalando com o count","text":"<ul> <li> <p>Com o argumento <code>count</code> dentro da defini\u00e7\u00e3o do recurso, crie 3 inst\u00e2ncias EC2.</p> </li> <li> <p>Execute o <code>terraform apply</code> e veja as 3 inst\u00e2ncias sendo criadas.</p> </li> </ul> <p>O count \u00e9 um sistema de cria\u00e7\u00e3o em massa de inst\u00e2ncias com as mesmas configura\u00e7\u00f5es, e deve ser usado para rapidamente construir um grupo de m\u00e1quinas com as mesmas configura\u00e7\u00f5es para provavelmente a mesma aplica\u00e7\u00e3o. Para possuir maior controle sobre o m\u00faltiplo deploy de inst\u00e2ncias, \u00e9 mais recomendado usar o <code>for_each</code>.</p>"},{"location":"projetos_2022/fran-janela/#escalando-com-o-for_each","title":"Escalando com o for_each","text":"<p>Em primeiro lugar, o for_each ir\u00e1 utilizar da configura\u00e7\u00e3o de vari\u00e1veis no formato de <code>list</code> ou <code>map</code> para criar m\u00faltiplas inst\u00e2ncias com configura\u00e7\u00f5es diferentes. Para isso, vamos criar uma vari\u00e1vel no arquivo <code>variables.tf</code>:</p> <pre><code>variable \"instances_configuration\" {\n  type = list(object({\n    instance_name = string\n    instance_type = string\n    ami           = string\n    key_name      = string\n  }))\n}\n</code></pre> <p>O tipo <code>list</code> indica ao terraform que a vari\u00e1vel \u00e9 uma lista e deve ser percorrida pelo for_each. J\u00e1 o tipo <code>object</code> indica que a vari\u00e1vel \u00e9 um objeto, ou seja, um conjunto de vari\u00e1veis definidas, que podem ser acessadas pela sua chave. No arquivo de vari\u00e0veis .json, deve ser construido os valores da forma descrita acima.</p> <ul> <li>O recurso da inst\u00e2ncia com a constru\u00e7\u00e3o do for_each deve ser similar a:</li> </ul> <pre><code>resource \"aws_instance\" \"web\" {\n  for_each = {for instance in var.instances_configuration: instance.instance_name =&gt;  instance}\n  ami           = each.value.ami\n  instance_type = each.value.instance_type\n  subnet_id     = aws_subnet.Subnet.id\n  key_name      = each.value.key_name\n\n  tags = {\n    Name = \"${each.value.instance_name}\"\n  }\n}\n</code></pre> <p>OBS.: Note que para indicar o valor de cada inst\u00e2ncia \u00e9 usado o complemento <code>each.value</code></p> <ul> <li>Crie 3 inst\u00e2ncias diferentes com este m\u00e9todo.</li> </ul>"},{"location":"projetos_2022/fran-janela/#escalando-com-o-for_each-e-count","title":"Escalando com o for_each e count","text":"<p>\u00c9 de certo que n\u00e3o \u00e9 poss\u00edvel usar ambas as configura\u00e7\u00f5es for_each e count no mesmo recurso, mas podemos contornar essa situa\u00e7\u00e3o. Para isso, adicione uma vari\u00e0vel ao conjunto de vari\u00e1veis de configura\u00e7\u00e3o das inst\u00e2ncias que indicar\u00e1 a quantidade delas a serem criadas.</p> <p>Em seguida vamos utilizar as vari\u00e1veis locais, com o argumento <code>locals</code>. Construindo baseado na ideia de replicar a configura\u00e7\u00e3o definida para a quantidade de inst\u00e2ncias, basta criar um for que atenda a essa quantidade e adicione v\u00e1rias vezes a mesma configura\u00e7\u00e3o mudando apenas o nome, com o acr\u00e9scimo de um n\u00famero que indique ind\u00edce, por exemplo. Al\u00e9m disso, para aplicar tais configura\u00e7\u00f5es locais, as informa\u00e7\u00f5es devem ser passadas pela fun\u00e7\u00e3o de <code>flatten</code>.</p> <p>No final, a sua inst\u00e2ncia deve possuir o seguinte formato:</p> <pre><code>locals {\n  serverconfig = [\n    for srv in var.instances_configuration : [\n      for i in range(1, srv.no_of_instances+1) : {\n        instance_name = \"${srv.instance_name}-${i}\"\n        instance_type = srv.instance_type\n        ami = srv.ami\n        security_groups_ids = srv.security_groups_ids\n        key_name = srv.key_name\n      }\n    ]\n  ]\n}\n\nlocals {\n  instances = flatten(local.serverconfig)\n}\n\nresource \"aws_instance\" \"web\" {\n  for_each = {for server in local.instances: server.instance_name =&gt;  server}\n  ami           = each.value.ami\n  instance_type = each.value.instance_type\n  subnet_id = aws_subnet.Subnet.id\n  vpc_security_group_ids = each.value.security_groups_ids\n  key_name = each.value.key_name\n\n  tags = {\n    Name = \"${each.value.instance_name}\"\n  }\n}\n\noutput \"instances\" {\n  value       = [for instance in aws_instance.web : instance]\n  description = \"All Machine details\"\n}\n</code></pre>"},{"location":"projetos_2022/fran-janela/#criando-security-groups","title":"Criando Security Groups","text":"<p>Para a cria\u00e7\u00e3o dos security groups, vamos utilizar o m\u00e9todo do for_each pensando na escalabilidade da solu\u00e7\u00e3o. Al\u00e9m disso, na AWS \u00e9 poss\u00edvel adicionar v\u00e1rias regras tanto de <code>Ingress</code> (Inbound) quanto de <code>Egress</code> (Outbound) ao mesmo tempo, portanto, nossa aplica\u00e7\u00e3o tamb\u00e9m deve conseguir faz\u00ea-lo.</p> <ul> <li>Crie o arquivo <code>security_groups.tf</code> e construa as suas configura\u00e7\u00f5es.</li> </ul> Dica <p>Para criar m\u00faltiplas regras de Ingress e Egress, utilize vari\u00e1veis do tipo <code>dynamic</code>.</p> <ul> <li>Teste criando 2 grupos de seguran\u00e7a, um com uma regra de Ingress e duas regras de Egress e outro com duas regras de Ingress e uma regra de Egress.</li> </ul>"},{"location":"projetos_2022/fran-janela/#aplicando-o-security-group-nas-instancias","title":"Aplicando o security group nas inst\u00e2ncias","text":"<p>Utilizando a fun\u00e7\u00e3o de <code>output</code>, \u00e9 poss\u00edvel coletar o ID do Security Group definido autom\u00e1ticamente pela AWS.</p> <p>Para atrel\u00e1-lo a uma inst\u00e2ncia use a vari\u00e1vel do recurso <code>aws_instance</code> chamada <code>vpc_security_group_ids</code> e passe uma lista de IDs de Security Groups como valor.</p> <ul> <li> <p>Crie um Security Group que libere a conex\u00e3o SSH e associe-o a uma inst\u00e2ncia</p> </li> <li> <p>Junto com o par de chaves criado e associado a <code>key_name</code>, teste o acesso \u00e0 inst\u00e2ncia.</p> </li> </ul>"},{"location":"projetos_2022/fran-janela/#criando-infraestrutura-para-o-iam","title":"Criando Infraestrutura para o IAM","text":"<p>Para a cria\u00e7\u00e3o da estrutura no IAM, ser\u00e3o necess\u00e1rios 2 recursos principais: o <code>usu\u00e1rio</code> em si e as <code>policies</code>(pol\u00edticas ou restri\u00e7\u00f5es) de acesso. Al\u00e9m disso, s\u00e3o necess\u00e1rios recursos que criem o usu\u00e1rio e atrelem a ele uma senha autom\u00e1tica (que pode ser exportada como <code>output</code>), um recurso que crie o documento da pol\u00edtica, para facilitar a implementa\u00e7\u00e3o, e recursos que criem a conex\u00e3o entre o usu\u00e1rio e a pol\u00edtica.</p> <ul> <li>Crie o arquivo <code>policies.tf</code> e construa as suas configura\u00e7\u00f5es.</li> </ul> Dica <p>Para atrelar um documento a uma pol\u00edtica, use a seguinte vari\u00e1vel e sua configura\u00e7\u00e3o: <code>terraform     policy = data.aws_iam_policy_document.ec2_policy[each.value.name].json</code></p> <ul> <li> <p>Crie o arquivo <code>users.tf</code> e construa as suas configura\u00e7\u00f5es.</p> </li> <li> <p>Associe uma pol\u00edtica criada a um usu\u00e1rio atrav\u00e9s do recurso <code>aws_iam_user_policy_attachment</code>.</p> </li> </ul> Dica <p>Crie uma vari\u00e0vel para cada uma das configura\u00e7\u00f5es acima, ou seja, uma vari\u00e1vel para a configura\u00e7\u00e3o de pol\u00edticas, outra para a configura\u00e7\u00e3o de usu\u00e1rios e outra para a configura\u00e7\u00e3o de atrelamento de pol\u00edticas a usu\u00e1rios.</p> <ul> <li>Teste a cria\u00e7\u00e3o de um usu\u00e1rio com a restri\u00e7\u00e3o de acesso \u00e0 regi\u00e3o da North Virginia. A pol\u00edtica criada para isso est\u00e1 abaixo:</li> </ul> <pre><code>{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"*\",\n      \"Resource\": \"*\",\n      \"Condition\": {\n        \"StringEquals\": {\n          \"aws:RequestedRegion\": \"us-east-1\"\n        }\n      }\n    }\n  ]\n}\n</code></pre>"},{"location":"projetos_2022/fran-janela/#criando-multiplas-regioes","title":"Criando m\u00faltiplas Regi\u00f5es","text":"<p>Como os usu\u00e1rios s\u00e3o globais, n\u00e3o vamos nos preocupar com suas configura\u00e7\u00f5es para cada inst\u00e2ncia, eles podem receber sua pasta separada para gerenciamento de infraestrutura. Pensando, ent\u00e3o, nos outros arquivos, ou seja,<code>main.tf</code>, <code>provider.tf</code>, <code>network.tf</code>, <code>instances.tf</code>, <code>security_groups.tf</code>, para criar uma nova regi\u00e3o, basta replicar todo o diret\u00f3rio, mudando apenas no arquivo de configura\u00e7\u00f5es <code>.json</code> a regi\u00e3o do provider.</p> <ul> <li> <p>Crie duas pastas com essa infraestrutura, uma para a regi\u00e3o da North Virginia e outra para a regi\u00e3o de Ohio.</p> </li> <li> <p>Teste a cria\u00e7\u00e3o de uma inst\u00e2ncia em cada regi\u00e3o.</p> </li> </ul> <p>OBS.: Aplique o comando de <code>init</code> e <code>apply</code> em cada uma das pastas criadas.</p>"},{"location":"projetos_2022/fran-janela/#criando-um-ha-de-servidores-web","title":"Criando um HA de servidores web","text":""},{"location":"projetos_2022/fran-janela/#configurando-uma-imagem-base","title":"Configurando uma Imagem Base","text":"<p>Para a cria\u00e7\u00e3o de um HA de servidores web, \u00e9 necess\u00e1rio primeiro criar uma imagem(<code>ami</code>) que funcionar\u00e1 como template para a cria\u00e7\u00e3o de inst\u00e2ncias caso as m\u00e1quinas base estejam ficando sobre-lotadas.</p> <ul> <li> <p>Crie uma inst\u00e2ncia com o sistema operacional Ubuntu Server 18.04 LTS.</p> </li> <li> <p>Aplique:</p> </li> </ul> <pre><code>sudo apt update; sudo apt install nodejs build-essential -y\n</code></pre> <ul> <li>Edite um arquivo server.js:</li> </ul> <pre><code>#!/usr/bin/env nodejs\nvar http = require(\"http\");\nvar os = require(\"os\");\nvar crypto = require(\"crypto\");\n\nhttp\n  .createServer(function (req, res) {\n    res.writeHead(200, { \"Content-Type\": \"text/plain\" });\n    var nonce = 1;\n    var seed = Math.random();\n    var h = crypto.createHash(\"sha256\");\n\n    h.update(new Buffer(nonce + \" Hello World \" + seed));\n    while (h.digest(\"hex\").substr(0, 3) != \"000\") {\n      h = crypto.createHash(\"sha256\");\n      nonce++;\n      h.update(new Buffer(nonce + \" Hello World \" + seed));\n    }\n\n    res.end('{ \"host\": ' + os.hostname() + ', \"nonce\": ' + nonce + \"}\");\n  })\n  .listen(8080, \"\");\nconsole.log(\"Server running at http://localhost:8080/\");\n</code></pre> <ul> <li>Torne o arquivo execut\u00e1vel:</li> </ul> <pre><code>chmod +x ./server.js\n</code></pre> <ul> <li> <p>Execute e teste o servidor(lembre-se de liberar a porta no security group):</p> </li> <li> <p>Configure a m\u00e1quina para iniciar o servidor automaticamente ap\u00f3s <code>reboot</code>:</p> </li> </ul> <pre><code>crontab -e\\ @reboot /home/ubuntu/server.js\n</code></pre> <ul> <li>D\u00ea <code>reboot</code> e teste o acesso ao servidor novamente.</li> </ul> Copywright <p>O procedimento foi retirado do site oficial da mat\u00e9ria.</p> <p>Com o template de inst\u00e2ncia criado, gere uma imagem dele pela dashboard da AWS e salve a <code>ami</code> gerada para uso no pr\u00f3ximos passos.</p>"},{"location":"projetos_2022/fran-janela/#criando-os-recursos-para-o-ha","title":"Criando os recursos para o HA","text":"<p>Para construir o HA, vamos utilizar o recurso <code>aws_autoscaling_group</code>, emparelhado com <code>aws_launch_configuration</code> e tamb\u00e9m <code>aws_lb</code> (Load Balence). Para isso, construa a infraestrutura baseada neste tutorial: Tutorial de HA. Ele foi produzido pela Hashicorp, empresa que desenvolve o Terraform, mas em caso de d\u00favida, o resultado esperado se encontra dentro da pasta <code>sample-HA</code> no reposit\u00f3rio do meu programa.</p> <p>??? Dicas - Crie Security Groups diferentes para o Load Balencer e para configura\u00e7\u00e3o das inst\u00e2ncias.</p> <pre><code>- S\u00e3o necess\u00e1rias 3 *Subnets* para a cria\u00e7\u00e3o do *Load Balencer*.\n</code></pre>"},{"location":"projetos_2022/fran-janela/#crie-seu-proprio-programa","title":"Crie seu Pr\u00f3prio Programa.","text":"<p>Com toda a experi\u00eancia adquirida na formata\u00e7\u00e3o, constru\u00e7\u00e3o e manipula\u00e7\u00e3o da infraestrutura por meio do terraform, agora voc\u00ea \u00e9 capaz de criar o seu pr\u00f3rpio programa.</p> <p>Eu criei, utilizando <code>Python</code>, uma ferramenta que roda no terminal e executa as opera\u00e7\u00f5es descritas acima, de forma automatizada. Para isso, a aplica\u00e7\u00e3o copia os arquivos de base, armazenados na pasta <code>sample</code> para uma nova pasta com o nome da regi\u00e3o, configura o arquivo <code>.tvars.json</code> com as informa\u00e7\u00f5es descritas pelo usu\u00e1rio e executa o terraform para a cria\u00e7\u00e3o da infraestrutura.</p> <p>O seu programa pode ser criado via <code>Python</code> ou qualquer outra linguagem que voc\u00ea se sinta confort\u00e1vel para manipula\u00e7\u00e3o de arquivos e execu\u00e7\u00e3o de comandos. \u00c9 poss\u00edvel, tamb\u00e9m, que essas configura\u00e7\u00f5es sejam feitas via backend e toda a interface de usu\u00e1rio seja feita via frontend em outra linguagem, uma vez que toda a configura\u00e7\u00e3o da infraestrutura pode ser enviada via <code>.json</code> para o backend.</p> <p>Aqui o c\u00e9u \u00e9 o limite! Use a sua criatividade!</p>"},{"location":"projetos_2022/fran-janela/#motivacao","title":"Motiva\u00e7\u00e3o","text":"<p>Minha motiva\u00e7\u00e3o para a cria\u00e7\u00e3o desta aplica\u00e7\u00e3o e, consequentemente, este tutorial veio da crescente vontade de aprender sobre infraestrutura e Computa\u00e7\u00e3o Nuvem, o que me motivou a tentar produzir algo robusto e confi\u00e1vel, que pudesse ser utilizado por pessoas com algum conhecimento em infraestrutura, assim como eu, mas com a vontade de aprender.</p>"},{"location":"projetos_2023/2023-2_projeto/","title":"Escopo do Projeto:","text":""},{"location":"projetos_2023/2023-2_projeto/#implementacao-de-arquitetura-cloud-na-aws-com-terraform","title":"Implementa\u00e7\u00e3o de Arquitetura Cloud na AWS com Terraform","text":"<p>Objetivo: Provisionar uma arquitetura na AWS utilizando o Terraform, que englobe o uso de um Application Load Balancer (ALB), inst\u00e2ncias EC2 com Auto Scaling e um banco de dados RDS. Atencao: A escolha da regi\u00e3o de implantacao deve ser baseada em custos e desempenho, isso deve aparecer no seu relat\u00f3rio.</p>"},{"location":"projetos_2023/2023-2_projeto/#rubricas-do-projeto-para-tirar-c","title":"Rubricas do projeto para tirar C+","text":"<p>Requisitos T\u00e9cnicos do Projeto:</p> <p>1. Infraestrutura como C\u00f3digo (IaC) com Terraform:</p> <ul> <li>Utilizar o Terraform para criar e gerenciar todos os recursos na AWS.</li> <li>Estruturar o c\u00f3digo Terraform utilizando m\u00f3dulos para separar responsabilidades (ex: m\u00f3dulo para EC2, m\u00f3dulo para RDS, etc.).</li> <li>Armazenar o estado do Terraform em um bucket S3 para o lock do estado.</li> <li>O script deve ser capaz de criar a infraestrutura completa sem a interven\u00e7\u00e3o manual do usu\u00e1rio (comando \u00fanico).</li> <li>O script deve ser capaz de destruir a infraestrutura completa sem a interven\u00e7\u00e3o manual do usu\u00e1rio (comando \u00fanico).</li> </ul> <p>2. Application Load Balancer (ALB):</p> <ul> <li>Provisionar um ALB para distribuir o tr\u00e1fego entre as inst\u00e2ncias EC2.</li> <li>Configurar Target Groups para gerenciar as inst\u00e2ncias EC2.</li> <li>Implementar Health Checks para garantir que o tr\u00e1fego seja direcionado apenas para inst\u00e2ncias saud\u00e1veis.</li> </ul> <p>3. EC2 com Auto Scaling:</p> <ul> <li>Criar um Launch Configuration com uma AMI que tenha a aplica\u00e7\u00e3o pr\u00e9-instalada.</li> <li>Provisionar um Auto Scaling Group (ASG) utilizando o Launch Configuration criado.</li> <li>Definir pol\u00edticas de escalabilidade baseadas em CloudWatch Alarms (ex: CPU Utilization &gt; 70%).</li> <li>Garantir a integra\u00e7\u00e3o do ASG com o ALB atrav\u00e9s do Target Group.</li> </ul> <p>4. Banco de Dados RDS:</p> <ul> <li>Provisionar uma inst\u00e2ncia RDS MySQL ou PostgreSQL com a configura\u00e7\u00e3o db.t2.micro (a menor dispon\u00edvel).</li> <li>Habilitar backups autom\u00e1ticos e definir uma janela de manuten\u00e7\u00e3o.</li> <li>Configurar Security Groups para garantir que apenas as inst\u00e2ncias EC2 possam se conectar ao RDS.</li> <li>Habilitar o Multi-AZ para alta disponibilidade.</li> </ul> <p>5. Aplica\u00e7\u00e3o:</p> <ul> <li>A aplica\u00e7\u00e3o deve ser uma API RESTful ou uma aplica\u00e7\u00e3o web simples.</li> <li>Deve ser capaz de se conectar ao banco de dados RDS e realizar opera\u00e7\u00f5es CRUD.</li> <li>Implementar m\u00e9tricas e logs utilizando o CloudWatch.</li> </ul> <p>6. An\u00e1lise de Custo com a Calculadora AWS:</p> <ul> <li>Utilizar a Calculadora de Custo da AWS para estimar os custos mensais da arquitetura proposta.</li> <li>Considerar os custos de todos os recursos utilizados (EC2, ALB, RDS, etc.).</li> <li>Elaborar um relat\u00f3rio detalhado com a previs\u00e3o de custos, destacando os principais gastos e poss\u00edveis otimiza\u00e7\u00f5es.</li> </ul> <p>7. Documenta\u00e7\u00e3o:</p> <ul> <li>Criar uma documenta\u00e7\u00e3o t\u00e9cnica que inclua um diagrama da arquitetura AWS.</li> <li>Documentar todas as decis\u00f5es t\u00e9cnicas tomadas e justific\u00e1-las.</li> <li>Incluir um guia passo a passo para executar os scripts Terraform e validar a infraestrutura.</li> </ul> <p>Com estes requisitos, os alunos ter\u00e3o uma vis\u00e3o mais completa n\u00e3o apenas da implementa\u00e7\u00e3o t\u00e9cnica, mas tamb\u00e9m dos custos associados, o que \u00e9 crucial em ambientes de produ\u00e7\u00e3o reais. </p>"},{"location":"projetos_2023/2023-2_projeto/#rubricas-do-projeto-para-tirar-b","title":"Rubricas do projeto para tirar B+","text":"<p>8. Analise de carga:</p> <ul> <li>Implementar uma analise de carga e desempenho da arquitetura. (escolher a ferramenta que julgar a mais apropriada para o seu projeto)</li> <li>O Locust \u00e9 uma ferramenta popular para testes de carga e desempenho, permitindo simular milhares de usu\u00e1rios simult\u00e2neos para testar a resist\u00eancia de sistemas. Existem v\u00e1rias outras ferramentas que oferecem funcionalidades semelhantes. Aqui est\u00e3o algumas das mais conhecidas:</li> </ul> <p>Apache JMeter: Uma das ferramentas de teste de carga mais populares e amplamente utilizadas. Interface gr\u00e1fica para configura\u00e7\u00e3o de testes. Suporta v\u00e1rios protocolos, incluindo HTTP, JDBC, FTP e mais. Extens\u00edvel atrav\u00e9s de plugins. Gatling: Ferramenta de teste de carga de c\u00f3digo aberto escrita em Scala. Focado em testes de carga para aplica\u00e7\u00f5es web. Oferece relat\u00f3rios detalhados e \u00e9 conhecido por sua alta performance. Artillery: Ferramenta moderna, leve e poderosa para testes de carga. Escrita em Node.js. Suporta testes de carga para WebSocket, Socket.io, AWS Kinesis e mais. LoadRunner: Ferramenta comercial da Micro Focus. Uma das ferramentas de teste de carga mais antigas e estabelecidas do mercado. Oferece uma ampla variedade de recursos e suporte para v\u00e1rios protocolos. Taurus: Ferramenta de automa\u00e7\u00e3o de testes de carga de c\u00f3digo aberto. Permite executar testes escritos em JMeter, Gatling, Locust, Selenium e outras ferramentas sob uma interface comum. Focado em simplificar a configura\u00e7\u00e3o e execu\u00e7\u00e3o de testes.</p> <p>9. Documenta\u00e7\u00e3o:</p> <ul> <li>Adicionar a documenta\u00e7\u00e3o anterior a An\u00e1lise de Custo real com a utiliza\u00e7\u00e3o dos testes de carga na infraestrutura criada na AWS.</li> </ul>"},{"location":"projetos_2023/2023-2_projeto/#rubricas-do-projeto-para-tirar-a","title":"Rubricas do projeto para tirar A","text":"<p>10. Banco de Dados e VPN:</p> <ul> <li>O script (terraform) deve implementar o banco de dados na Nuvem privada do seu Kit (OpenStack) e a aplica\u00e7\u00e3o deve ser conectada a ele via VPN. </li> </ul>"},{"location":"projetos_2023/README_rodrigo/","title":"Implementando uma arquitetura de nuvem com o AWS e Terraform","text":""},{"location":"projetos_2023/README_rodrigo/#autor","title":"Autor","text":"<p>Rodrigo Anci\u00e3es Patelli</p>"},{"location":"projetos_2023/README_rodrigo/#observacao-importante","title":"Observa\u00e7\u00e3o Importante:","text":"<p>  Por favor n\u00e3o execute nenhum dos passoas a seguir utilizando a minha conta aws, uma perda de estado no bucket, causou garndes problemas no gerenciamento dos recursos   ## Descri\u00e7\u00e3o do Projeto  <p>O projeto consiste em criar uma arquitetura de nuvem utilizando a AWS e Terraform. A arquitetura consiste em uma aplica\u00e7\u00e3o web que ser\u00e1 executada em um servidor EC2, que por sua vez estar\u00e1 dentro de um Auto Scaling Group (ASG) e um Load Balancer (ELB) para distribuir a carga entre os servidores. A aplica\u00e7\u00e3o web ser\u00e1 uma api RESTful com CRUD simples, que realiza acesso a um banco de dados. O banco de dados ser\u00e1 executado em um servidor RDS.</p>   ## Pr\u00e9-requisitos  <p>Para executar o projeto \u00e9 necess\u00e1rio ter instalado o Terraform e o AWS CLI. Para instalar o Terraform, basta seguir as instru\u00e7\u00f5es do site oficial: https://learn.hashicorp.com/tutorials/terraform/install-cli. Para instalar o AWS CLI, basta seguir as instru\u00e7\u00f5es do site oficial: https://docs.aws.amazon.com/cli/latest/userguide/install-cliv2.html.</p> <p>Ap\u00f3s a instala\u00e7\u00e3o do Terraform e do AWS CLI, \u00e9 necess\u00e1rio configurar o AWS CLI com as credenciais de acesso da sua conta AWS. Para isso, basta executar o comando abaixo e seguir as instru\u00e7\u00f5es:</p> <pre><code>aws configure\n</code></pre> <p>Para executar o projeto, \u00e9 necess\u00e1rio criar um par de chaves SSH. Para isso, basta executar o comando abaixo:</p> <pre><code>ssh-keygen -t rsa -b 4096 -m pem -f exemplo\n</code></pre> <p>O comando acima ir\u00e1 gerar um par de chaves SSH com o nome de exemplo. O arquivo exemplo ser\u00e1 a chave privada e o arquivo exemplo.pub ser\u00e1 a chave p\u00fablica. Ap\u00f3s a cria\u00e7\u00e3o do par de chaves SSH, \u00e9 necess\u00e1rio atualizar a vari\u00e1vel public_key no arquivo ec2.tf com o nome da chave p\u00fablica criada, conforme apresentado abaixo:</p>  ![Alt text](imgs/exemplo1.png)  <p>Ap\u00f3s a cria\u00e7\u00e3o da chave \u00e9 necess\u00e1rio tamb\u00e9m criar um arquivo chamado secrets.tfvars com as informa\u00e7oes desejadas para o banco de dados. O arquivo secrets.tfvars deve conter as seguintes vari\u00e1veis:</p> <pre><code>db_host = \"endereco_do_banco\" # no nosso caso ser\u00e1 0.0.0.0\ndb_username = \"usuario\"\ndb_password = \"senha\"\ndb_name = \"nome_do_banco\"\n</code></pre> <p>Antes de prosseguirmos para a cria\u00e7\u00e3o do projeto de fato devemos criar um bucket no S3 para armazenar o arquivo de estado do Terraform. Para isso, podemos cria-lo manualmente, utilizando todas as configura\u00e7\u00f5es padr\u00e3o e utilizando os nomes definidos no backend de main.tf (https://docs.aws.amazon.com/AmazonS3/latest/userguide/create-bucket-overview.html) ou executando o script terraform dentro da pasta bucket, utilizando o comando abaixo:</p> <p> backend no main.tf: </p>  ![Alt text](imgs/backend.png)  <p> comandos para criar o bucket: </p> <pre><code>terraform init\n</code></pre> <pre><code>terraform plan\n</code></pre> <pre><code>terraform apply\n</code></pre> <p>a partir de agora os comandos ser\u00e3o executados novamente na  pasta raiz </p> <p>Ap\u00f3s a cria\u00e7\u00e3o do arquivo secrets.tfvars e do bucket s3, \u00e9 necess\u00e1rio executar o comando abaixo para inicializar o Terraform:</p> <pre><code>terraform init\n</code></pre> <p>Ap\u00f3s a inicializa\u00e7\u00e3o do Terraform, \u00e9 necess\u00e1rio executar o comando abaixo para criar o plano de execu\u00e7\u00e3o:</p> <pre><code>terraform plan -var-file=\"secrets.tfvars\"\n</code></pre> <p>Ap\u00f3s a cria\u00e7\u00e3o do plano de execu\u00e7\u00e3o, \u00e9 necess\u00e1rio executar o comando abaixo para executar o plano de execu\u00e7\u00e3o:</p> <pre><code>terraform apply -var-file=\"secrets.tfvars\"\n</code></pre> <p>Ap\u00f3s a execu\u00e7\u00e3o do plano de execu\u00e7\u00e3o, \u00e9 necess\u00e1rio executar o comando abaixo para destruir a infraestrutura criada:</p> <pre><code>terraform destroy -var-file=\"secrets.tfvars\"\n</code></pre> <p>Ap\u00f3s a execu\u00e7\u00e3o do comando acima, a infraestrutura ser\u00e1 destru\u00edda.</p>  ## Instru\u00e7\u00f5es extras de uso  ### Locust  <p>Para utilizar o locust para testes de carga \u00b4na aplica\u00e7\u00e3o \u00e9 necess\u00e1rio somente, acessar a url que ser\u00e1 exibida no final da execu\u00e7\u00e3o do terraform apply. A url ser\u00e1 semelhante a apresentada abaixo:</p> <pre><code>http://ec2-3-236-253-241.compute-1.amazonaws.com:8089/\n</code></pre> <p>Ap\u00f3s acessar a url, basta preencher os campos conforme apresentado abaixo:</p>  ![Alt text](imgs/Locust1.png)  <p>Ap\u00f3s preencher os campos, basta clicar no bot\u00e3o Start Swarming e aguardar o resultado.</p>  ![Alt text](imgs/Locust2.png)  <p>Observa\u00e7\u00e3o: n\u00e3o colocar mais de 10 usuarios por segundo por preuca\u00e7\u00e3o, pois o locust costuma ter erros quando se coloca muitos usuarios por segundo no come\u00e7o da opera\u00e7\u00e3o.</p>  ### API  <p>A api utilizada neste projeto n\u00e3o foi feita por mim, mas \u00e9 na verdade uma vers\u00e3o modificada da API de outra pessoa, para mais detalhes acesse o reposit\u00f3rio em: https://github.com/RodrigoAnciaes/app_sql_megadados.git</p> <p>Para utilizar a API, basta acessar a url que ser\u00e1 exibida no final da execu\u00e7\u00e3o do terraform apply. A url ser\u00e1 semelhante a apresentada abaixo:</p> <pre><code>http://ec2-3-236-253-241.compute-1.amazonaws.com:8080/docs\n</code></pre> <p>Video explicativo da API: Link: https://youtu.be/gqzUmahmUUI</p>  ## Tecnologias  <p>As tecnologias utilizadas foram:</p>  - Terraform - AWS - Locust - AWS CLI - AWS EC2 - AWS RDS - AWS ALB - AWS ASG - AWS CloudWatch - AWS S3 Bucket for Terraform State File - AWS IAM - AWS VPC   ## Diagrama da Arquitetura  ![Alt text](imgs/Diagrama_cloud.png)  ## Explicando as tecnologias utilizadas  ### Terraform  <p>O Terraform \u00e9 uma ferramenta de infraestrutura como c\u00f3digo (IaC) que permite criar, alterar e melhorar a infraestrutura de forma segura e eficiente. O Terraform pode gerenciar provedores de servi\u00e7os existentes e populares, bem como solu\u00e7\u00f5es internas personalizadas.</p>  ### AWS  <p>A Amazon Web Services (AWS) \u00e9 uma plataforma de servi\u00e7os de computa\u00e7\u00e3o em nuvem, que formam uma plataforma de computa\u00e7\u00e3o na nuvem oferecida pela Amazon.com. Os servi\u00e7os s\u00e3o oferecidos em v\u00e1rias geografias distribu\u00eddas pelo mundo.</p>  ### Locust  <p>O Locust \u00e9 uma ferramenta de teste de carga de c\u00f3digo aberto. Ele \u00e9 usado para medir o desempenho de um sistema sob uma carga de trabalho espec\u00edfica. Ele \u00e9 usado para testar aplicativos, sites e APIs.</p>  ### AWS CLI  <p>O AWS Command Line Interface (AWS CLI) \u00e9 uma ferramenta unificada para gerenciar seus servi\u00e7os da AWS. Com apenas uma \u00fanica ferramenta para fazer o download e configurar, voc\u00ea pode controlar v\u00e1rios servi\u00e7os da AWS a partir da linha de comando e automatizar tarefas por meio de scripts.</p>  ### AWS EC2  <p>O Amazon Elastic Compute Cloud (Amazon EC2) \u00e9 um servi\u00e7o da web que fornece capacidade de computa\u00e7\u00e3o redimension\u00e1vel na nuvem. Ele foi projetado para facilitar a computa\u00e7\u00e3o em nuvem na escala da web para os desenvolvedores.</p>  ### AWS RDS  <p>O Amazon Relational Database Service (Amazon RDS) facilita a configura\u00e7\u00e3o, opera\u00e7\u00e3o e escalonamento de um banco de dados relacional na nuvem. Ele fornece capacidade econ\u00f4mica e redimension\u00e1vel para um aplicativo usando bancos de dados familiares do mercado de software.</p>  ### AWS ALB  <p>O Application Load Balancer (ALB) \u00e9 um balanceador de carga gerenciado pela AWS para aplicativos HTTP e HTTPS. O ALB opera em camada 7 e roteia o tr\u00e1fego de entrada para alvos do Amazon EC2, cont\u00eaineres do Amazon ECS e fun\u00e7\u00f5es do AWS Lambda com base nas regras definidas pelo usu\u00e1rio.</p>  ### AWS ASG  <p>O Auto Scaling Group (ASG) \u00e9 um grupo de inst\u00e2ncias do Amazon EC2 que podem ser tratadas como uma unidade l\u00f3gica para fins de dimensionamento autom\u00e1tico e aplica\u00e7\u00e3o de pol\u00edticas. Um ASG garante que o n\u00famero especificado de inst\u00e2ncias do EC2 esteja sendo executado em todos os momentos.</p>  ### AWS CloudWatch  <p>O Amazon CloudWatch \u00e9 um servi\u00e7o de monitoramento e observabilidade da AWS para recursos em nuvem e aplicativos executados na AWS. Voc\u00ea pode usar o Amazon CloudWatch para coletar e rastrear m\u00e9tricas, coletar e monitorar arquivos de log e definir alarmes. No caso deste projeto, o CloudWatch foi utilizado para monitorar o status do ASG e do EC2.</p>  ### AWS S3 Bucket for Terraform State File  <p>O Amazon S3 \u00e9 um servi\u00e7o de armazenamento de objetos que oferece escalabilidade, disponibilidade de dados, seguran\u00e7a e desempenho l\u00edderes do setor. O S3 \u00e9 projetado para armazenar objetos. Os objetos s\u00e3o arquivos individuais que podem variar em tamanho de 0 bytes a 5 TB.</p>  ### AWS IAM  <p>O AWS Identity and Access Management (IAM) \u00e9 um servi\u00e7o da web que ajuda a proteger o acesso aos recursos da AWS. Ele permite que voc\u00ea controle quem pode usar os recursos da AWS (autentica\u00e7\u00e3o) e quais recursos eles podem usar e em quais condi\u00e7\u00f5es (autoriza\u00e7\u00e3o).</p>  ### AWS VPC  <p>O Amazon Virtual Private Cloud (Amazon VPC) permite provisionar uma se\u00e7\u00e3o logicamente isolada da nuvem da AWS onde voc\u00ea pode lan\u00e7ar recursos da AWS em uma rede virtual definida por voc\u00ea. Voc\u00ea tem controle total sobre seu ambiente de rede virtual, incluindo a sele\u00e7\u00e3o de seu pr\u00f3prio intervalo de endere\u00e7os IP, cria\u00e7\u00e3o de sub-redes e configura\u00e7\u00e3o de tabelas de rotas e gateways de rede.</p>  ## Escolha da regi\u00e3o  <p>A regi\u00e3o escolhida para a execu\u00e7\u00e3o do projeto foi US-east-1 (N. Virginia). A escolha da regi\u00e3o foi feita com base no custo dos servi\u00e7os. Considerando a natureza da aplica\u00e7\u00e3o CRUD simples, com estrutura focada em salvar dados, a escolha da regi\u00e3o foi feita com base no custo dos servi\u00e7os. A regi\u00e3o US-east-1 (N. Virginia) \u00e9 a regi\u00e3o mais barata da AWS.</p>   ## Calculo de custos  <p>Para calcular os custos da arquitetura, foi utilizado o AWS Pricing Calculator. O AWS Pricing Calculator \u00e9 uma ferramenta que permite criar estimativas de custos para seus projetos na AWS. Para acessar o AWS Pricing Calculator, basta acessar o link: https://calculator.aws/#/.</p> <p>A estimativas est\u00e3o no seguinte arquivo:</p>  - [Estimativas de custos](EstimativasDeCustos.pdf)  <p>O custo levando em consider\u00e7\u00e3o o auto-scaling com m\u00e1ximo de m\u00e1quinas est\u00e1 em:</p>  - [Custo com auto-scaling](EstimativasDeCustosAutoScalingMaximoDeMaquinas.pdf)  <p>O custo dos testes est\u00e1 em:</p>  - [Custo dos testes](CustosDosTestes.csv)  ## Refer\u00eancias  <p>As principais refer\u00eancias utilizadas foram:</p>  - Terraform: https://www.terraform.io/ - AWS: https://aws.amazon.com/pt/ - Locust: https://locust.io/ - AWS CLI: https://aws.amazon.com/pt/cli/ - AWS EC2: https://aws.amazon.com/pt/ec2/ - AWS RDS: https://aws.amazon.com/pt/rds/ - AWS ALB: https://aws.amazon.com/pt/elasticloadbalancing/ - AWS ASG: https://aws.amazon.com/pt/autoscaling/ - AWS CloudWatch: https://aws.amazon.com/pt/cloudwatch/ - AWS S3 Bucket for Terraform State File: https://aws.amazon.com/pt/s3/ - AWS IAM: https://aws.amazon.com/pt/iam/ - AWS VPC: https://aws.amazon.com/pt/vpc/ - AWS Pricing Calculator: https://calculator.aws/#/"},{"location":"projetos_2024-1/2024-1_projeto/","title":"Implementa\u00e7\u00e3o de Arquitetura Cloud","text":""},{"location":"projetos_2024-1/2024-1_projeto/#escopo-do-projeto","title":"Escopo do Projeto:","text":""},{"location":"projetos_2024-1/2024-1_projeto/#atencao-o-seu-projeto-sera-avaliado-pelo-grau-de-profissionalismo-na-documentacao","title":"Atencao: O seu projeto ser\u00e1 avaliado pelo grau de profissionalismo na DOCUMENTACAO!!!","text":"<p>Objetivo: Provisionar uma arquitetura na AWS utilizando o CloudFormation, que englobe o uso de um Application Load Balancer (ALB), inst\u00e2ncias EC2 com Auto Scaling e um banco de dados DynamoDb.</p> <p>Atencao: A escolha da regi\u00e3o de implantacao deve ser baseada em custos e desempenho, isso deve aparecer no seu relat\u00f3rio.</p> <p>Requisitos T\u00e9cnicos do Projeto:</p>"},{"location":"projetos_2024-1/2024-1_projeto/#rubricas-do-projeto-para-tirar-c","title":"Rubricas do projeto para tirar C+","text":"<p>Infraestrutura como C\u00f3digo (IaC) com CloudFormation:</p> <ul> <li>Utilizar o CloudFormation para criar e gerenciar todos os recursos na AWS.</li> <li>Estruturar o c\u00f3digo utilizando com comentarios explicativos em cada recurso.</li> <li>O script deve ser capaz de criar a infraestrutura completa sem a interven\u00e7\u00e3o manual do usu\u00e1rio (comando \u00fanico).</li> <li>O script deve ser capaz de atualizar a infraestrutura completa sem a interven\u00e7\u00e3o manual do usu\u00e1rio (comando \u00fanico).</li> <li>O script deve ser capaz de destruir a infraestrutura completa sem a interven\u00e7\u00e3o manual do usu\u00e1rio (comando \u00fanico).</li> </ul> <p>EC2 com Auto Scaling:</p> <ul> <li>Criar um Launch Configuration com uma AMI que tenha a aplica\u00e7\u00e3o pr\u00e9-instalada.</li> <li>Provisionar um Auto Scaling Group (ASG) utilizando o Launch Configuration criado.</li> <li>Definir pol\u00edticas de escalabilidade baseadas em CloudWatch Alarms (ex: CPU Utilization &gt; 70%).</li> <li>Garantir a integra\u00e7\u00e3o do ASG com o ALB atrav\u00e9s do Target Group.</li> </ul> <p>Application Load Balancer (ALB):</p> <ul> <li>Provisionar um ALB para distribuir o tr\u00e1fego entre as inst\u00e2ncias EC2.</li> <li>Configurar Target Groups para gerenciar as inst\u00e2ncias EC2.</li> <li>Implementar Health Checks para garantir que o tr\u00e1fego seja direcionado apenas para inst\u00e2ncias saud\u00e1veis.</li> </ul> <p>Banco de Dados DynamoDb:</p> <ul> <li>Provisionar uma inst\u00e2ncia DynamoDb.</li> <li>Configurar Security Groups para garantir que apenas as inst\u00e2ncias EC2 possam se conectar ao banco de dados.</li> </ul> <p>Aplica\u00e7\u00e3o:</p> <ul> <li>PONTO A SER DEFINIDO.</li> </ul> <p>An\u00e1lise de Custo com a Calculadora AWS:</p> <ul> <li>Utilizar a Calculadora de Custo da AWS para estimar os custos mensais da arquitetura proposta.</li> <li>Considerar os custos de todos os recursos utilizados (EC2, ALB, Db, etc.).</li> </ul>"},{"location":"projetos_2024-1/2024-1_projeto/#o-que-devera-ser-entregue-para-c-documentacao","title":"O que dever\u00e1 ser entregue para C+ ---&gt; Documenta\u00e7\u00e3o:","text":"<ul> <li>Criar uma documenta\u00e7\u00e3o t\u00e9cnica que inclua um diagrama da arquitetura AWS.</li> <li>Documentar todas as decis\u00f5es t\u00e9cnicas tomadas e justific\u00e1-las.</li> <li>Incluir um guia passo a passo de como executar os scripts que voc\u00ea criou (n\u00e3o esquqeca de validar a sua infraestrutura).</li> <li>Elaborar um relat\u00f3rio detalhado com a previs\u00e3o de custos, destacando os principais gastos e poss\u00edveis otimiza\u00e7\u00f5es.</li> <li>Colocar o link do repositorio com o c\u00f3digo CloudFormation no Documento.</li> </ul>"},{"location":"projetos_2024-1/2024-1_projeto/#rubricas-do-projeto-para-tirar-b","title":"Rubricas do projeto para tirar B+","text":"<p>Analise de carga:</p> <ul> <li> <p>Implementar uma analise de carga e desempenho da arquitetura. (escolher a ferramenta que julgar a mais apropriada para o seu projeto)</p> </li> <li> <p>Locust: O Locust \u00e9 uma ferramenta popular para testes de carga e desempenho, permitindo simular milhares de usu\u00e1rios simult\u00e2neos para testar a resist\u00eancia de sistemas.</p> </li> <li> <p>Apache JMeter: Uma das ferramentas de teste de carga mais populares e amplamente utilizadas. Interface gr\u00e1fica para configura\u00e7\u00e3o de testes. Suporta v\u00e1rios protocolos, incluindo HTTP, JDBC, FTP e mais. Extens\u00edvel atrav\u00e9s de plugins.</p> </li> <li> <p>Gatling: Ferramenta de teste de carga de c\u00f3digo aberto escrita em Scala. Focado em testes de carga para aplica\u00e7\u00f5es web. Oferece relat\u00f3rios detalhados e \u00e9 conhecido por sua alta performance.</p> </li> <li> <p>Artillery: Ferramenta moderna, leve e poderosa para testes de carga. Escrita em Node.js. Suporta testes de carga para WebSocket, Socket.io, AWS Kinesis e mais.</p> </li> <li> <p>LoadRunner: Ferramenta comercial da Micro Focus. Uma das ferramentas de teste de carga mais antigas e estabelecidas do mercado. Oferece uma ampla variedade de recursos e suporte para v\u00e1rios protocolos.</p> </li> <li> <p>Taurus: Ferramenta de automa\u00e7\u00e3o de testes de carga de c\u00f3digo aberto. Permite executar testes escritos em JMeter, Gatling, Locust, Selenium e outras ferramentas sob uma interface comum. Focado em simplificar a configura\u00e7\u00e3o e execu\u00e7\u00e3o de testes.</p> </li> </ul>"},{"location":"projetos_2024-1/2024-1_projeto/#o-que-devera-ser-entregue-para-b-documentacao","title":"O que dever\u00e1 ser entregue para B+ ---&gt; Documenta\u00e7\u00e3o:","text":"<ul> <li>Adicionar a documenta\u00e7\u00e3o anterior a An\u00e1lise de Custo real com a utiliza\u00e7\u00e3o dos testes de carga na infraestrutura criada na AWS. Utilizar a aba de Biling da AWS, separar os custos do seu projeto via Tags</li> </ul>"},{"location":"projetos_2024-1/2024-1_projeto/#rubricas-do-projeto-para-tirar-a","title":"Rubricas do projeto para tirar A","text":"<p>AWS CodePipeline e AWS Secrets Manager O AWS CodePipeline \u00e9 um servi\u00e7o totalmente gerenciado de entrega cont\u00ednua que ajuda a automatizar pipelines de lan\u00e7amento para oferecer atualiza\u00e7\u00f5es r\u00e1pidas e confi\u00e1veis de aplica\u00e7\u00f5es e infraestruturas.</p> <ul> <li>Voce deve utilizar os codigo gerados e o entendimento de chaves, para criar uma pipeline na AWS, ela deve atualizar a sua infraestrutura sempre que o codigo for alterado, sem a necessiade de comando por parte de qualquer usuario.</li> <li>\u00c9 obrigat\u00f3rio o uso de AWS Secrets Manager, para guardar as credenciais de acesso programatico da AWS.</li> </ul>"},{"location":"projetos_2024-1/2024-1_projeto/#o-que-devera-ser-entregue-para-a-documentacao","title":"O que dever\u00e1 ser entregue para A+ ---&gt; Documenta\u00e7\u00e3o:","text":"<ul> <li>Adicionar na documenta\u00e7\u00e3o anterior a explicac\u00e3o sobre CodePipeline, como utilizar e como foi a sua infraestrutura \u00e9 criada a partir de CI/CD.</li> </ul>"},{"location":"projetos_2024-2/2024-2_projeto/","title":"Projeto 2024_2","text":"<p>Info</p> <p>PROJETO: INDIVIDUAL</p> <p>DEADLINE: 22.nov.2024</p> <p>O projeto do semestre trata de uma API RESTful que deve ser capaz de cadastrar e autenticar usu\u00e1rios. Logo, para a execu\u00e7\u00e3o do projeto, \u00e9 necess\u00e1rio a constru\u00e7\u00e3o de uma API RESTful para validar a infraestrutura de um aplicativo. Ap\u00f3s a constru\u00e7\u00e3o da API, o projeto deve ser dockerizado e, ent\u00e3o, implantado no AWS. A fim de realizar todo o projeto, ele foi dividido em 2 etapas:</p> <ol> <li> <p>Dockerinzing</p> </li> <li> <p>AWS</p> </li> </ol> <p>A base do projeto \u00e9 a constru\u00e7\u00e3o da API.</p>"},{"location":"projetos_2024-2/2024-2_projeto/#construcao-da-api","title":"Constru\u00e7\u00e3o da API","text":"<p>O aplicativo teve ser uma API RESTful simples, sem interface visual. Sendo que a API deve ser capaz de cadastrar e autenticar usu\u00e1rios, al\u00e9m de permitir a consulta de dados de terceiros.</p> <p>A API dever ter no m\u00ednimo 3 endpoints:</p> Registro de Usu\u00e1rio Endpoint<pre><code>POST /registrar\n</code></pre> <p>Request JSON payload<pre><code>{\n    \"nome\": \"Disciplina Cloud\",\n    \"email\": \"cloud@insper.edu.br\",\n    \"senha\": \"cloud0\"\n}\n</code></pre></p> <p>Response JSON payload<pre><code>{\n    \"jwt\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkRpc2NpcGxpbmEgQ2xvdWQiLCJpYXQiOjE1MTYyMzkwMjJ9.s76o9X4UIANSI-aTF8UhqnBYyIRWw_WH4ut8Xqmo6i0\"\n}\n</code></pre></p> <pre><code>sequenceDiagram\n    autonumber\n    actor Alice\n    Alice-&gt;&gt;+App: POST /registrar\n    App-&gt;&gt;+Postgres: consulta email\n    break se email encontrado\n        Postgres--&gt;&gt;Alice: error 409\n    end\n    App-&gt;&gt;Postgres: grava dados e hash da senha no bd\n    App-&gt;&gt;App: gera JWT Token\n    App--&gt;&gt;-Alice: retorna JWT Token</code></pre> <p>Senha</p> <p>Nunca guarde a senha do usu\u00e1rio no banco, apenas uma hash da senha.</p> Autentica\u00e7\u00e3o de Usu\u00e1rio Endpoint<pre><code>POST /login\n</code></pre> <p>Request JSON payload<pre><code>{\n    \"email\": \"cloud@insper.edu.br\",\n    \"senha\": \"cloud0\"\n}\n</code></pre></p> <p>Response JSON payload<pre><code>{\n    \"jwt\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.\n            eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkRpc2N\n            pcGxpbmEgQ2xvdWQiLCJpYXQiOjE1MTYyMzkwMjJ9.\n            s76o9X4UIANSI-aTF8UhqnBYyIRWw_WH4ut8Xqmo6i0\"\n}\n</code></pre></p> <p>Diagrama de Sequ\u00eancia <pre><code>sequenceDiagram\n    autonumber\n    actor Alice\n    Alice-&gt;&gt;+App: POST /login\n    App-&gt;&gt;+Postgres: consulta email e hash no db\n    break se email n\u00e3o encontrado\n        Postgres--&gt;&gt;Alice: error 401\n    end\n    break se email e senha n\u00e3o confere\n        Postgres--&gt;&gt;Alice: error 401\n    end\n    App-&gt;&gt;App: gera JWT Token\n    App--&gt;&gt;-Alice: retorna JWT Token\n</code></pre></p> Aquisi\u00e7\u00e3o dos Dados Endpoint<pre><code>GET /consultar\n\n### HEADER\nAuthorization: Bearer &lt;JWT&gt;\n</code></pre> <p>Response</p> <p>A resposta pode ser qualquer scrap de uma p\u00e1gina de terceiros, no caso aqui, temos um scrap dos dados do \u00edndice Bovespa, apenas os \u00faltimos 10 dias, partindo da data de consulta. O formato tamb\u00e9m pode ser qualquer um, aqui temos um exemplo do mesmo dado em CSV e JSON.</p> DadosCSVJSON Date Open High Low Close Volume 2024-09-05 136112.0 136656.0 135959.0 136502.0 7528700 2024-09-06 136508.0 136653.0 134476.0 134572.0 7563300 2024-09-09 134574.0 135250.0 134399.0 134737.0 6587600 2024-09-10 134738.0 134738.0 133754.0 134320.0 8253500 2024-09-11 134319.0 135087.0 133757.0 134677.0 7947300 2024-09-12 134677.0 134777.0 133591.0 134029.0 7004900 2024-09-13 134031.0 135879.0 134031.0 134882.0 8866000 2024-09-16 134885.0 135715.0 134870.0 135118.0 6707000 <pre><code>Date,Open,High,Low,Close,Volume\n2024-09-05,136112.0,136656.0,135959.0,136502.0,7528700\n2024-09-06,136508.0,136653.0,134476.0,134572.0,7563300\n2024-09-09,134574.0,135250.0,134399.0,134737.0,6587600\n2024-09-10,134738.0,134738.0,133754.0,134320.0,8253500\n2024-09-11,134319.0,135087.0,133757.0,134677.0,7947300\n2024-09-12,134677.0,134777.0,133591.0,134029.0,7004900\n2024-09-13,134031.0,135879.0,134031.0,134882.0,8866000\n2024-09-16,134885.0,135715.0,134870.0,135118.0,6707000\n</code></pre> <pre><code>[\n    {\"Date\":\"2024-09-05\",\"Open\":136112.0,\"High\":136656.0,\"Low\":135959.0,\"Close\":136502.0,\"Volume\":7528700},\n    {\"Date\":\"2024-09-06\",\"Open\":136508.0,\"High\":136653.0,\"Low\":134476.0,\"Close\":134572.0,\"Volume\":7563300},\n    {\"Date\":\"2024-09-09\",\"Open\":134574.0,\"High\":135250.0,\"Low\":134399.0,\"Close\":134737.0,\"Volume\":6587600},\n    {\"Date\":\"2024-09-10\",\"Open\":134738.0,\"High\":134738.0,\"Low\":133754.0,\"Close\":134320.0,\"Volume\":8253500},\n    {\"Date\":\"2024-09-11\",\"Open\":134319.0,\"High\":135087.0,\"Low\":133757.0,\"Close\":134677.0,\"Volume\":7947300},\n    {\"Date\":\"2024-09-12\",\"Open\":134677.0,\"High\":134777.0,\"Low\":133591.0,\"Close\":134029.0,\"Volume\":7004900},\n    {\"Date\":\"2024-09-13\",\"Open\":134031.0,\"High\":135879.0,\"Low\":134031.0,\"Close\":134882.0,\"Volume\":8866000},\n    {\"Date\":\"2024-09-16\",\"Open\":134885.0,\"High\":135715.0,\"Low\":134870.0,\"Close\":135118.0,\"Volume\":6707000}\n]\n</code></pre> <pre><code>sequenceDiagram\n    autonumber\n    actor Alice\n    Alice-&gt;&gt;+App: GET /consultar &lt;br&gt; Token JWT no header\n    App--&gt;&gt;App: verifica permiss\u00e3o do JWT\n    break se JWT ausente ou inv\u00e1lido\n        App--&gt;&gt;Alice: error 403\n    end\n    App--&gt;&gt;App: web scraping&lt;br&gt;solicita dados de uma base ou p\u00e1gina&lt;br&gt;de um 3th party\n    Note right of App: Adquire dados da internet, &lt;br&gt;fazendo scraping de quaisquer&lt;br&gt; dados interessantes para o aluno.&lt;br&gt;O conte\u00fado deve ter atualiza\u00e7\u00e3o frequente.\n    App--&gt;&gt;-Alice: retorna dados</code></pre> <p>Aquisi\u00e7\u00e3o dos Dados</p> <p>Os dados devolvidos pela consulta devem ser de uma p\u00e1gina de terceiros, e devem ser atualizados frequentemente. Caso o usu\u00e1rio n\u00e3o tenha um token v\u00e1lido, a API deve retornar um erro 403.</p> <p>A escolha dos dados \u00e9 livre, mas deve ser algo que possa ser atualizado frequentemente, ao menos, diariamente. Claro, respeitando os termos de uso do site.</p> <p>Tip</p> <p>O projeto pode ser desenvolvido em qualquer linguagem de programa\u00e7\u00e3o, mas \u00e9 recomendado o uso de Python ou Java.</p>"},{"location":"projetos_2024-2/2024-2_projeto/#dockerinzing","title":"Dockerinzing","text":"<p>Quando o c\u00f3digo da API estiver pronto, ele deve ser dockerizado. Para isso, voc\u00ea deve criar um arquivo <code>Dockerfile</code> (de acordo com a linguagem e ambiente de execu\u00e7\u00e3o escolhidos) e um <code>compose.yaml</code> para a execu\u00e7\u00e3o da aplica\u00e7\u00e3o.</p> <p>O docker compose deve conter pelo menos 2 servi\u00e7os: a aplica\u00e7\u00e3o e o banco de dados. A aplica\u00e7\u00e3o deve ser capaz de se conectar ao banco de dados e realizar as opera\u00e7\u00f5es de CRUD. Conforme ilustrado abaixo:</p> <pre><code>flowchart LR\n    subgraph api [Docker Compose]\n        direction TB\n        app e3@==&gt; db@{ shape: cyl, label: \"Database\" }\n    end\n    internet e1@==&gt;|request| app\n    e1@{ animate: true }\n    e3@{ animate: true }</code></pre> <p>A aplica\u00e7\u00e3o deve ser autocontida, ou seja, deve ser poss\u00edvel executar a aplica\u00e7\u00e3o apenas com o comando <code>docker compose up</code> - pois isso \u00e9 parte essencial da entrega.</p> <pre><code>&gt; docker compose up -d\n[+] Running 2/2\n \u2714 Container database   Started   0.3s\n \u2714 Container app        Started   0.5s\n\n&gt; docker compose ps\nNAME           SERVICE       STATUS     PORTS\napp            app           Up         0.0.0.0:8080-&gt;8080/tcp\ndatabase       postgres      Up\n</code></pre> <p>Para organiza\u00e7\u00e3o, \u00e9 sugerida a seguinte estrutura de diret\u00f3rios:</p> estrutura de diret\u00f3rio sugerida<pre><code>app\n  Dockerfile\n  app.py\n  requirements.txt\n  ...\ncompose.yaml\n.env\n</code></pre>"},{"location":"projetos_2024-2/2024-2_projeto/#publicacao-no-docker-hub","title":"Publica\u00e7\u00e3o no Docker Hub","text":"<p>Ap\u00f3s a dockeriza\u00e7\u00e3o, o projeto deve ser publicado no Docker Hub. O link do Docker Hub deve ser inclu\u00eddo na documenta\u00e7\u00e3o do projeto.</p> <p>Publica\u00e7\u00e3o no Docker Hub</p> <p>A publica\u00e7\u00e3o no docker hub deve ser feita via linha de comando. E os comandos utilizados devem ser inclu\u00eddos na documenta\u00e7\u00e3o do projeto.</p>"},{"location":"projetos_2024-2/2024-2_projeto/#entrega","title":"Entrega","text":"<p>A entrega dever\u00e1 ser um link do projeto no GitHub, contendo o c\u00f3digo da API e o Dockerfile.</p> <p>Entrega</p> <p>Deve haver uma documenta\u00e7\u00e3o b\u00e1sica no README.md do reposit\u00f3rio:</p> <ul> <li>nome do aluno;</li> <li>explica\u00e7\u00e3o do projeto - scrap do que foi feito;</li> <li>explica\u00e7\u00e3o de como executar a aplica\u00e7\u00e3o;</li> <li>documenta\u00e7\u00e3o dos endpoints da API;</li> <li>screenshot com os endpoints testados;</li> <li>video de execu\u00e7\u00e3o da aplica\u00e7\u00e3o - de at\u00e9 1 minuto;</li> <li>link para o docker hub do projeto;</li> <li>refer\u00eancia expl\u00edcita a localiza\u00e7\u00e3o do arquivo <code>compose.yaml</code>;</li> <li>o arquivo <code>compose.yaml</code> FINAL (entregue) deve utilizar apenas images do docker hub (inclusive as geradas para a api), ou seja, n\u00e3o deve ter <code>build</code> dentro dele.</li> </ul> <p>Vari\u00e1veis de Ambiente</p> <p>As credenciais do banco de dados e JWT devem ser passadas via vari\u00e1veis de ambiente, por um arquivo <code>.env</code>. Todavia, PARA FACILITAR A CORRE\u00c7\u00c3O, as credenciais podem ser passadas diretamente no <code>compose.yaml</code> por valores padr\u00f5es, para que n\u00e3o tenha que haver um arquivo de vari\u00e1veis de ambiente. Exemplo:</p> compose.yaml<pre><code>name: app\n\n    db:\n        image: postgres:17\n        environment:\n            POSTGRES_DB: ${POSTGRES_DB:-projeto} # (1)!\n            POSTGRES_USER: ${POSTGRES_USER:-projeto}\n            POSTGRES_PASSWORD: ${POSTGRES_PASSWORD:-projeto}\n        ports:\n            - 5432:5432 #(2)!\n</code></pre> <ol> <li> <p>Caso a vari\u00e1vel de ambiente <code>POSTGRES_DB</code> n\u00e3o exista ou seja nula - n\u00e3o seja definida no arquivo <code>.env</code> - o valor padr\u00e3o ser\u00e1 <code>projeto</code>. Vide documenta\u00e7\u00e3o.</p> </li> <li> <p>Aqui \u00e9 feito um t\u00fanel da porta 5432 do container do banco de dados para a porta 5432 do host (no caso localhost). Em um ambiente de produ\u00e7\u00e3o, essa porta n\u00e3o deve ser exposta, pois ningu\u00e9m de fora do compose deveria acessar o banco de dados diretamente.</p> </li> </ol> .env<pre><code>POSTGRES_DB=superprojeto\nPOSTGRES_USER=meuprojeto\nPOSTGRES_PASSWORD=S3cr3t\n</code></pre> <p>Ao executar, o docker compose ir\u00e1 utilizar as vari\u00e1veis de ambiente do arquivo <code>.env</code>, caso existam, sen\u00e3o, utilizar\u00e1 os valores padr\u00f5es definidos j\u00e1 dentro do arquivo <code>compose.yaml</code>.</p> <p>Seguran\u00e7a</p> <p>Num ambiente de trabalho, as credenciais do banco de dados e JWT devem ser passadas via vari\u00e1veis de ambiente, nunca diretamente no c\u00f3digo. Essa estrat\u00e9gia viabiliza, at\u00e9 mesmo, que hajam credenciais diferentes para cada ambiente (dev, test, prod).</p> <p>NUNCA coloque credenciais no reposit\u00f3rio, mesmo que seja um reposit\u00f3rio privado. Ou seja, NUNCA coloque um arquivo <code>.env</code> no reposit\u00f3rio (GitHub).</p> <p>NUNCA deixe portas expostas em produ\u00e7\u00e3o, a menos que seja estritamente necess\u00e1rio.</p> <p>Documenta\u00e7\u00e3o</p> <p>A documenta\u00e7\u00e3o \u00e9 um dos pontos mais importantes do projeto. Seja criativo e use imagens, gifs, tabelas, etc. Tamb\u00e9m, se poss\u00edvel, fa\u00e7a uso de  ferramentas:</p> <ul> <li>mkdocs para gerar a documenta\u00e7\u00e3o e hosped\u00e1-la no GitHub Pages.</li> <li>mermaid para gerar diagramas de sequ\u00eancia, fluxogramas, etc.</li> </ul>"},{"location":"projetos_2024-2/2024-2_projeto/#aws","title":"AWS","text":"<p>O pr\u00f3ximo passo \u00e9 implantar a aplica\u00e7\u00e3o no AWS. A implanta\u00e7\u00e3o deve ser feita utilizando o Elastic Kubernetes Service (EKS). A aplica\u00e7\u00e3o deve ser implantada em um cluster EKS.</p> <p>O Kubernetes \u00e9 uma ferramenta de orquestra\u00e7\u00e3o de cont\u00eaineres que automatiza a implanta\u00e7\u00e3o, o dimensionamento e a gest\u00e3o de aplica\u00e7\u00f5es em cont\u00eaineres. O EKS \u00e9 um servi\u00e7o gerenciado que facilita a execu\u00e7\u00e3o do Kubernetes na AWS.</p> <p>Voc\u00ea deve subir um cluster EKS e implantar dois PODs, sendo um da aplica\u00e7\u00e3o e outro do banco de dados. A aplica\u00e7\u00e3o deve ser capaz de se conectar ao banco de dados e realizar as opera\u00e7\u00f5es de endpoints da API acima descritas.</p>"},{"location":"projetos_2024-2/2024-2_projeto/#entrega_1","title":"Entrega","text":"<p>A entrega dever\u00e1 ser um link do projeto no GitHub, o mesmo do anterior, mas para uma sess\u00e3o sobre a publica\u00e7\u00e3o na AWS, contendo o uma breve explica\u00e7\u00e3o e um link para um v\u00eddeo, explicando e executando o trabalho entregue.</p> <p>Entrega</p> <p>O v\u00eddeo apresentado deve ter entre 2 e 3 minutos e DEVE demonstrar TODOS os seguintes itens:</p> <ul> <li>logar na conta e acessar o projeto;</li> <li>explicar o que foi feito e mostrar os componentes do projeto (eks, roles, etc);</li> <li>executar o comando <code>kubectl get pods</code> e mostrar os pods rodando;   <pre><code>kubectl get pods\n</code></pre></li> <li>mostrar o projeto executando na AWS: chamada da API por um cliente (curl, postman, etc);</li> </ul> <p>No texto deve haver um link para os arquivos de configura\u00e7\u00e3o do Kubernetes (arquivos .yaml: deployment.yaml, service.yaml, etcs), reposit\u00f3rio do projeto.</p>"},{"location":"projetos_2024-2/2024-2_projeto/#rubrica","title":"Rubrica","text":"<p>Rubrica</p> Etapa Crit\u00e9rio Nota Observa\u00e7\u00f5es 1 API + Dockeriza\u00e7\u00e3o + Docker Hub + Documenta\u00e7\u00e3o C C+at\u00e9 25.out 2 AWS + 1 conceito - 2 conceitos se n\u00e3o entregar a etapa do AWS AWS + Documenta\u00e7\u00e3o + 2 conceitos <p>Ponto extra</p> <p>Se a primeira etapa for entregue at\u00e9 o dia 25.out, o aluno ganha meio conceito extra na nota final, ou seja, se ele tirar C, fica com C+.</p>"},{"location":"projetos_2024-2/2024-2_projeto/#anexos","title":"Anexos","text":""},{"location":"projetos_2024-2/2024-2_projeto/#docker-compose-material-de-aula","title":"Docker compose: material de aula","text":"estrutura para dois containers num mesmo compose<pre><code>api\n  Dockerfile\nweb\n  Dockerfile\n  hello.txt\n.env\ncompose.yaml\n</code></pre> ././api./web .env<pre><code>MINHA_SENHA=S3nh4S3cr3t4\n</code></pre> compose.yaml<pre><code>name: projeto\n\nservices:\n\n  api:\n    build:\n      context: ./api\n    environment:\n      - MINHA_VARIAVEL=${MINHA_SENHA:-projeto}\n    deploy:\n      replicas: 3\n\n  web:\n    build:\n      context: ./web\n    ports:\n      - 8080:80\n    depends_on:\n      - api\n</code></pre> Dockerfile<pre><code>FROM ubuntu:22.04\n\nENTRYPOINT [ \"tail\", \"-f\", \"/dev/null\" ]\n</code></pre> Dockerfile<pre><code>FROM nginx:latest\n\nRUN apt-get -y update\nRUN apt-get -y install net-tools iputils-ping\n\nCOPY hello.txt /\n</code></pre> hello.txt<pre><code>hello world!\n</code></pre>"},{"location":"projetos_2024-2/2024-2_projeto/#executando-o-docker-compose","title":"Executando o docker compose","text":"<pre><code>&gt; docker compose up -d --build\n[+] Running 4/4\n \u2714 Container projeto-api-1  Running       0.0s \n \u2714 Container projeto-api-2  Running       0.0s \n \u2714 Container projeto-api-3  Running       0.0s \n \u2714 Container projeto-web-1  Started  \n</code></pre>"},{"location":"projetos_2024-2/2024-2_projeto/#parando-o-docker-compose","title":"Parando o docker compose","text":"<pre><code>&gt; docker compose down         \n[+] Running 5/5\n \u2714 Container projeto-web-1  Removed     0.2s \n \u2714 Container projeto-api-1  Removed    10.5s \n \u2714 Container projeto-api-2  Removed    10.4s \n \u2714 Container projeto-api-3  Removed    10.5s \n \u2714 Network projeto_default  Removed \n</code></pre>"},{"location":"projetos_2025-1/projeto/","title":"Projeto 2025.1","text":"<p>Info</p> <p>PROJETO: GRUPO</p> <p>DEADLINE: 28.mai.2025</p> <p>O projeto do semestre trata de uma API RESTful que deve ser capaz de cadastrar e autenticar usu\u00e1rios. Logo, para a execu\u00e7\u00e3o do projeto, \u00e9 necess\u00e1rio a constru\u00e7\u00e3o de uma API RESTful para validar a infraestrutura de um aplicativo. Ap\u00f3s a constru\u00e7\u00e3o da API, o projeto deve ser dockerizado e, ent\u00e3o, implantado no AWS. A fim de realizar todo o projeto, ele foi dividido em 2 etapas:</p> <ol> <li> <p>Dockerinzing</p> </li> <li> <p>AWS</p> </li> </ol> <p>A base do projeto \u00e9 a constru\u00e7\u00e3o da API.</p>"},{"location":"projetos_2025-1/projeto/#objetivo-da-avaliacao","title":"Objetivo da Avalia\u00e7\u00e3o","text":"<p>Avaliar o dom\u00ednio dos alunos em:</p> <ol> <li>Containeriza\u00e7\u00e3o local com Docker Compose</li> <li>Deploy em ambiente de nuvem com AWS Lightsail</li> <li>Conex\u00e3o segura com banco de dados</li> <li>Estrutura\u00e7\u00e3o de aplica\u00e7\u00e3o web com FastAPI</li> <li>Boas pr\u00e1ticas de c\u00f3digo, documenta\u00e7\u00e3o e custo</li> </ol>"},{"location":"projetos_2025-1/projeto/#etapa-1","title":"Etapa 1","text":""},{"location":"projetos_2025-1/projeto/#construcao-da-api","title":"Constru\u00e7\u00e3o da API","text":"<p>O aplicativo teve ser uma API RESTful simples, sem interface visual. Sendo que a API deve ser capaz de cadastrar e autenticar usu\u00e1rios, al\u00e9m de permitir a consulta de dados de terceiros.</p> <p>A API dever ter no m\u00ednimo 4 endpoints:</p> Registro de Usu\u00e1rio Endpoint<pre><code>POST /registrar\n</code></pre> <p>Request JSON payload<pre><code>{\n    \"nome\": \"Disciplina Cloud\",\n    \"email\": \"cloud@insper.edu.br\",\n    \"senha\": \"cloud0\"\n}\n</code></pre></p> <p>Response JSON payload<pre><code>{\n    \"jwt\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkRpc2NpcGxpbmEgQ2xvdWQiLCJpYXQiOjE1MTYyMzkwMjJ9.s76o9X4UIANSI-aTF8UhqnBYyIRWw_WH4ut8Xqmo6i0\"\n}\n</code></pre></p> <pre><code>sequenceDiagram\n    autonumber\n    actor Alice\n    Alice-&gt;&gt;+App: POST /registrar\n    App-&gt;&gt;+Postgres: consulta email\n    break se email encontrado\n        Postgres--&gt;&gt;Alice: error 409\n    end\n    App-&gt;&gt;Postgres: grava dados e hash da senha no bd\n    App-&gt;&gt;App: gera JWT Token\n    App--&gt;&gt;-Alice: retorna JWT Token</code></pre> <p>Senha</p> <p>Nunca guarde a senha do usu\u00e1rio no banco, apenas uma hash da senha.</p> Autentica\u00e7\u00e3o de Usu\u00e1rio Endpoint<pre><code>POST /login\n</code></pre> <p>Request JSON payload<pre><code>{\n    \"email\": \"cloud@insper.edu.br\",\n    \"senha\": \"cloud0\"\n}\n</code></pre></p> <p>Response JSON payload<pre><code>{\n    \"jwt\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.\n            eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkRpc2N\n            pcGxpbmEgQ2xvdWQiLCJpYXQiOjE1MTYyMzkwMjJ9.\n            s76o9X4UIANSI-aTF8UhqnBYyIRWw_WH4ut8Xqmo6i0\"\n}\n</code></pre></p> <p>Diagrama de Sequ\u00eancia <pre><code>sequenceDiagram\n    autonumber\n    actor Alice\n    Alice-&gt;&gt;+App: POST /login\n    App-&gt;&gt;+Postgres: consulta email e hash no db\n    break se email n\u00e3o encontrado\n        Postgres--&gt;&gt;Alice: error 401\n    end\n    break se email e senha n\u00e3o confere\n        Postgres--&gt;&gt;Alice: error 401\n    end\n    App-&gt;&gt;App: gera JWT Token\n    App--&gt;&gt;-Alice: retorna JWT Token\n</code></pre></p> Aquisi\u00e7\u00e3o dos Dados Endpoint<pre><code>GET /consultar\n\n### HEADER\nAuthorization: Bearer &lt;JWT&gt;\n</code></pre> <p>Response</p> <p>A resposta pode ser qualquer scrap de uma p\u00e1gina de terceiros, no caso aqui, temos um scrap dos dados do \u00edndice Bovespa, apenas os \u00faltimos 10 dias, partindo da data de consulta. O formato tamb\u00e9m pode ser qualquer um, aqui temos um exemplo do mesmo dado em CSV e JSON.</p> DadosCSVJSON Date Open High Low Close Volume 2024-09-05 136112.0 136656.0 135959.0 136502.0 7528700 2024-09-06 136508.0 136653.0 134476.0 134572.0 7563300 2024-09-09 134574.0 135250.0 134399.0 134737.0 6587600 2024-09-10 134738.0 134738.0 133754.0 134320.0 8253500 2024-09-11 134319.0 135087.0 133757.0 134677.0 7947300 2024-09-12 134677.0 134777.0 133591.0 134029.0 7004900 2024-09-13 134031.0 135879.0 134031.0 134882.0 8866000 2024-09-16 134885.0 135715.0 134870.0 135118.0 6707000 <pre><code>Date,Open,High,Low,Close,Volume\n2024-09-05,136112.0,136656.0,135959.0,136502.0,7528700\n2024-09-06,136508.0,136653.0,134476.0,134572.0,7563300\n2024-09-09,134574.0,135250.0,134399.0,134737.0,6587600\n2024-09-10,134738.0,134738.0,133754.0,134320.0,8253500\n2024-09-11,134319.0,135087.0,133757.0,134677.0,7947300\n2024-09-12,134677.0,134777.0,133591.0,134029.0,7004900\n2024-09-13,134031.0,135879.0,134031.0,134882.0,8866000\n2024-09-16,134885.0,135715.0,134870.0,135118.0,6707000\n</code></pre> <pre><code>[\n    {\"Date\":\"2024-09-05\",\"Open\":136112.0,\"High\":136656.0,\"Low\":135959.0,\"Close\":136502.0,\"Volume\":7528700},\n    {\"Date\":\"2024-09-06\",\"Open\":136508.0,\"High\":136653.0,\"Low\":134476.0,\"Close\":134572.0,\"Volume\":7563300},\n    {\"Date\":\"2024-09-09\",\"Open\":134574.0,\"High\":135250.0,\"Low\":134399.0,\"Close\":134737.0,\"Volume\":6587600},\n    {\"Date\":\"2024-09-10\",\"Open\":134738.0,\"High\":134738.0,\"Low\":133754.0,\"Close\":134320.0,\"Volume\":8253500},\n    {\"Date\":\"2024-09-11\",\"Open\":134319.0,\"High\":135087.0,\"Low\":133757.0,\"Close\":134677.0,\"Volume\":7947300},\n    {\"Date\":\"2024-09-12\",\"Open\":134677.0,\"High\":134777.0,\"Low\":133591.0,\"Close\":134029.0,\"Volume\":7004900},\n    {\"Date\":\"2024-09-13\",\"Open\":134031.0,\"High\":135879.0,\"Low\":134031.0,\"Close\":134882.0,\"Volume\":8866000},\n    {\"Date\":\"2024-09-16\",\"Open\":134885.0,\"High\":135715.0,\"Low\":134870.0,\"Close\":135118.0,\"Volume\":6707000}\n]\n</code></pre> <pre><code>sequenceDiagram\n    autonumber\n    actor Alice\n    Alice-&gt;&gt;+App: GET /consultar &lt;br&gt; Token JWT no header\n    App--&gt;&gt;App: verifica permiss\u00e3o do JWT\n    break se JWT ausente ou inv\u00e1lido\n        App--&gt;&gt;Alice: error 403\n    end\n    App--&gt;&gt;App: web scraping&lt;br&gt;solicita dados de uma base ou p\u00e1gina&lt;br&gt;de um 3th party\n    Note right of App: Adquire dados da internet, &lt;br&gt;fazendo scraping de quaisquer&lt;br&gt; dados interessantes para o aluno.&lt;br&gt;O conte\u00fado deve ter atualiza\u00e7\u00e3o frequente.\n    App--&gt;&gt;-Alice: retorna dados</code></pre> <p>Aquisi\u00e7\u00e3o dos Dados</p> <p>Os dados devolvidos pela consulta devem ser de uma p\u00e1gina de terceiros, e devem ser atualizados frequentemente. Caso o usu\u00e1rio n\u00e3o tenha um token v\u00e1lido, a API deve retornar um erro 403.</p> <p>A escolha dos dados \u00e9 livre, mas deve ser algo que possa ser atualizado frequentemente, ao menos, diariamente. Claro, respeitando os termos de uso do site.</p> Health Check Endpoint<pre><code>GET /health-check\n</code></pre> Response<pre><code>{\n    \"statusCode\": 200,\n    \"timestamp\": \"2024-09-16T12:00:00Z\",\n    \"hostname\": \"ip-172-16-0-12\" #(1)!\n}\n</code></pre> <ol> <li>Apenas um exemplo de resposta. O hostname deve ser o IP ou nome da m\u00e1quina onde a API est\u00e1 rodando.</li> </ol> <p>STATUS CODE: 200</p> <p>Esse endpoint \u00e9 para ser utilizado no AWS Lightsail para verificar se a aplica\u00e7\u00e3o est\u00e1 rodando. O retorno deve ser obrigatoriamente um status code <code>200</code>.</p> <p>Tip</p> <p>O projeto pode ser desenvolvido em qualquer linguagem de programa\u00e7\u00e3o ou banco de dados, mas \u00e9 recomendado o uso de Python ou Java e de MySQL ou PostgreSQL.</p>"},{"location":"projetos_2025-1/projeto/#dockerinzing","title":"Dockerinzing","text":"<p>Quando o c\u00f3digo da API estiver pronto, ele deve ser dockerizado. Para isso, voc\u00ea deve criar um arquivo <code>Dockerfile</code> (de acordo com a linguagem e ambiente de execu\u00e7\u00e3o escolhidos) e um <code>compose.yaml</code> para a execu\u00e7\u00e3o da aplica\u00e7\u00e3o.</p> <p>O docker compose deve conter pelo menos 2 servi\u00e7os: a aplica\u00e7\u00e3o e o banco de dados. A aplica\u00e7\u00e3o deve ser capaz de se conectar ao banco de dados e realizar as opera\u00e7\u00f5es de CRUD. Conforme ilustrado abaixo:</p> <pre><code>flowchart LR\n    subgraph api [Docker Compose]\n        direction TB\n        app e3@==&gt; db@{ shape: cyl, label: \"Database\" }\n    end\n    internet e1@==&gt;|request| app\n    e1@{ animate: true }\n    e3@{ animate: true }</code></pre> <p>A aplica\u00e7\u00e3o deve ser autocontida, ou seja, deve ser poss\u00edvel executar a aplica\u00e7\u00e3o apenas com o comando <code>docker compose up</code> - pois isso \u00e9 parte essencial da entrega.</p> <pre><code>&gt; docker compose up -d\n[+] Running 2/2\n \u2714 Container database   Started   0.3s\n \u2714 Container app        Started   0.5s\n\n&gt; docker compose ps\nNAME           SERVICE       STATUS     PORTS\napp            app           Up         0.0.0.0:8080-&gt;8080/tcp\ndatabase       postgres      Up\n</code></pre> <p>Para organiza\u00e7\u00e3o, \u00e9 sugerida a seguinte estrutura de diret\u00f3rios:</p> estrutura de diret\u00f3rio sugerida<pre><code>api/\n  Dockerfile\n  app/\n    app.py\n  requirements.txt\n  ...\ncompose.yaml\n.env\n</code></pre>"},{"location":"projetos_2025-1/projeto/#publicacao-no-docker-hub","title":"Publica\u00e7\u00e3o no Docker Hub","text":"<p>Ap\u00f3s a dockeriza\u00e7\u00e3o, o projeto deve ser publicado no Docker Hub. O link do Docker Hub deve ser inclu\u00eddo na documenta\u00e7\u00e3o do projeto.</p> <p>Publica\u00e7\u00e3o no Docker Hub</p> <p>A publica\u00e7\u00e3o no docker hub deve ser feita via linha de comando. E os comandos utilizados devem ser inclu\u00eddos na documenta\u00e7\u00e3o do projeto.</p>"},{"location":"projetos_2025-1/projeto/#entrega-1","title":"Entrega 1","text":"<p>A entrega dever\u00e1 ser um link do projeto no GitHub, contendo o c\u00f3digo da API e o Dockerfile.</p> <p>Entrega</p> <p>Deve haver uma documenta\u00e7\u00e3o b\u00e1sica do projeto no MkDocs, contendo:</p> <ul> <li>explica\u00e7\u00e3o do projeto - scrap do que foi feito;</li> <li>explica\u00e7\u00e3o de como executar a aplica\u00e7\u00e3o;</li> <li>documenta\u00e7\u00e3o dos endpoints da API;</li> <li>screenshot com os endpoints testados;</li> <li>video de execu\u00e7\u00e3o da aplica\u00e7\u00e3o - de at\u00e9 1 minuto;</li> <li>link para o docker hub do projeto;</li> <li>refer\u00eancia expl\u00edcita a localiza\u00e7\u00e3o do arquivo <code>compose.yaml</code>;</li> <li>o arquivo <code>compose.yaml</code> FINAL (entregue) deve utilizar apenas images do docker hub (inclusive as geradas para a api), ou seja, n\u00e3o deve ter <code>build</code> dentro dele.</li> </ul> <p>Vari\u00e1veis de Ambiente</p> <p>As credenciais do banco de dados e JWT devem ser passadas via vari\u00e1veis de ambiente, por um arquivo <code>.env</code>. Todavia, PARA FACILITAR A CORRE\u00c7\u00c3O, as credenciais podem ser passadas diretamente no <code>compose.yaml</code> por valores padr\u00f5es, para que n\u00e3o tenha que haver um arquivo de vari\u00e1veis de ambiente. Exemplo:</p> compose.yaml<pre><code>name: app\n\n    db:\n        image: postgres:17\n        environment:\n            POSTGRES_DB: ${POSTGRES_DB:-projeto} #(1)!\n            POSTGRES_USER: ${POSTGRES_USER:-projeto}\n            POSTGRES_PASSWORD: ${POSTGRES_PASSWORD:-projeto}\n        ports:\n            - 5432:5432 #(2)!\n</code></pre> <ol> <li> <p>Caso a vari\u00e1vel de ambiente <code>POSTGRES_DB</code> n\u00e3o exista ou seja nula - n\u00e3o seja definida no arquivo <code>.env</code> - o valor padr\u00e3o ser\u00e1 <code>projeto</code>. Vide documenta\u00e7\u00e3o.</p> </li> <li> <p>Aqui \u00e9 feito um t\u00fanel da porta 5432 do container do banco de dados para a porta 5432 do host (no caso localhost). Em um ambiente de produ\u00e7\u00e3o, essa porta n\u00e3o deve ser exposta, pois ningu\u00e9m de fora do compose deveria acessar o banco de dados diretamente.</p> </li> </ol> .env<pre><code>POSTGRES_DB=meuprojeto\nPOSTGRES_USER=meuprojeto\nPOSTGRES_PASSWORD=S3cr3t\n</code></pre> <p>Ao executar, o docker compose ir\u00e1 utilizar as vari\u00e1veis de ambiente do arquivo <code>.env</code>, caso existam, sen\u00e3o, utilizar\u00e1 os valores padr\u00f5es definidos j\u00e1 dentro do arquivo <code>compose.yaml</code>.</p> <p>Seguran\u00e7a</p> <p>Num ambiente de trabalho, as credenciais do banco de dados e JWT devem ser passadas via vari\u00e1veis de ambiente, nunca diretamente no c\u00f3digo. Essa estrat\u00e9gia viabiliza, at\u00e9 mesmo, que hajam credenciais diferentes para cada ambiente (dev, test, prod).</p> <p>NUNCA coloque credenciais no reposit\u00f3rio, mesmo que seja um reposit\u00f3rio privado. Ou seja, NUNCA coloque um arquivo <code>.env</code> no reposit\u00f3rio (GitHub).</p> <p>NUNCA deixe portas expostas em produ\u00e7\u00e3o, a menos que seja estritamente necess\u00e1rio.</p> <p>Documenta\u00e7\u00e3o</p> <p>A documenta\u00e7\u00e3o \u00e9 um dos pontos mais importantes do projeto. Seja criativo e use imagens, gifs, tabelas, etc. Fa\u00e7a uso de  ferramentas:</p> <ul> <li>mkdocs para gerar a documenta\u00e7\u00e3o e hosped\u00e1-la no GitHub Pages.</li> <li>mermaid para gerar diagramas de sequ\u00eancia, fluxogramas, etc.</li> </ul>"},{"location":"projetos_2025-1/projeto/#etapa-2","title":"Etapa 2","text":""},{"location":"projetos_2025-1/projeto/#projeto-fastapi-no-aws-lightsail","title":"Projeto FastAPI no AWS Lightsail","text":"<p>A parte 2 do projeto consiste em:</p> <ul> <li>Implantar sua aplica\u00e7\u00e3o (ex:FastAPI)  utilizando o AWS Lightsail Container Service.</li> <li>Configurar um banco de dados gerenciado (ex:PostgreSQL) no Lightsail.</li> <li>Conectar sua aplica\u00e7\u00e3o ao banco de dados.</li> <li>Gerenciar e monitorar o custo do servi\u00e7o em produ\u00e7\u00e3o. (Sua conta n\u00e3o pode gastar mais de 50 dolares m\u00eas)</li> </ul> <p>Pr\u00e9-requisitos: Conclus\u00e3o da primeira parte do projeto com a aplica\u00e7\u00e3o containerizada localmente utilizando Docker Compose.</p> <p>Antes de iniciar, certifique-se de ter:</p> <ul> <li>Conta ativa na AWS com acesso ao Lightsail.</li> <li>Docker instalado e configurado.</li> <li>C\u00f3digo da aplica\u00e7\u00e3o FastAPI pronto e funcional localmente.</li> </ul>"},{"location":"projetos_2025-1/projeto/#na-aba-conteudo-adicional-do-site-da-disciplina-temos-explicacoes-sobre-o-ligthsail-utilizem-como-referencia","title":"Na aba, conteudo adicional do site da disciplina temos explica\u00e7\u00f5es sobre o Ligthsail, utilizem como referencia.","text":"<p>Dicas</p> <ol> <li>Acesse o AWS Lightsail e v\u00e1 para Containers.</li> <li>Clique em Create container service.</li> <li>Configure:</li> <li>Service name: <code>fastapi-service</code></li> <li>Power: Escolha conforme a necessidade (ex: <code>Micro</code>)</li> <li>Scale: N\u00famero de inst\u00e2ncias (ex: <code>1</code>)</li> <li>Clique em Create container service.</li> </ol> <p>\ud83d\udd12 Nota: O servi\u00e7o ser\u00e1 criado com um dom\u00ednio padr\u00e3o fornecido pela AWS.</p> <ol> <li>No Lightsail, v\u00e1 para Databases e clique em Create database.</li> <li>Configure:</li> <li>Database engine: <code>PostgreSQL</code></li> <li>Database name: <code>fastapi-db</code></li> <li>Master username: <code>admin</code></li> <li>Password: Defina uma senha segura</li> <li>Availability zone: Escolha a mesma da aplica\u00e7\u00e3o</li> <li>Public mode: Ative para permitir conex\u00f5es externas</li> <li>Clique em Create database.</li> </ol> <p>\ud83d\udd10 Nota: Anote o endpoint, porta, nome de usu\u00e1rio e senha para uso posterior.</p>"},{"location":"projetos_2025-1/projeto/#entrega-2","title":"Entrega 2","text":"<p>A entrega dever\u00e1 ser um link do projeto no GitHub, contendo alem do entregue antes (o c\u00f3digo da API e o Dockerfile),deve ter tambem:</p> <p>Entrega</p> <p>Deve haver uma documenta\u00e7\u00e3o b\u00e1sica do projeto no MkDocs, contendo:</p> <ul> <li>explica\u00e7\u00e3o do projeto - scrap do que foi feito;</li> <li>explica\u00e7\u00e3o de como executar a aplica\u00e7\u00e3o;</li> <li>screenshot com os endpoints AWS testados;</li> <li>screenshot da infraestrutura funcionando na AWS;</li> <li>Tela dos custos da conta no mesmo dia da submiss\u00e3o dos documentos;</li> <li>video de execu\u00e7\u00e3o da aplica\u00e7\u00e3o funcionando no Ligthsail - de at\u00e9 1 minuto mostrando o acesso e a grava\u00e7\u00e3o de dados no banco de dados em Cloud;</li> <li>Para conceito B, na documenta\u00e7\u00e3o dos custos deve ser projetado para: 1, 5 e 10 instancias de containers;</li> </ul>"},{"location":"projetos_2025-1/projeto/#rubrica","title":"Rubrica","text":"<p>Rubrica</p> Crit\u00e9rio Observa\u00e7\u00f5es FastAPI funcional com Docker Compose e banco local (PostgreSQL ou MySQL) App sobe com <code>docker-compose up</code>, banco acess\u00edvel pela aplica\u00e7\u00e3o Imagem publicada no Docker Hub e projeto organizado (<code>.env</code>, <code>.dockerignore</code>, estrutura clara) Demonstra conhecimento m\u00ednimo em containeriza\u00e7\u00e3o Documenta\u00e7\u00e3o m\u00ednima local (<code>README.md</code>) Instru\u00e7\u00f5es para build e execu\u00e7\u00e3o, com informa\u00e7\u00f5es da aplica\u00e7\u00e3o Deploy funcional no AWS Lightsail Containers App acess\u00edvel publicamente via URL fornecida pela AWS Banco de dados gerenciado no Lightsail funcionando e conectado \u00e0 aplica\u00e7\u00e3o Uso correto de vari\u00e1veis de ambiente, sem <code>localhost</code> no backend Documenta\u00e7\u00e3o da etapa na nuvem com instru\u00e7\u00f5es b\u00e1sicas de deploy Link de acesso + descri\u00e7\u00e3o do processo de publica\u00e7\u00e3o N\u00e3o estourar o custo mensal da infraestrutura que deve ser \u2264 USD 50 Custo estimado com base nos planos usados, infra\u00e7\u00e3o detalhada abaixo. Conceito C = Aprovado se todas as partes funcionarem e forem documentadas Projeto m\u00ednimo completo e compreens\u00edvel com as entregas 1 e 2 feitas Entregar o Conceito C ------------ Apresentar a arquitetura final do projeto em diagrama Indicar os componentes: app, container, banco, rede, dom\u00ednio Informar corretamente os recursos alocados (plano Lightsail, RAM, CPU, tipo do DB) Pode ser um par\u00e1grafo ou print com descri\u00e7\u00e3o dos planos usados Estimar o custo mensal da infraestrutura (\u2264 USD 50) Custo estimado com base nos planos usados, pode ser por texto ou print Conceito B = Aluno demonstra clareza na arquitetura e planejamento do uso de nuvem A entrega vai al\u00e9m da execu\u00e7\u00e3o, com compreens\u00e3o de recursos e custos Entregar o Conceito B ------------ Documenta\u00e7\u00e3o detalhada (ex: imagens do Lightsail, MkDocs, explica\u00e7\u00e3o clara do fluxo) Entrega cuidadosa e bem comunicada Explica\u00e7\u00e3o sobre a integra\u00e7\u00e3o app \u2194 banco (host, porta, seguran\u00e7a, vari\u00e1veis) Demonstra dom\u00ednio t\u00e9cnico da arquitetura e da integra\u00e7\u00e3o Banco de Dados instalado em Instancia no Ligthsail e conectado a aplica\u00e7\u00e3o Demonstra dom\u00ednio adicional sobre a arquitetura e produ\u00e7\u00e3o Conceito A = Entrega clara, comunicada, com dom\u00ednio da solu\u00e7\u00e3o em nuvem Mostra que o aluno sabe o que fez, como funciona e quanto custa <p>Ponto Extra ou Negativo !!!!</p> <p>Se a primeira etapa for entregue at\u00e9 o dia 30.abr, o aluno ganha meio conceito extra na nota final, ou seja, se ele tirar C, fica com C+.</p> <p>A cada 10 dolares gasto a mais que o custo planejado USD 50, o aluno perde meio conceito extar na nota final ou seja, se ele tirar C+, fica com C.</p>"},{"location":"projetos_2025-1/projeto/#anexos","title":"Anexos","text":""},{"location":"projetos_2025-1/projeto/#docker-compose-material-de-aula","title":"Docker compose: material de aula","text":"estrutura para dois containers num mesmo compose<pre><code>api\n  Dockerfile\nweb\n  Dockerfile\n  hello.txt\n.env\ncompose.yaml\n</code></pre> ././api./web .env<pre><code>MINHA_SENHA=S3nh4S3cr3t4\n</code></pre> compose.yaml<pre><code>name: projeto\n\nservices:\n\n  api:\n    build:\n      context: ./api\n    environment:\n      - MINHA_VARIAVEL=${MINHA_SENHA:-projeto}\n    deploy:\n      replicas: 3\n\n  web:\n    build:\n      context: ./web\n    ports:\n      - 8080:80\n    depends_on:\n      - api\n</code></pre> Dockerfile<pre><code>FROM ubuntu:22.04\n\nENTRYPOINT [ \"tail\", \"-f\", \"/dev/null\" ]\n</code></pre> Dockerfile<pre><code>FROM nginx:latest\n\nRUN apt-get -y update\nRUN apt-get -y install net-tools iputils-ping\n\nCOPY hello.txt /\n</code></pre> hello.txt<pre><code>hello world!\n</code></pre>"},{"location":"projetos_2025-1/projeto/#executando-o-docker-compose","title":"Executando o docker compose","text":"<pre><code>&gt; docker compose up -d --build\n[+] Running 4/4\n \u2714 Container projeto-api-1  Running       0.0s \n \u2714 Container projeto-api-2  Running       0.0s \n \u2714 Container projeto-api-3  Running       0.0s \n \u2714 Container projeto-web-1  Started  \n</code></pre>"},{"location":"projetos_2025-1/projeto/#parando-o-docker-compose","title":"Parando o docker compose","text":"<pre><code>&gt; docker compose down         \n[+] Running 5/5\n \u2714 Container projeto-web-1  Removed     0.2s \n \u2714 Container projeto-api-1  Removed    10.5s \n \u2714 Container projeto-api-2  Removed    10.4s \n \u2714 Container projeto-api-3  Removed    10.5s \n \u2714 Network projeto_default  Removed \n</code></pre>"},{"location":"projetos_2025-1/projeto/#referencias","title":"Refer\u00eancias","text":"<ol> <li> <p>Introduction to JSON Web Tokens \u21a9</p> </li> <li> <p>How to containerize different types of services \u21a9</p> </li> </ol>"},{"location":"projetos_2025-2/","title":"Projeto Final","text":"<p>Esta se\u00e7\u00e3o ser\u00e1 dedicada ao Projeto Final do curso.</p> <p>Aqui voc\u00ea encontrar\u00e1 orienta\u00e7\u00f5es detalhadas sobre a proposta do projeto, requisitos t\u00e9cnicos, crit\u00e9rios de avalia\u00e7\u00e3o, e tema.</p> <p>O projeto tem como objetivo integrar os conhecimentos adquiridos ao longo dos roteiros e tutoriais, permitindo a aplica\u00e7\u00e3o pr\u00e1tica de conceitos de computa\u00e7\u00e3o em nuvem.</p>"},{"location":"projetos_2025-2/#clique-aqui-o-pdf-do-projeto-estara-disponivel-aqui","title":"CLIQUE AQUI, o PDF do projeto estar\u00e1 disponivel aqui !!!!!!!","text":"<p>Voltar para In\u00edcio</p>"},{"location":"roteiros/1.app/","title":"Bare Metal - Aplica\u00e7\u00e3o","text":""},{"location":"roteiros/1.app/#usando-a-infraestrutura-django-em-nuvem-bare-metal","title":"Usando a infraestrutura: Django em Nuvem Bare-Metal","text":"<p>Vamos realizar um deploy manual de uma aplica\u00e7\u00e3o simples em Django em nossa nuvem MaaS.</p> <p>Antes de come\u00e7ar</p> <p>Realize um pequeno ajuste no DNS server: No Dashboard do MaaS, v\u00e1 em Subnets, clique na subnet <code>172.16.0.0/20</code> e edite o Subnet summary, colocando o DNS do Insper: <code>172.20.129.131</code></p>"},{"location":"roteiros/1.app/#primeira-parte-banco-de-dados-postgresql","title":"Primeira parte: Banco de Dados - PostgreSQL","text":"<p>Postgres \u00e9 um servidor de banco de dados vers\u00e1til e amplamente usado em projetos Open Source.</p> <p>Passos:</p> <ul> <li>No Dashboard do MaaS, realize o deploy do Ubuntu 22.04 no server1.</li> <li>Acesse o terminal do server1 via SSH.</li> <li>Instale o PostgreSQL:</li> </ul> <pre><code>sudo apt update\nsudo apt install postgresql postgresql-contrib -y\n</code></pre> <p>Crie o usu\u00e1rio da aplica\u00e7\u00e3o:</p> <pre><code>sudo su - postgres\ncreateuser -s cloud -W\n</code></pre> <p>(Senha: <code>cloud25+letra</code>)</p> <p>Crie o banco de dados:</p> <pre><code>createdb -O cloud tasks\n</code></pre> <p>Exponha o servi\u00e7o para acesso remoto:</p> <ul> <li>Edite o <code>postgresql.conf</code>:</li> </ul> <pre><code>sudo nano /etc/postgresql/&lt;vers\u00e3o&gt;/main/postgresql.conf\n</code></pre> <p>Altere:</p> <pre><code>listen_addresses = '*'\n</code></pre> <ul> <li>Edite o <code>pg_hba.conf</code>:</li> </ul> <pre><code>sudo nano /etc/postgresql/&lt;vers\u00e3o&gt;/main/pg_hba.conf\n</code></pre> <p>Adicione:</p> <pre><code>host    all    all    172.16.0.0/20    trust\n</code></pre> <p>Saia do usu\u00e1rio postgres Finalize:</p> <pre><code>exit\nsudo ufw allow 5432/tcp\nsudo systemctl restart postgresql\n</code></pre> <p>Lab1.1. Tarefa 1</p> <p>Link para o Prairielearn - Tarefa 1 Importante: N\u00e3o deixe para fazer a tarefa depois para n\u00e3o perder o estado atual do ambiente.</p>"},{"location":"roteiros/1.app/#parte-ii-aplicacao-django","title":"Parte II: Aplica\u00e7\u00e3o Django","text":"<p>Agora vamos subir uma aplica\u00e7\u00e3o Django no server2.</p> <p>Passos:</p> <ul> <li>No MaaS, deploy do Ubuntu 22.04 no server2.</li> <li>SSH no server2:</li> </ul> <pre><code>sudo apt update\nsudo apt upgrade -y\nsudo apt install python3-pip python3-full\npython3 -m venv venv\nsource venv/bin/activate\npip install Django\ndjango-admin --version\ndjango-admin startproject my_&lt;kit+letra&gt;_project\npython manage.py startapp members\n</code></pre> <p>Sobre Visualiza\u00e7\u00f5es no Django</p> <p>Visualiza\u00e7\u00f5es s\u00e3o fun\u00e7\u00f5es Python que recebem requisi\u00e7\u00f5es HTTP e retornam respostas HTTP (HTML, JSON, etc).</p> <p>Uma p\u00e1gina da web que usa Django est\u00e1 cheia de visualiza\u00e7\u00f5es com diferentes tarefas e miss\u00f5es.</p> <p>As visualiza\u00e7\u00f5es geralmente s\u00e3o colocadas em um arquivo chamado views.py localizado na pasta do seu aplicativo.</p>"},{"location":"roteiros/1.app/#criando-a-view","title":"Criando a View:","text":"<p>Edite o <code>views.py</code>:</p> <pre><code>from django.http import HttpResponse\n\ndef members(request):\n    return HttpResponse(\"Hello world!\")\n</code></pre> <p>Sobre urls no Django</p> <p>Mas como podemos executar a visualiza\u00e7\u00e3o? Bem, precisamos chamar a visualiza\u00e7\u00e3o por meio de uma URL. Ele define quais fun\u00e7\u00f5es (views) ser\u00e3o executadas quando um usu\u00e1rio acessar uma determinada URL no navegador. Em outras palavras: Ele mapeia um caminho da URL para uma fun\u00e7\u00e3o espec\u00edfica do seu c\u00f3digo.</p> <p>Crie um <code>urls.py</code> dentro de <code>members</code>:</p> <pre><code>from django.urls import path\nfrom . import views\n\nurlpatterns = [\n    path('members/', views.members, name='members'),\n]\n</code></pre> <p>No <code>urls.py</code> raiz:</p> <pre><code>from django.contrib import admin\nfrom django.urls import include, path\n\nurlpatterns = [\n    path('', include('members.urls')),\n    path('admin/', admin.site.urls),\n]\n</code></pre> <p>Execute o servidor Django:</p> <pre><code>python manage.py runserver 0.0.0.0:8000\n</code></pre> <p>Teste no navegador: <code>http://localhost:8000</code></p>"},{"location":"roteiros/1.app/#modelos-criando-templates","title":"Modelos -&gt; Criando Templates","text":"<p>Sobre modelos</p> <p>J\u00e1 aprendemos que o resultado da requisic\u00e3o deve estar em HTML e deve ser criado em um modelo, ent\u00e3o vamos fazer isso.</p> <p>Crie uma pasta templates dentro da pasta members e crie um arquivo HTML chamado myfirst.html</p> <p>Estrutura esperada:</p> <pre><code>my_&lt;kit+letra&gt;_project/\n\u251c\u2500\u2500 manage.py\n\u251c\u2500\u2500 my_&lt;kit+letra&gt;_project/\n\u2514\u2500\u2500 members/\n    \u2514\u2500\u2500 templates/\n        \u2514\u2500\u2500 myfirst.html\n</code></pre> <p>Se quiser, use o comando:</p> <pre><code>sudo apt install tree\ntree -L 2\n</code></pre> <p>Conte\u00fado do HTML:</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"pt-br\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;title&gt;{% block title %}Minha Aplica\u00e7\u00e3o Django{% endblock %}&lt;/title&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\n    &lt;!-- Estilo b\u00e1sico --&gt;\n    &lt;style&gt;\n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background-color: #f5f5f5;\n            margin: 0;\n            padding: 0;\n        }\n        header, footer {\n            background-color: #003366;\n            color: white;\n            padding: 1rem;\n            text-align: center;\n        }\n        nav {\n            background-color: #005599;\n            padding: 0.5rem;\n            text-align: center;\n        }\n        nav a {\n            color: white;\n            margin: 0 15px;\n            text-decoration: none;\n            font-weight: bold;\n        }\n        main {\n            padding: 2rem;\n        }\n        .container {\n            background-color: white;\n            border-radius: 10px;\n            padding: 2rem;\n            max-width: 900px;\n            margin: 0 auto;\n            box-shadow: 0 4px 8px rgba(0,0,0,0.1);\n        }\n    &lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;header&gt;\n    &lt;h1&gt;Projeto Django \u2013 Engenharia do Insper&lt;/h1&gt;\n    &lt;p&gt;Desenvolvido com Django por {{ user.username|default:\"Visitante\" }}&lt;/p&gt;\n&lt;/header&gt;\n\n&lt;nav&gt;\n    &lt;a href=\"#\"&gt;In\u00edcio&lt;/a&gt;\n    &lt;a href=\"#\"&gt;Sobre&lt;/a&gt;\n    &lt;a href=\"#\"&gt;Membros&lt;/a&gt;\n    {% if user.is_authenticated %}\n        &lt;a href=\"#\"&gt;Sair&lt;/a&gt;\n    {% else %}\n        &lt;a href=\"#\"&gt;Login&lt;/a&gt;\n    {% endif %}\n&lt;/nav&gt;\n\n&lt;main&gt;\n    &lt;div class=\"container\"&gt;\n        {% block content %}\n        &lt;h2&gt;Bem-vindo \u00e0 sua aplica\u00e7\u00e3o Django!&lt;/h2&gt;\n        &lt;p&gt;Esta \u00e9 uma estrutura inicial para construir funcionalidades.&lt;/p&gt;\n        {% endblock %}\n    &lt;/div&gt;\n&lt;/main&gt;\n\n&lt;footer&gt;\n    &lt;p&gt;\u00a9 {{ year }} Insper - Engenharia da Computa\u00e7\u00e3o&lt;/p&gt;\n&lt;/footer&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>"},{"location":"roteiros/1.app/#modificar-a-visualizacao-para-carregar-o-template","title":"Modificar a Visualiza\u00e7\u00e3o para carregar o Template","text":"<p>Em <code>members/views.py</code>:</p> <pre><code>from django.http import HttpResponse\nfrom django.template import loader\n\ndef members(request):\n    template = loader.get_template('myfirst.html')\n    return HttpResponse(template.render())\n</code></pre>"},{"location":"roteiros/1.app/#alterar-installed_apps","title":"Alterar INSTALLED_APPS:","text":"<p>Em <code>settings.py</code>:</p> <pre><code>INSTALLED_APPS = [\n    ...\n    'members',\n]\n</code></pre> <p>Rodar:</p> <pre><code>python manage.py migrate\n</code></pre> <p>O que produzir\u00e1 uma sa\u00edda parecida com esta:</p> <pre><code>Operations to perform:\n  Apply all migrations: admin, auth, contenttypes, sessions\nRunning migrations:\n  Applying contenttypes.0001_initial... OK\n  Applying auth.0001_initial... OK\n  Applying admin.0001_initial... OK\n  Applying admin.0002_logentry_remove_auto_add... OK\n  Applying admin.0003_logentry_add_action_flag_choices... OK\n  Applying contenttypes.0002_remove_content_type_name... OK\n  Applying auth.0002_alter_permission_name_max_length... OK\n  Applying auth.0003_alter_user_email_max_length... OK\n  Applying auth.0004_alter_user_username_opts... OK\n  Applying auth.0005_alter_user_last_login_null... OK\n  Applying auth.0006_require_contenttypes_0002... OK\n  Applying auth.0007_alter_validators_add_error_messages... OK\n  Applying auth.0008_alter_user_username_max_length... OK\n  Applying auth.0009_alter_user_last_name_max_length... OK\n  Applying auth.0010_alter_group_name_max_length... OK\n  Applying auth.0011_update_proxy_permissions... OK\n  Applying auth.0012_alter_user_first_name_max_length... OK\n  Applying sessions.0001_initial... OK\n</code></pre> <p>Teste no navegador: <code>http://localhost:8000</code></p> Sobre o banco de dados SQLite <p>Quando criamos o projeto Django, um banco SQLite vazio (<code>db.sqlite3</code>) \u00e9 criado na raiz. Por\u00e9m o nosso objetivo ser\u00e1 migrar para PostgreSQL!</p>"},{"location":"roteiros/1.app/#migrar-modelos-para-o-sqlite-inicial","title":"Migrar Modelos para o SQLite inicial","text":"<pre><code>python manage.py makemigrations members\npython manage.py migrate\n</code></pre> <p>Agora voc\u00ea tem uma tabela Member em seu banco de dados!</p> <ul> <li>Tudo deve estar funcionando corretamente, porem o banco que queremos, N\u00c3O \u00e9 o SQlite, queremos conectar nossa aplica\u00e7\u00e3o Django ao Banco Postgresqs instalado no server1 !!!</li> </ul>"},{"location":"roteiros/1.app/#conectando-o-django-ao-postgresql","title":"Conectando o Django ao PostgreSQL","text":"<p>Instale os drivers:</p> <pre><code>pip install psycopg2-binary psycopg\n</code></pre> <p>Edite <code>settings.py</code>:</p> <p>De:</p> <pre><code>'ENGINE': 'django.db.backends.sqlite3',\n'NAME': BASE_DIR / 'db.sqlite3',\n</code></pre> <p>Para:</p> <pre><code>'ENGINE': 'django.db.backends.postgresql',\n'NAME': 'postgres',\n'USER': '&lt;usuario criado&gt;',\n'PASSWORD': '&lt;senha&gt;',\n'HOST': '&lt;IP do server1&gt;',\n'PORT': '5432',\n</code></pre> <p>Depois:</p> <pre><code>python manage.py migrate\n</code></pre> <p>E:</p> <pre><code>python manage.py runserver 0.0.0.0:8000\n</code></pre>"},{"location":"roteiros/1.app/#criando-o-superuser","title":"Criando o Superuser:","text":"<pre><code>python manage.py createsuperuser\n</code></pre> <p>Login: <code>cloud25</code> Senha: <code>cloud25</code></p>"},{"location":"roteiros/1.app/#expondo-a-aplicacao-externamente-ssh-tunnel","title":"Expondo a Aplica\u00e7\u00e3o Externamente (SSH Tunnel):","text":"<p>Note</p> <p>Para acessar o servi\u00e7o no seu browser seria necess\u00e1rio fazer um NAT no roteador. Por\u00e9m podemos considerar utilizar um TUNEL SSH, com esse servi\u00e7o tempor\u00e1rio podemos expor o servi\u00e7o para fora do kit enquanto o terminal que o tunnel estiver utilizando esteja ativo.</p> <p>Feche o terminal, com o acesso a partir do seu notebook, fa\u00e7a o comando SSH da rede do Insper (Wi-fi), apontando para o servidor MAIN:</p> <pre><code>ssh cloud@10.103.1.X -L 8001:[IP server2]:8000\n</code></pre> <p>Acesse: <code>http://localhost:8001/admin/</code></p> <p>Lab1.2. Tarefa 2</p> <p>Tarefa 2 - Prairielearn Fa\u00e7a agora para n\u00e3o perder o estado!</p> <p>Lab1.3. Tarefa 3</p> <p>Tarefa 3 - Prairielearn N\u00e3o deixe para depois!</p>"},{"location":"roteiros/1.app/#utilizando-o-ansible-deploy-automatizado-de-aplicacao","title":"Utilizando o Ansible - deploy automatizado de aplica\u00e7\u00e3o","text":"<p>At\u00e9 agora temos 1 aplica\u00e7\u00e3o Django (server2) conectada a um banco de dados, agora vamos melhorar esta arquitetura, criaremos mais uma aplica\u00e7\u00e3o django (server3) compartilhando o mesmo banco de dados (server1).</p> <p>Os motivos para fazermos isso s\u00e3o dois:</p> <ul> <li>Alta disponibilidade: se um node cair o outro est\u00e1 no ar, para que nosso cliente acesse.</li> <li>Load Balancing: podemos dividir a carga de acesso entre os n\u00f3s.</li> </ul> <p>Vamos realizar a instala\u00e7\u00e3o da mesma aplica\u00e7\u00e3o de forma autom\u00e1tica. </p> <p>Vamos ent\u00e3o utilizar novos conceitos e ferramentas: Exemplo - gerenciador de deploy Ansible (https://www.ansible.com/)</p> <p>Caracter\u00edsticas:</p> <ul> <li>Idempotente no sentido de conseguir repetir todos os procedimentos sem afetar os estados intermedi\u00e1rios da insta\u00e7\u00e3o.</li> <li>F\u00e1cil de se lidar com um pool de m\u00e1quinas simultaneamente.</li> <li>Consegue realizar o provisionamento autom\u00e1tico de VMs e Containers (mas n\u00e3o metal).</li> </ul> <p>Fazer agora:</p> <ul> <li>Pe\u00e7a o deploy no server3 para o maas via cli</li> <li>Agora no SSH do MAIN:</li> </ul> <pre><code>  sudo apt install ansible\n  wget https://raw.githubusercontent.com/Takahacker/my_kitq_project/main/my_kitq_project-install-playbook.yaml\n  ansible-playbook tasks-install-playbook.yaml -\\-extra-vars server=[IP server3]\n</code></pre> <ul> <li>Confirme que o Django foi instalado automaticamente no server3, sem que voc\u00ea precise alterar nada!!!</li> </ul> <p>Lab1.4. Tarefa 4</p> <p>Roteiro 1 MAAS_APP </p> <p>V\u00e1 para a plataforma do prairielearn e fa\u00e7a a atividade Tarefa 4.</p> <p>Obs: N\u00c3O deixe para fazer a tarefa depois para n\u00e3o perder o \"estado\" atual do seu ambinete</p>"},{"location":"roteiros/1.app/#balancamento-de-carga-usando-proxy-reverso","title":"Balancamento de carga usando Proxy Reverso","text":"<p>Seria ideal que tiv\u00e9ssemos apenas um ponto de entrada, ao inv\u00e9s de escolher manualmente ou chavear os IPs dos n\u00f3s.</p> <p>Para montar o ponto \u00fanico de entrada, utilizaremos uma aplica\u00e7\u00e3o de proxy reverso como load balancer.</p> <p>Voc\u00eas devem conseguir instalar o NGINX no n\u00f3 server4 como loadbalancer ... </p> <p>Ent\u00e3o monte este proxy.</p> <ul> <li>Tutorial para fazer manual: https://www.digitalocean.com/community/tutorials/how-to-set-up-nginx-load-balancing</li> </ul> Dicas <p>Loadbalancing \u00e9 um mecanismo \u00fatil para distribuir o tr\u00e1fego de entrada por v\u00e1rios servidores privados virtuais capazes. Ao distribuir o mecanismo de processamento por v\u00e1rias m\u00e1quinas, a redund\u00e2ncia \u00e9 fornecida \u00e0 aplica\u00e7\u00e3o - garantindo toler\u00e2ncia a falhas e maior estabilidade. O algoritmo Round Robin para balanceamento de carga envia visitantes para um conjunto de IPs. Em seu n\u00edvel mais b\u00e1sico, o Round Robin, que \u00e9 relativamente f\u00e1cil de implementar, distribui a carga do servidor sem considerar fatores mais matizados como o tempo de resposta do servidor e a regi\u00e3o geogr\u00e1fica dos visitantes.</p> <p>Configura\u00e7\u00e3o:   Antes de configurar o loadbalancing do nginx, voc\u00ea deve ter o nginx instalado no seu VPS. Voc\u00ea pode instal\u00e1-lo rapidamente com o apt-get:</p> <p>$ sudo apt-get install nginx</p> <p>M\u00f3dulo Upstream</p> <p>Para configurar um loadbalancer round robin, precisaremos usar o m\u00f3dulo upstream do nginx. Incorporaremos a configura\u00e7\u00e3o nas defini\u00e7\u00f5es do nginx.</p> <p>Prossiga e abra a configura\u00e7\u00e3o do seu site (neste exemplo, trabalharei com o host virtual padr\u00e3o gen\u00e9rico):</p> <p>$ sudo nano /etc/nginx/sites-available/default</p> <p>Precisamos adicionar a configura\u00e7\u00e3o de balanceamento de carga ao arquivo.</p> <p>Primeiro, precisamos incluir o m\u00f3dulo upstream, que se parece com isto:</p> <p>upstream backend { server backend1.exemplo.com; server backend2.exemplo.com; server backend3.exemplo.com; }</p> <p>Depois, devemos referenciar o m\u00f3dulo mais adiante na configura\u00e7\u00e3o:</p> <p>server { location / { proxy_pass http://backend; } }</p> <p>Reinicie o nginx:</p> <p>$ sudo service nginx restart</p> <p>Contanto que voc\u00ea tenha todos os servidores privados virtuais no lugar, agora voc\u00ea deve encontrar que o balanceador de carga come\u00e7ar\u00e1 a distribuir os visitantes igualmente para os servidores vinculados.</p> Dicas <p>No arquivo de tasks/views.py de cada Django modifique a mensagem \"Hello World ...\" para conseguir identificar cada server (coloque uma mensagem diferente em cada)</p> <p>C\u00f3digo:</p> <pre><code>from django.shortcuts import render\n\nfrom django.http import HttpResponse\n\ndef index(request):\n\n  return HttpResponse(\"Hello, world. You're at the tasks index.\")\n</code></pre> <p>No arquivo de urls.py customize o seu path no urlpatterns:</p> <p>urlpatterns = [path( '  ', views.index, name='index'),]</p> <p>Lab1.5. Tarefa 5</p> <p>Roteiro 1 MAAS_APP </p> <p>V\u00e1 para a plataforma do prairielearn e fa\u00e7a a atividade Tarefa 5.</p> <p>Obs: N\u00c3O deixe para fazer a tarefa depois para n\u00e3o perder o \"estado\" atual do seu ambinete</p> <p>Limpeza do ambiente</p> <p>Agora que voc\u00ea utilizou um gerenciador de deploy, vamos retormar a cria\u00e7\u00e3o de nuvem utilizando este novo conceito.!!!!</p> <p>Remova o deploy (release) de todos n\u00f3s no kit.</p>"},{"location":"roteiros/1.cabeamento/","title":"Laborat\u00f3rio de Cabeamento","text":""},{"location":"roteiros/1.cabeamento/#objetivos","title":"Objetivos:","text":"<ul> <li>Conhecer os padr\u00f5es mais utilizados para o cabeamento de rede e aprender a confeccionar um cabo de rede.</li> <li>Realizar a configura\u00e7\u00e3o f\u00edsica inicial de todos os equipamentos que comp\u00f5em o kit de trabalho de Cloud Computing.</li> <li>Garantir que a infraestrutura f\u00edsica esteja pronta para a pr\u00f3xima etapa: o provisionamento dos servidores via MAAS.</li> </ul>"},{"location":"roteiros/1.cabeamento/#pre-requisitos","title":"Pr\u00e9-requisitos:","text":"<ul> <li>Leitura pr\u00e9via sobre Ethernet, com foco nos temas:   [Tanenbaum - Se\u00e7\u00f5es 2.2.2 Par Tran\u00e7ado, 4.3.1 Cabeamento Ethernet, 4.3.8 Ethernet de Gigabit].</li> </ul>"},{"location":"roteiros/1.cabeamento/#visao-geral-do-kit-de-cloud-computing","title":"Vis\u00e3o Geral do Kit de Cloud Computing","text":"<p>O seu kit cont\u00e9m os seguintes itens:</p> <ul> <li>1 Roteador TP-LINK TL-R470T+</li> <li>1 Switch DLink DSG-1210-28 de 28 portas</li> <li>6 hosts (NUCs)</li> </ul> <p></p>"},{"location":"roteiros/1.cabeamento/#passo-1-confeccao-do-cabo-de-rede-patch-cord","title":"Passo 1 \u2013 Confec\u00e7\u00e3o do Cabo de Rede (Patch Cord)","text":""},{"location":"roteiros/1.cabeamento/#primeiro-exercicio","title":"Primeiro exerc\u00edcio:","text":"<p>Voc\u00ea ir\u00e1 confeccionar um cabo de rede para conectar seu notebook ao ambiente do kit.</p> <p>Utilizaremos o padr\u00e3o ANSI/TIA/EIA 568, com a categoria de cabo Cat6.</p> <p></p>"},{"location":"roteiros/1.cabeamento/#resumo-das-categorias-de-cabos-ethernet","title":"Resumo das Categorias de Cabos Ethernet:","text":"<p>Um resumo das diferen\u00e7as entre as categorias de cabos Ethernet:</p> <ul> <li>Categoria 4 (Cat 4):</li> </ul> <p>Suporta velocidades de at\u00e9 16 Mbps. Pouco comum e geralmente substitu\u00eddo por cabos de categoria superior devido \u00e0 sua limitada largura de banda.</p> <ul> <li>Categoria 5 (Cat 5):</li> </ul> <p>Introduziu melhorias significativas na capacidade de transmiss\u00e3o de dados. Suporta velocidades de at\u00e9 100 Mbps (Ethernet 100BASE-TX). Utilizado amplamente para redes Ethernet 100BASE-TX e tamb\u00e9m para redes de telefonia e v\u00eddeo.</p> <ul> <li>Categoria 5e (Cat 5e):</li> </ul> <p>\"E\" significa \"Enhanced\" (Aprimorado). Melhorias adicionais na capacidade de transmiss\u00e3o e redu\u00e7\u00e3o da interfer\u00eancia. Suporta velocidades de at\u00e9 1 Gbps (Gigabit Ethernet) at\u00e9 100 metros.</p> <ul> <li>Categoria 6 (Cat 6):</li> </ul> <p>Oferece melhor desempenho e largura de banda em compara\u00e7\u00e3o com Cat 5e. Suporta velocidades de at\u00e9 10 Gbps em curtas dist\u00e2ncias (at\u00e9 55 metros) e at\u00e9 1 Gbps em dist\u00e2ncias de at\u00e9 100 metros. Categoria 6a (Cat 6a):</p> <p>\"A\" significa \"Augmented\" (Aumentado). Melhorias adicionais na capacidade de transmiss\u00e3o e redu\u00e7\u00e3o da interfer\u00eancia em compara\u00e7\u00e3o com Cat 6. Suporta velocidades de at\u00e9 10 Gbps em dist\u00e2ncias de at\u00e9 100 metros.</p> <ul> <li>Categoria 7 (Cat 7):</li> </ul> <p>Introduzido para suportar o padr\u00e3o 10GBASE-T. Oferece maior largura de banda e imunidade a interfer\u00eancias. Suporta velocidades de at\u00e9 10 Gbps em dist\u00e2ncias de at\u00e9 100 metros.</p> <ul> <li>Categoria 8 (Cat 8):</li> </ul> <p>Projetado para atender \u00e0s demandas de redes de alta velocidade, como data centers e backbone de rede. Suporta velocidades de at\u00e9 40 Gbps e 100 Gbps em curtas dist\u00e2ncias (at\u00e9 30 metros).</p> <p></p>"},{"location":"roteiros/1.cabeamento/#revisao-protocolo-ethernet","title":"Revis\u00e3o: Protocolo Ethernet","text":"<p>O protocolo Ethernet \u00e9 um dos protocolos mais comuns e amplamente utilizados em redes de computadores. Ele define as regras para a comunica\u00e7\u00e3o de dados entre dispositivos em uma rede local (LAN - Local Area Network).</p> <p>Aqui est\u00e3o alguns pontos-chave sobre o protocolo Ethernet:</p> <p>Meio de Transmiss\u00e3o: O Ethernet pode ser usado em diferentes tipos de m\u00eddia de transmiss\u00e3o, incluindo cabos de cobre (como o Ethernet de par tran\u00e7ado) e fibra \u00f3ptica. Isso proporciona flexibilidade na implementa\u00e7\u00e3o de redes Ethernet em diversos ambientes.</p> <p>Quadro Ethernet: Os dados s\u00e3o transmitidos em unidades chamadas de \"quadros Ethernet\". Cada quadro possui um cabe\u00e7alho e um trailer, al\u00e9m dos dados propriamente ditos. O cabe\u00e7alho cont\u00e9m informa\u00e7\u00f5es importantes, como endere\u00e7os MAC de origem e destino, tipo de protocolo e verifica\u00e7\u00e3o de erros.</p> <p>Endere\u00e7os MAC: Cada dispositivo em uma rede Ethernet possui um endere\u00e7o MAC (Media Access Control) \u00fanico, que \u00e9 gravado na placa de rede do dispositivo. Esses endere\u00e7os s\u00e3o utilizados para identificar os dispositivos na rede e determinar para qual dispositivo os quadros Ethernet s\u00e3o destinados.</p> <p>Acesso ao Meio: O protocolo Ethernet utiliza um m\u00e9todo de acesso ao meio chamado CSMA/CD (Carrier Sense Multiple Access with Collision Detection). Isso significa que os dispositivos verificam o meio de transmiss\u00e3o para detectar a presen\u00e7a de sinais de outros dispositivos antes de iniciar a transmiss\u00e3o. Se ocorrer uma colis\u00e3o (ou seja, dois dispositivos tentam transmitir simultaneamente), o CSMA/CD \u00e9 usado para lidar com a situa\u00e7\u00e3o e tentar retransmitir os dados de forma eficiente.</p> <p>Padr\u00f5es Ethernet: O Ethernet evoluiu ao longo do tempo, com diferentes padr\u00f5es que especificam velocidades de transmiss\u00e3o de dados, tipos de cabos, e outras caracter\u00edsticas. Alguns dos padr\u00f5es mais comuns incluem Ethernet de 10 Mbps (10BASE-T), Fast Ethernet de 100 Mbps (100BASE-TX), Gigabit Ethernet de 1 Gbps (1000BASE-T), e 10 Gigabit Ethernet de 10 Gbps (10GBASE-T).</p> <p></p>"},{"location":"roteiros/1.cabeamento/#lapidando-o-projeto","title":"Lapidando o Projeto","text":""},{"location":"roteiros/1.cabeamento/#antes-de-iniciar-a-proxima-etapa","title":"Antes de iniciar a pr\u00f3xima etapa:","text":"<p>\u00c9 obrigat\u00f3rio fazer o \"reset\" do switch e do roteador do seu kit!</p> <p>Agora, utilizando o cabo que voc\u00ea confeccionou:</p> <ul> <li>Conecte seu notebook aos equipamentos (roteador e switch) para configura-los.</li> </ul>"},{"location":"roteiros/1.cabeamento/#configuracao-inicial-do-roteador","title":"Configura\u00e7\u00e3o inicial do roteador:","text":"<ul> <li>Usu\u00e1rio: <code>admin</code></li> <li>Senha: <code>cloud26</code> + letra do kit (exemplo: Kit G \u2192 senha: <code>cloud26g</code>)</li> <li>Altere a rede LAN: O IP do roteador deve ser configurado como <code>172.16.0.1/20</code>. A partir deste momento, o DHCP do roteador come\u00e7ar\u00e1 a distribuir IPs na faixa <code>172.16.0.0/20</code>.</li> </ul>"},{"location":"roteiros/1.cabeamento/#configuracao-inicial-do-switch","title":"Configura\u00e7\u00e3o inicial do switch:","text":"<ul> <li>IP do switch: <code>172.16.0.2/20</code>.</li> </ul>"},{"location":"roteiros/1.cabeamento/#passo-2-anotacao-dos-mac-addresses-das-nucs","title":"Passo 2 \u2013 Anota\u00e7\u00e3o dos MAC Addresses das NUCs","text":"<p>Na parte inferior de cada NUC, localize e anote o MAC Address de todas as m\u00e1quinas. Voc\u00ea precisar\u00e1 dessas informa\u00e7\u00f5es durante a configura\u00e7\u00e3o do MAAS.</p> <p></p> <p>Identifica\u00e7\u00e3o dos hosts (da esquerda para a direita):</p> <ul> <li>main (n\u00e3o \u00e9 necess\u00e1rio pegar MAC_Address)</li> <li>server1</li> <li>server2</li> <li>server3</li> <li>server4</li> <li>server5</li> </ul>"},{"location":"roteiros/1.cabeamento/#passo-3-conexao-fisica-dos-hosts-ao-switch-e-roteador","title":"Passo 3 \u2013 Conex\u00e3o F\u00edsica dos Hosts ao Switch e Roteador","text":"<p>Com base na imagem de topologia (primeira imagem deste roteiro):</p> <ul> <li>Conecte os cabos de rede (pegar os cabos na caixa verde ao fundo do lab) no kit entre:</li> <li>Switch</li> <li>Hosts (NUCs)</li> <li>Roteador</li> </ul>"},{"location":"roteiros/1.cabeamento/#conclusao-desta-etapa","title":"Conclus\u00e3o desta Etapa:","text":"<p>Com o cabeamento pronto e os dispositivos configurados, sua infraestrutura f\u00edsica est\u00e1 finalizada. Agora voc\u00ea est\u00e1 pronto para seguir para o pr\u00f3ximo passo: Instalar e configurar o MAAS, que far\u00e1 o provisionamento autom\u00e1tico dos servidores bare-metal do seu kit.</p> <p>\ud83d\udc49 Continue para a se\u00e7\u00e3o Infraestrutura - MAAS no Roteiro 1.</p>"},{"location":"roteiros/1.infra/","title":"Bare Metal - Infraestrutura","text":""},{"location":"roteiros/1.infra/#criando-a-infraestrutura-nuvem-bare-metal","title":"Criando a Infraestrutura (Nuvem Bare-metal):","text":"<p>Warning</p> <p>N\u00c3O esque\u00e7a de fazer a Bridge no final deste roteiro Etapa-Bridge, se este passo n\u00e3o for feito, no roteiro 3 voc\u00ea ter\u00e1 que refazer TUDO a partir daqui novamente!!!!!</p> <ul> <li>Consulte a imagem abaixo, no \"Diagrama\" as setas laranjas representam a \"Bridge\" que ser\u00e1 implantada nos pr\u00f3ximos passos. </li> </ul> <p></p>"},{"location":"roteiros/1.infra/#instalando-o-ubuntu","title":"Instalando o Ubuntu","text":"<p>Procure tutoriais de como instalar o Sistema Operacional Ubuntu server, utilize um pen drive para baixar a imagem e criar um pendrive para boot da instalacao.</p> <ul> <li>Instale o Ubuntu Server 24.04 LTS na NUC main:<ul> <li>hostname: main</li> <li>login: cloud</li> <li>senha: (cloud26 + letra do kit)</li> <li>IP fixo: 172.16.0.3</li> <li>Name Servers (DNS): 172.20.129.131</li> </ul> </li> </ul>"},{"location":"roteiros/1.infra/#instalando-o-maas","title":"Instalando o MaaS","text":"<ul> <li>O MAAS possui diversas vers\u00f5es, iremos utilizar a \"stable\" 3.5.x link para visualizar o time line</li> <li>Antes de prosseguir, verifique se consegue pingar '8.8.8.8'. Se n\u00e3o conseguir, descubra como rotear os pacotes corretamente.</li> <li>Antes de prosseguir, verifique se consegue pingar 'www.google.com'. Se n\u00e3o conseguir, descubra como resolver as urls corretamente.</li> <li> <p><code>$ sudo apt update &amp;&amp; sudo apt upgrade -y</code></p> </li> <li> <p><code>$ sudo snap install maas --channel=3.5/stable</code></p> </li> <li> <p><code>$ sudo snap install maas-test-db</code></p> </li> </ul>"},{"location":"roteiros/1.infra/#acessando-sua-maquina-remotamente","title":"Acessando sua maquina remotamente.","text":"<ul> <li> <p>Pare de utilizar o terminal do servidor Main e fa\u00e7a o acesso remotamente pelo seu computador utilizando a ferramenta SSH</p> </li> <li> <p>Dentro da rede Local de o comando abaixo:</p> </li> </ul> <p><code>ssh cloud@172.16.0.3</code></p>"},{"location":"roteiros/1.infra/#configurando-o-maas","title":"Configurando o MaaS","text":"<ul> <li>Inicializando o MaaS:<ul> <li><code>$ sudo maas init region+rack --maas-url http://172.16.0.3:5240/MAAS --database-uri maas-test-db:///</code></li> <li><code>$ sudo maas createadmin</code></li> <li>use o login cloud</li> <li>use a senha padr\u00e3o da disciplina</li> <li>deixe a chave vazia</li> </ul> </li> <li>Gerando um par de chaves para autentica\u00e7\u00e3o.<ul> <li><code>$ ssh-keygen -t rsa</code></li> <li>use senha vazia dessa vez</li> <li><code>$ cat ./.ssh/id_rsa.pub</code></li> <li>copie a chave gerada</li> </ul> </li> <li>Agora vamos acessar o Dashboard do MaaS: <ul> <li>ele estar\u00e1 dispon\u00edvel em http://172.16.0.3:5240/MAAS.</li> <li>Entenda onde o servi\u00e7o esta rodando e fa\u00e7a o login</li> <li>configure um DNS Forwarder com o DNS do Insper (DNS Externo que o seu roteador enxerga).</li> <li>Importe as imagens do Ubuntu 22.04LTS e Ubuntu 24.04 LTS.</li> <li>Fa\u00e7a o upload da chave copiada no terminal SSH.</li> <li>Em Settings | General:</li> <li>Global Kernel Parameters: net.ifnames=0 (sem espa\u00e7os)</li> </ul> </li> </ul>"},{"location":"roteiros/1.infra/#chaveando-o-dhcp","title":"Chaveando o DHCP","text":"<ul> <li>Explore as configura\u00e7\u00f5es do MaaS. Habilite o DHCP na subrede pelo MaaS Controller, ALTERE o Reserved Range para iniciar em 172.16.11.1 e acabar em 172.16.14.255.</li> <li>Deixe o DNS da subnet apontando para o DNS do Insper!</li> <li>Desabilitar o DHCP no roteador.</li> </ul>"},{"location":"roteiros/1.infra/#checando-a-saude-do-maas","title":"Checando a sa\u00fade do MAAS","text":"<p>Confirme a sa\u00fade do sistema MAAS visitando a p\u00e1gina Controladores na interface web (dashboard). Selecione o nome do controlador e certifique-se de que a p\u00e1gina resultante mostre uma marca de sele\u00e7\u00e3o verde ao lado dos itens 'regiond' at\u00e9 'dhcpd':</p> <p></p>"},{"location":"roteiros/1.infra/#comissionando-servidores","title":"Comissionando servidores","text":"<p>Cadastre os hosts (machines) dispon\u00edveis, server1 ate server5</p> <ul> <li>Altere a op\u00e7\u00e3o Power Type para Intel AMT e preencha segundo as informacoes abaixo:<ol> <li>MacAddress que voce anotou (Se nao anotou, desmonta os cabos e faz tudo de novo!!!)</li> <li>A senha \u00e9 = CloudComp6s!</li> <li>IP do AMT = 172.16.15.X (sendo X o id do server, por exemplo server1 = 172.16.15.1) </li> </ol> </li> <li>As NUCs ir\u00e3o comissionar automaticamente, realizando o boot via PXE na rede.</li> <li>hora do Ch\u00e1, s\u00f3 aliviar o est\u00f4mago um pouco. Ch\u00e1 tamb\u00e9m tem cafe\u00edna.</li> <li>Todos os n\u00f3s devem aparecer com o status Ready. Verificar se as caracter\u00edsticas de hardware (cpu, mem\u00f3ria, SSD e rede) foram detectados com sucesso.</li> <li>Adicionar o Roteador como devices no Dashboard do MaaS</li> </ul>"},{"location":"roteiros/1.infra/#criando-ovs-bridge-atencao","title":"Criando OVS bridge (ATEN\u00c7\u00c3O!!!)","text":"<p>Uma Open vSwitch (OVS) bridge reduz a necessidade de duas interfaces de rede f\u00edsicas. </p> <p>As pontes OVS s\u00e3o criadas na aba Rede na p\u00e1gina de configura\u00e7\u00e3o de um n\u00f3. Aqui, vamos criar uma ponte a partir da interface regular 'enp1s0':</p> <p></p> <p>O nome da ponte ser\u00e1 referenciado em outras partes dos roteiros. Chame-a de \u2018br-ex\u2019.</p> <p> </p> <p>M\u00faltiplas VLANs podem ser adicionadas \u00e0 ponte, mas neste exemplo de nuvem, uma \u00fanica VLAN n\u00e3o etiquetada \u00e9 usada.</p> <p>Configure todos os cinco n\u00f3s de nuvem desta maneira para garantir que o OVN Chassis possa ser acomodado por qualquer n\u00f3.</p>"},{"location":"roteiros/1.infra/#fazendo-acesso-remoto-ao-seu-kit-pelo-wi-fi-do-insper-fora-da-rede-local","title":"Fazendo Acesso Remoto ao seu KIT pelo Wi-fi do Insper (fora da rede local)","text":"<p>De acordo com as aulas te\u00f3ricas, vamos realizar um NAT para permitir o acesso externo \"Rede Wi-fi Insper\" do seu computador ao servidor MAIN.</p> <p>A meta \u00e9 conseguir conectar no servidor principal \"main\" utilizando a porta 22.</p> <p>Libere tambem o acesso ao gerenciamento remoto do seu roteador criando uma regra de gest\u00e3o para a rede 0.0.0.0/0</p> <p>Se n\u00e3o lembrar das aulas te\u00f3ricas, pesquise por como fazer NAT no Roteador do seu KIT. </p> <p>LINK-documentacao</p>"},{"location":"roteiros/1.objetivo/","title":"Bare Metal","text":""},{"location":"roteiros/1.objetivo/#objetivos-do-roteiro-1","title":"Objetivos do Roteiro 1:","text":"<ul> <li>Compreender os conceitos fundamentais de uma plataforma de gerenciamento de hardware bare-metal.</li> <li>Introduzir os princ\u00edpios b\u00e1sicos de redes de computadores aplicados ao ambiente de laborat\u00f3rio.</li> <li>Preparar e padronizar a infraestrutura f\u00edsica antes da configura\u00e7\u00e3o l\u00f3gica dos servidores.</li> </ul>"},{"location":"roteiros/1.objetivo/#pre-requisitos","title":"Pr\u00e9-requisitos:","text":"<ul> <li>Realizar a leitura introdut\u00f3ria sobre o MaaS: https://maas.io/.</li> </ul> Info <p>DIVIS\u00c3O DO ROTEIRO 1</p> <p>Este roteiro est\u00e1 organizado em tr\u00eas partes sequenciais:</p> <ol> <li> <p>Prepara\u00e7\u00e3o da Infraestrutura F\u00edsica (Cabeamento e Rede)    Organiza\u00e7\u00e3o dos dispositivos, cabeamento estruturado e configura\u00e7\u00e3o inicial do roteador e switch.</p> </li> <li> <p>Cria\u00e7\u00e3o da Infraestrutura L\u00f3gica (Nuvem Bare-Metal)    Instala\u00e7\u00e3o e configura\u00e7\u00e3o do MaaS para provisionamento dos servidores f\u00edsicos.</p> </li> <li> <p>Uso da Infraestrutura: Deploy de uma Aplica\u00e7\u00e3o Django    Instala\u00e7\u00e3o e execu\u00e7\u00e3o de uma aplica\u00e7\u00e3o web para validar o funcionamento da infraestrutura criada.</p> </li> </ol>"},{"location":"roteiros/1.objetivo/#material-disponivel","title":"Material Dispon\u00edvel","text":"<p>Cada grupo ter\u00e1 acesso ao seguinte kit de equipamentos:</p> <ul> <li>1 NUC (main) com 10 GB de RAM e 1 SSD (120 GB)</li> <li>1 NUC (server1) com 12 GB de RAM e 1 SSD (120 GB)</li> <li>1 NUC (server2) com 16 GB de RAM e 2 SSDs (120 GB + 120 GB)</li> <li>3 NUCs (server3, server4 e server5) com 32 GB de RAM e 2 SSDs (120 GB + 120 GB cada)</li> <li>1 Switch D-Link DSG-1210-28 (28 portas)</li> <li>1 Roteador TP-Link TL-R470T+</li> </ul>"},{"location":"roteiros/1.objetivo/#rede","title":"Rede","text":"<p>Cada grupo contar\u00e1 com um ponto de rede (cabo preto) conectado \u00e0 infraestrutura interna da faculdade.</p> <p>Al\u00e9m disso, cada kit possui um IP de entrada espec\u00edfico. Consulte o dashboard do seu roteador para verificar os endere\u00e7os dispon\u00edveis.</p> <p>Importante: Atente-se \u00e0s modifica\u00e7\u00f5es e configura\u00e7\u00f5es necess\u00e1rias, conforme indicado nos requisitos de projeto descritos nas pr\u00f3ximas etapas.</p>"},{"location":"roteiros/1.objetivo/#senhas-padrao-de-seguranca","title":"Senhas - Padr\u00e3o de Seguran\u00e7a","text":"<p>Todas as senhas criadas durante o projeto devem seguir este padr\u00e3o:</p> <ul> <li>Utilize o formato: <code>cloud26</code> + letra do kit em min\u00fasculo.</li> <li>Exemplo: Para o kit \"Z\", a senha ser\u00e1: <code>cloud26z</code>.</li> <li>Esta senha deve ser usada em todos os servi\u00e7os e equipamentos configurados durante o roteiro.</li> <li>Nunca altere senhas pr\u00e9-configuradas nos dispositivos do kit.</li> </ul>"},{"location":"roteiros/1.objetivo/#tarefa-inicial-configuracao-fisica-da-infraestrutura","title":"\u26a1 Tarefa Inicial: Configura\u00e7\u00e3o F\u00edsica da Infraestrutura","text":"<p>Antes de iniciar as atividades de instala\u00e7\u00e3o l\u00f3gica (MAAS), voc\u00ea dever\u00e1 realizar a montagem f\u00edsica e padroniza\u00e7\u00e3o do seu kit.</p> <p>\ud83d\udc49 Para isso, acesse agora a se\u00e7\u00e3o Cabeamento, onde est\u00e3o as instru\u00e7\u00f5es detalhadas sobre: - Organiza\u00e7\u00e3o dos cabos - Liga\u00e7\u00e3o dos dispositivos - Configura\u00e7\u00e3o b\u00e1sica do roteador e do switch  </p> <p>Antes de iniciar os Roteiros, fa\u00e7a o cadastro do seu usu\u00e1rio na plataforma de teoria e acompanhamento de suas atividades ao longo do semestre.</p>"},{"location":"roteiros/1.objetivo/#prairie-learn-da-disciplina","title":"Prairie Learn da disciplina!!!","text":"<p>Entre no Site e responda as questoes da plataforma PrairieLearn.</p> <p>LINK da plataforma de quest\u00f5es</p> <p>Acessar com seu usu\u00e1rio de login do INSPER. e-mail institucional</p> <p>As imagens abaixo s\u00e3o da plataforma.</p> <ul> <li>Clicar em Enroll Course</li> <li>Procurar o Curso -&gt; CLOUD 101: Computa\u00e7\u00e3o em nuvem INSPER</li> <li>vers\u00e3o CompNuvem-2026a</li> <li>Se cadastrar. </li> <li>Responder as quest\u00f5es</li> </ul> <p></p> <p></p> <p></p>"},{"location":"roteiros/2.app/","title":"Computa\u00e7\u00e3o em Nuvem","text":"<p>Autor: Tiago Demay</p>"},{"location":"roteiros/2.app/#deployment-orchestration","title":"Deployment Orchestration","text":""},{"location":"roteiros/2.app/#utilizando-a-infraestrutura-bare-metal-com-o-juju","title":"Utilizando a infraestrutura Bare Metal com o Juju","text":"<p>Vamos utilizar o Juju para deploy de uma das arquiteturas abaixo.</p> <p>As aplica\u00e7\u00f5es que vamos utilizar s\u00e3o:</p> <ul> <li>Grafana junto com o Prometheus</li> </ul>"},{"location":"roteiros/2.app/#instale-o-dashboard-do-juju-para-o-controlador-principal-controller","title":"Instale o Dashboard do JUJU para o controlador principal (controller)!!","text":"<p>Dashboard-JUJU</p> <p>Utilize a documenta\u00e7\u00e3o do Link e instale o DashBoard do JUJU, acesse o Dashboard JUJU para ver os deploys das aplica\u00e7\u00f5es funcionando, nas tarefa ser\u00e1 pedido um print da tela do DashBoard.</p> <p>Volte para o controlador e modelo das aplica\u00e7\u00f5es, com os comandos:</p> <pre><code>juju models\n</code></pre> <pre><code>juju switch maas-controller:admin/maas\n</code></pre>"},{"location":"roteiros/2.app/#faca-o-deploy-da-aplicacao-grafana-e-prometheus","title":"Fa\u00e7a o deploy da Aplica\u00e7\u00e3o Grafana e Prometheus","text":""},{"location":"roteiros/2.app/#deploy-grafana-e-prometheus","title":"Deploy Grafana e Prometheus","text":"<p>O Grafana \u00e9 uma plataforma de c\u00f3digo aberto que simplifica a apresenta\u00e7\u00e3o visual de dados, como gr\u00e1ficos e pain\u00e9is, facilitando a compreens\u00e3o em tempo real de sistemas e informa\u00e7\u00f5es.</p> <p>Para funcionar, o Grafana requer um banco de dados para armazenar configura\u00e7\u00f5es, metadados e informa\u00e7\u00f5es relacionadas \u00e0 exibi\u00e7\u00e3o de dados em seus pain\u00e9is e gr\u00e1ficos. Ele \u00e9 compat\u00edvel com v\u00e1rios bancos de dados, como Prometheus, MySQL, PostgreSQL, InfluxDB, SQLite3 e outros. Neste contexto, estamos utilizando o Prometheus como banco de dados, mas voc\u00ea tem a flexibilidade de escolher outro se preferir.</p> <ul> <li>Crie uma pasta chamada charms para baixar o charm do Grafana e do Prometheus do reposit\u00f3rio charm-hub.</li> </ul> <pre><code>mkdir -p /home/cloud/charms\ncd /home/cloud/charms\n</code></pre> <ul> <li>Baixe o charm do Grafana usando o comando juju download.</li> </ul> <pre><code>juju download grafana\n</code></pre> <ul> <li>Tamb\u00e9m vamos utilizar o charm do Prometheus</li> </ul> <pre><code>juju download prometheus2\n</code></pre>"},{"location":"roteiros/2.app/#agora-e-so-fazer-o-deploy-com-o-auxilio-do-juju","title":"Agora \u00e9 s\u00f3 fazer o Deploy com o auxilio do JUJU","text":"<ul> <li>Fa\u00e7a o deploy do charm prometheus, para fazer deploy do charm local, use </li> </ul> <pre><code>juju deploy ./prometheus2_XXX.charm\n</code></pre>"},{"location":"roteiros/2.app/#deploy-do-charm-grafana","title":"Deploy do charm grafana","text":"<p>Ao realizar o Deploy do Grafana, acompanhe o processo utilizando o comando:</p> <pre><code>watch -n 1 juju status\n</code></pre> <p>Assim que a m\u00e1quina estiver com o estado ativo realize os comandos abaixo:</p> <ol> <li> <p>Acesse a m\u00e1quina onde o Grafana foi instalado <pre><code>juju ssh grafana/X\n</code></pre></p> </li> <li> <p>Crie o diret\u00f3rio para armazenar as chaves GPG <pre><code>sudo mkdir -p /etc/apt/keyrings\n</code></pre></p> </li> <li> <p>Baixe e atualize a chave GPG do reposit\u00f3rio Grafana <pre><code>curl -fsSL https://apt.grafana.com/gpg.key | sudo gpg --dearmor -o /etc/apt/keyrings/grafana.gpg\n</code></pre></p> </li> <li> <p>Configure o reposit\u00f3rio do Grafana para utilizar a chave atualizada <pre><code>echo \"deb [signed-by=/etc/apt/keyrings/grafana.gpg] https://apt.grafana.com stable main\" | sudo tee /etc/apt/sources.list.d/grafana.list\n</code></pre></p> </li> <li> <p>Atualize os pacotes e instale o Grafana manualmente <pre><code>sudo apt-get update\nsudo apt-get install grafana\n</code></pre></p> </li> <li> <p>Retorne ao Juju e reexecute o hook que falhou (Apenas se o install do grafana j\u00e1 tiver falhado)</p> </li> </ol> <pre><code>juju resolved grafana/0 --retry\n</code></pre>"},{"location":"roteiros/2.app/#integrando-grafana-com-prometheus","title":"Integrando Grafana com Prometheus","text":"<ul> <li>Utilize a documenta\u00e7\u00e3o encontrada no README do charm do grafana.</li> </ul> <p>LINKdocs1</p> <p>Linkdoc2</p> <ul> <li> <p>Acesse o dashboard do Grafana do seu computador e verifique o funcionamento do sistema.(Utilize seus conhecimentos do roteiro 1, para fazer este acesso, lembre-se que voc\u00ea n\u00e3o est\u00e1 na rede do KIT)</p> </li> <li> <p>Verifique se a integra\u00e7\u00e3o foi feita corretamente. Para isso crie um dashboard dentro do grafana e adicione uma visualiza\u00e7\u00e3o (deve aparecer o prometheus como source).</p> </li> </ul> <p>Lab2. Tarefa 1</p> <p>Tarefa 1 - Prairielearn Fa\u00e7a agora para n\u00e3o perder o estado!</p>"},{"location":"roteiros/2.app/#limpeza-de-ambiente","title":"Limpeza de ambiente !!!","text":"<ul> <li>Limpe o deploy do Juju usando o command: </li> </ul> <pre><code>juju destroy-controller main\n</code></pre>"},{"location":"roteiros/2.infra/","title":"Deployment Orchestration","text":""},{"location":"roteiros/2.infra/#criando-infraestrutura-para-deploy-com-juju","title":"Criando Infraestrutura para deploy com Juju","text":"<p>Ansible \u00e9 um gerenciador de deploy que consegue lidar com a instala\u00e7\u00e3o e configura\u00e7\u00e3o de um conjunto de n\u00f3s pr\u00e9 reservados, mas n\u00e3o consegue realizar o provisionamento direto com o MaaS (gerenciador de Bare-metal). Para montar a nossa Cloud Privada, vamos utilizar outro orquestrador de deploy que integra com o MaaS.</p> <ul> <li>Antes de continuar, verifique se todas m\u00e1quinas (server1, server2, server3, server4 e server5) est\u00e3o Ready no MAAS. Fa\u00e7a o release das m\u00e1quinas Django e Postgres caso necess\u00e1rio.</li> <li>Acesse o main via SSH e instale o Juju</li> <li>$ sudo snap install juju --channel 3.6</li> </ul> <p> </p> <ul> <li>Verifique se o Juju enxerga o MaaS como um provedor de recursos, caso o MAAS n\u00e3o esteja como provider do JUJU, adicione ele.</li> <li>$ juju clouds</li> </ul> <p>Adicione o cluster MAAS para que o Juju possa gerenci\u00e1-lo como uma cloud, o JUJU ir\u00e1 utilizar o MAAS como seu provedor de m\u00e1quinas e Sistema Operacional. Vamos fazer isso atrav\u00e9s de um arquivo de defini\u00e7\u00e3o de cloud, como maas-cloud.yaml:</p> <ul> <li>Caso n\u00e3o possua o MaaS como op\u00e7\u00e3o, deve adicion\u00e1-lo, confirme se o arquivo corresponde com o seu ambiente !!!!!</li> <li> <p>Criar um arquivo de configura\u00e7\u00e3o: maas-cloud.yaml (aten\u00e7\u00e3o com a formata\u00e7\u00e3o)   <pre><code>  clouds:\n    maas-one:\n      type: maas\n      auth-types: [oauth1]\n      endpoint: http://192.168.0.3:5240/MAAS/\n</code></pre></p> </li> <li> <p>$ juju add-cloud --client -f maas-cloud.yaml maas-one</p> </li> </ul> <p>Adicione as credenciais MAAS para que o Juju possa interagir com a nova cloud adicionada. Vamos novamente usar um arquivo para importar nossas informa\u00e7\u00f5es, como maas-creds.yaml:</p> <pre><code>credentials:\n  maas-one:\n  anyuser:\n    auth-type: oauth1\n    maas-oauth: &lt;API KEY&gt;\n</code></pre> <ul> <li>$ juju add-credential --client -f maas-creds.yaml maas-one</li> <li>Obs: OAuth \u00e9 o API KEY gerado no MaaS (dentro do menu do usu\u00e1rio)</li> </ul> <p>Crie o controlador (usando a s\u00e9rie \u2018jammy\u2019) para a cloud \u2018maas-one\u2019 e chame-o de \u2018maas-controller\u2019: Iremos criar o controlador no server1 para isso fa\u00e7a a tag da maquina com o nome juju atrav\u00e9s do dashboard MAAS na maquina server1.</p> <ul> <li>$ juju bootstrap --bootstrap-series=jammy --constraints tags=juju maas-one maas-controller</li> </ul> <p>Este comando acima ir\u00e1 demorar para finalizar, enquanto isso tente entender porque !!!!!</p> <ul> <li>Para verificar o status do controller utilize:</li> <li>$ juju status</li> </ul> <p>O Juju necessita de uma m\u00e1quina exclusiva para controlar todo o deploy. Essa m\u00e1quina \u00e9 alocada automaticamente durante o bootstrap e controlar\u00e1 todo o deploy que faremos no pr\u00f3ximo roteiro. Ainda, assim como voc\u00ea usou o maas-cli na primeira implanta\u00e7\u00e3o, voc\u00ea ir\u00e1 utilizar o juju-cli para interagir com o servi\u00e7o.</p> <p>Para d\u00favidas relacionadas ao deploy com o juju acesse a documenta\u00e7\u00e3o oficial: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/install-juju.html</p>"},{"location":"roteiros/2.infra/#conclusao-somente-para-entender","title":"Conclus\u00e3o: SOMENTE PARA ENTENDER !!!","text":"<p>O Ansible utilizou indiretamente o MaaS como provedor de recursos f\u00edsicos. O MaaS por sua vez forneceu o que havia dispon\u00edvel no rack. Voc\u00ea acha que seria necess\u00e1ria uma m\u00e1quina de 32Gb para rodar um Webserver ou um Load Balancer? Extrapole a resposta para um Datacenter real, onde as m\u00e1quinas possuem configura\u00e7\u00f5es muito superiores. Como resolver esse problema?</p>"},{"location":"roteiros/2.objetivo/","title":"Deployment Orchestration","text":"<p>Objetivos:</p> <ol> <li>Entender os conceitos b\u00e1sicos sobre uma plataforma de gerenciamento de aplica\u00e7\u00f5es distribu\u00eddas.</li> <li>Entender os conceitos b\u00e1sicos de comunica\u00e7\u00e3o entre aplica\u00e7\u00f5es e servi\u00e7os.</li> </ol> <p>Pr\u00e9-requisitos:</p> <ol> <li>Terminar o cap\u00edtulo anterior (Bare metal)</li> <li>Realizar a leitura sobre o Juju. [https://juju.is/docs/juju/how-to].</li> </ol> Info <p>DIVIS\u00c3O DO ROTEIRO O Roteiro \u00e9 dividido em 2 partes principais.</p> <ul> <li>Criando Infraestrutura para deploy com Juju (Deployment Orchestration)</li> <li>Utilizando a infraestrutura Bare Metal com o Juju - exemplo de deploy Grafana e Prometheus</li> </ul>"},{"location":"roteiros/3.app/","title":"App","text":""},{"location":"roteiros/3.app/#uso-da-infraestrutura","title":"Uso da Infraestrutura","text":"<p>Tarefa: Levantar as aplica\u00e7\u00f5es em m\u00e1quinas virtuais do Openstack:</p> <ul> <li>2 inst\u00e2ncias com a API do projeto ;</li> <li>1 inst\u00e2ncia com banco de dados ;</li> <li>1 inst\u00e2ncia com LoadBalancer, Nginx.</li> </ul> <p>Dever\u00e1 desenvolver uma aplica\u00e7\u00e3o web distribu\u00edda que consome uma API p\u00fablica de imagens e armazena os dados obtidos em um banco de dados.</p> <p>A aplica\u00e7\u00e3o deve possuir uma interface simples com tr\u00eas bot\u00f5es principais:</p> <p>Upload \u2192 realiza a busca de uma imagem em uma API p\u00fablica e salva no banco de dados.</p> <p>Listar \u2192 apresenta na tela as tags associadas \u00e0s imagens j\u00e1 armazenadas.</p> <p>Mostrar \u2192 exibe a imagem selecionada diretamente na tela.</p> <p>\u2699\ufe0f Requisitos de Arquitetura</p> <p>A aplica\u00e7\u00e3o deve ser implantada em duas m\u00e1quinas virtuais (VMs), executando a mesma aplica\u00e7\u00e3o em paralelo, garantindo alta disponibilidade.</p> <p>O acesso do usu\u00e1rio deve ser feito por meio de um balanceador de carga com proxy reverso (NGINX), que distribuir\u00e1 as requisi\u00e7\u00f5es entre as duas inst\u00e2ncias da aplica\u00e7\u00e3o.</p> <p>O banco de dados ser\u00e1 centralizado e acessado pelas duas VMs da aplica\u00e7\u00e3o.</p> <p>A comunica\u00e7\u00e3o deve seguir a topologia:</p> <p>Usu\u00e1rio  \u2192 Load Balancer/NGINX \u2192 Aplica\u00e7\u00f5es \u2192 Banco de Dados.</p> <p>Aten\u00e7\u00e3o</p> <p>Note que agora voc\u00ea ir\u00e1 utilizar pequenas partes da maquina f\u00edsica, virtualizando suas m\u00e1quinas, do mesmo modo que \u00e9 feito em uma nuvem.</p> <p>Configure as aplica\u00e7\u00f5es com a seguinte topologia:</p> <pre><code>flowchart LR\n    subgraph private [192.169.0.0/24]\n        direction TB\n        lb e2@==&gt; api1[API]\n        lb e3@==&gt; api2[API]\n        api1 e4@==&gt; db\n        api2 e5@==&gt; db\n    end\n    user e1@==&gt;|request&lt;br&gt;172.16.0.0/20| lb\n    e1@{ animate: true }\n    e2@{ animate: true }\n    e3@{ animate: true }\n    e4@{ animate: true }\n    e5@{ animate: true }\n    lb@{ shape: div-rect, label: \"Load Balancer\" }\n    db@{ shape: cyl, label: \"Database\" }\n    user@{ img: \"https://insper.github.io/computacao-nuvem/assets/images/fontawesome-user-icon.png\", constraint: \"on\", h: 60, label: \"User\" }</code></pre> <p>Desempenho</p> <p>Mensure bem a respeito dos flavors que voc\u00ea ir\u00e1 utilizar para cada inst\u00e2ncia. O ideal \u00e9 que voc\u00ea utilize o menor flavor poss\u00edvel, por custo, mas que ainda assim atenda a sua aplica\u00e7\u00e3o (tenha um desempenho razo\u00e1vel).</p> <p>Em uma cloud comercial, o custo \u00e9 proporcional ao tamanho do flavor e seu tempo de uso.</p> <p>Tarefa 4</p> <ol> <li>Escreva sobre os componentes do OpenStack! </li> </ol>"},{"location":"roteiros/3.infra/","title":"Computa\u00e7\u00e3o em Nuvem","text":""},{"location":"roteiros/3.infra/#criando-a-infraestrutura-nuvem-vm-servidor-virtual-privado-vps","title":"Criando a Infraestrutura (Nuvem VM) - Servidor Virtual Privado (VPS)","text":"<p>Nesse roteiro vamos instalar um conjunto de aplica\u00e7\u00f5es denominado Openstack que vai permitir distribuirmos virtual machines usando os n\u00f3s dispon\u00edveis no kit.</p> <p>At\u00e9 o momento usamos o MAAS para orquestrar o bare metal e o juju para cuidar do deployment de aplica\u00e7\u00f5es (exemplo grafana e prometheus). Agora, vamos utilizar o Openstack para criar VMs e distribuir os servi\u00e7os em todas as m\u00e1quinas kit com maior efici\u00eancia.</p> <p>Aten\u00e7\u00e3o</p> <p>Confira se os seus recursos fisicos seguem, no M\u00cdNIMO, a tabela abaixo, volte ao dashboard do MAAS e crie as Tags conforme descrito:</p> Node name Tag(s) CPUs NICs RAM Disks Storage node1.maas controller 2 1 12.0 1 80.0 node2.maas reserva 2 1 16.0 2 80.0 node3.maas compute 2 1 32.0 2 80.0 node4.maas compute 2 1 32.0 2 80.0 node5.maas compute 2 1 32.0 2 80.0 <p>Antes de come\u00e7ar a instala\u00e7\u00e3o do Openstack, verifique se o MAAS est\u00e1 configurado corretamente (Brigdes, Subnets, Tags, etc).</p> <p>Brigde no MAAS</p> <p>Verifique se o br-ex est\u00e1 configurado corretamente no MAAS. O br-ex \u00e9 a interface de rede que conecta o OpenStack \u00e0 rede externa. Se n\u00e3o estiver configurado corretamente, o OpenStack n\u00e3o conseguir\u00e1 se comunicar com o mundo exterior.</p> <p>Para verificar isso, acesse o painel do MAAS e v\u00e1 para a se\u00e7\u00e3o de redes. Verifique se o br-ex est\u00e1 listado como uma interface de rede e se est\u00e1 conectado \u00e0 rede correta. Se n\u00e3o estiver, voc\u00ea precisar\u00e1 configur\u00e1-lo corretamente antes de prosseguir com a instala\u00e7\u00e3o do OpenStack.</p> <p>A configura\u00e7\u00e3o correta do br-ex \u00e9 crucial para garantir que o OpenStack funcione corretamente e possa se comunicar com outras redes e servi\u00e7os externos.</p> <p></p> <p>O brigde br-ex deve estar configurado para TODOS os n\u00f3s.</p>"},{"location":"roteiros/3.infra/#implantacao-do-openstack","title":"Implanta\u00e7\u00e3o do OpenStack:","text":"<ul> <li>\"Siga\" o passo a passo do Link abaixo, por\u00e9m n\u00e3o instale nada no server2 que deve estar reservado(alocado), altere os comandos que forem necess\u00e1rios para utilizar o Node server 1 como controller, o node server 2 como Reserva e os nodes server 3,4 e 5 como compute (onde o Openstack ser\u00e1 instalado).</li> <li>Rode 1 comando por vez tenha CALMA!!!</li> <li>Siga o status para ver se a implanta\u00e7\u00e3o est\u00e1 correndo como o esperado: <code>juju status</code></li> <li>Aguarde a instala\u00e7\u00e3o terminar, s\u00f3 v\u00e1 para o pr\u00f3ximo passo quando tiver certeza que o comando anterior foi finalizado</li> <li>Esse roteiro \u00e9 baseado na documenta\u00e7\u00e3o oficial do Openstack, por\u00e9m adaptado para o nosso ambiente. Logo, atente para o n\u00famero de m\u00e1quinas que voc\u00ea tem dispon\u00edvel e para a configura\u00e7\u00e3o de rede que voc\u00ea fez no MAAS.</li> <li>Documenta\u00e7\u00e3o oficial: Implanta\u00e7\u00e3o do OpenStack. Estude esse link antes de come\u00e7ar a instala\u00e7\u00e3o, busque entender o que est\u00e1 sendo feito a cada passo.</li> </ul> <p>Juju Controller</p> <p>O Juju necessita de uma m\u00e1quina exclusiva para controlar todo o deploy e m\u00e1quina \u00e9 alocada automaticamente durante o bootstrap e controlar\u00e1 todo o deploy. Em nosso ambiente, o Juju Controller ser\u00e1 instalado no server1. Logo, SE voc\u00ea ainda N\u00c3O TEM um controlador Juju instalado, ent\u00e3o, precisa fazer o bootstrap de um novo controlador no server1. </p> <p>Monitoramento</p> <p>Para monitorar o status da instala\u00e7\u00e3o do Openstack, voc\u00ea pode usar o comando abaixo:</p> <pre><code>watch -n 2 --color \"juju status --color\"\n</code></pre> <p>Para isso, abra um novo terminal e rode o comando acima. Ele ir\u00e1 atualizar a cada 2 segundos o status da instala\u00e7\u00e3o.</p>"},{"location":"roteiros/3.infra/#roteiro-atualizado-de-instalacao-do-openstack","title":"Roteiro Atualizado de Instala\u00e7\u00e3o do Openstack","text":"<p>Esse roteiro est\u00e1 atualizado da documenta\u00e7\u00e3o oficial, por\u00e9m, em caso de problemas, consulte a documenta\u00e7\u00e3o oficial antes mesmo de pedir ajuda, pois l\u00e1 ir\u00e1 conter a solu\u00e7\u00e3o para a maioria dos problemas.</p>"},{"location":"roteiros/3.infra/#1-instalando-o-juju-controller","title":"1. Instalando o Juju Controller","text":"<p>Aten\u00e7\u00e3o</p> <p>Apenas se ainda n\u00e3o tiver um Juju Controller</p> <p>Adicionar a tag <code>controller</code> na m\u00e1quina <code>server1</code>: <pre><code>juju bootstrap --bootstrap-series=jammy --constraints tags=controller maas-one maas-controller\n</code></pre></p>"},{"location":"roteiros/3.infra/#2-definindo-o-modelo-de-deploy","title":"2. Definindo o modelo de deploy","text":"<pre><code>juju add-model --config default-series=jammy openstack\n</code></pre> <pre><code>juju switch maas-controller:openstack\n</code></pre> <p>Opcional</p> <p>Instalar o juju-dashboard: https://canonical-juju.readthedocs-hosted.com/en/latest/user/howto/manage-the-juju-dashboard/#manage-the-juju-dashboard</p>"},{"location":"roteiros/3.infra/#3-ceph-osd","title":"3. Ceph OSD","text":"<p>The ceph-osd application is deployed to three nodes with the ceph-osd charm.</p> <p>The names of the block devices backing the OSDs is dependent upon the hardware on the MAAS nodes. All possible devices (across all the nodes) that are to be used for Ceph storage should be included in the value for the osd-devices option (space-separated). Here, we\u2019ll be using the same devices on each node: /dev/sda, and /dev/sdb. File ceph-osd.yaml contains the configuration:</p> ceph-osd.yaml<pre><code>ceph-osd:\n  osd-devices: /dev/sda /dev/sdb\n</code></pre> <p>To deploy the application we\u2019ll make use of the \u2018compute\u2019 tag that we placed on each of these nodes on the Install MAAS page. The command to deploy the ceph-osd application is:</p> <pre><code>juju deploy -n 3 --channel quincy/stable --config ceph-osd.yaml --constraints tags=compute ceph-osd\n</code></pre> <p>Note: The -n 3 option specifies that three units of the ceph-osd application should be deployed.</p> <p>If a message from a ceph-osd unit like \u201cNon-pristine devices detected\u201d appears in the output of juju status you will need to use actions zap-disk and add-disk that come with the ceph-osd charm. The zap-disk action is destructive in nature. Only use it if you want to purge the disk of all data and signatures for use by Ceph.</p> <p>Note</p> <p>Since ceph-osd was deployed on three nodes and there are only three nodes available in this environment, the usage of the \u2018compute\u2019 tag is not strictly necessary. A tag can help if there are a surplus of nodes however.</p>"},{"location":"roteiros/3.infra/#4-nova-compute","title":"4. Nova Compute","text":"<p>Nova is the OpenStack project that provides a way to provision compute instances (aka virtual servers). The nova-compute charm is deployed to the compute nodes with the nova-compute charm. File nova-compute.yaml contains the configuration:</p> nova-compute.yaml<pre><code>nova-compute:\n  config-flags: default_ephemeral_format=ext4\n  enable-live-migration: true\n  enable-resize: true\n  migration-auth-type: ssh\n  virt-type: qemu\n</code></pre> <p>The nodes must be targeted by machine ID since there are no more free Juju machines (MAAS nodes) available. This means we\u2019re placing multiple services on our nodes. We\u2019ve chosen machines 0, 1, and 2. To deploy:</p> <pre><code>juju deploy -n 3 --to 0,1,2 --channel yoga/stable --config nova-compute.yaml nova-compute\n</code></pre> <p>Note</p> <p>The \u2018nova-compute\u2019 charm is designed to support one image format type per application at any given time. Changing format (see charm option libvirt-image-backend) while existing instances are using the prior format will require manual image conversion for each instance. See bug LP #1826888.</p>"},{"location":"roteiros/3.infra/#5-mysql-innodb-cluster","title":"5. MySQL InnoDB Cluster","text":"<p>MySQL InnoDB Cluster always requires at least three database units. The mysql-innodb-cluster application is deployed to three nodes with the mysql-innodb-cluster charm. They will be containerised on machines 0, 1, and 2. To deploy:</p> <pre><code>juju deploy -n 3 --to lxd:0,lxd:1,lxd:2 --channel 8.0/stable mysql-innodb-cluster\n</code></pre>"},{"location":"roteiros/3.infra/#6-vault","title":"6. Vault","text":"<p>Vault is necessary for managing the TLS certificates that will enable encrypted communication between cloud applications. The vault application will be containerised on machine 2 with the vault charm. To deploy:</p> <pre><code>juju deploy --to lxd:2 vault --channel 1.8/stable\n</code></pre> <p>This is the first application to be joined with the cloud database that was set up in the previous section. The process is:</p> <ol> <li> <p>create an application-specific instance of mysql-router with the mysql-router subordinate charm;</p> </li> <li> <p>add a relation between the mysql-router instance and the database;</p> </li> <li> <p>add a relation between the mysql-router instance and the application.</p> </li> </ol> <p>The combination of steps 2 and 3 joins the application to the cloud database.</p> <p>Here are the corresponding commands for Vault:</p> <pre><code>juju deploy --channel 8.0/stable mysql-router vault-mysql-router\njuju integrate vault-mysql-router:db-router mysql-innodb-cluster:db-router\njuju integrate vault-mysql-router:shared-db vault:shared-db\n</code></pre> <p>Unseal</p> <p>Vault must now be initialised and unsealed. The vault charm will also need to be authorised to carry out certain tasks. These steps are covered in the vault charm documentation. Perform them NOW.</p> <p>CA Certificate (Self-signed)</p> <p>Provide Vault with a CA certificate, we need to generate a self-signed CA certificate, so it can issue certificates to cloud API services. This is covered on the Managing TLS certificates page. Do this now.</p> <pre><code>juju run vault/leader generate-root-ca\n</code></pre> Use estas dicas se precisar, n\u00e3o duplique os comandos!!!!! <p>Dica para abrir o cofre (Git do Vault)[https://opendev.org/openstack/charm-vault/src/branch/stable/1.8/src/README.md#post-deployment-tasks]</p> <ul> <li> <p>Instalando o cli do Vault e configurando-o:</p> <ul> <li><code>$ sudo snap install vault</code></li> <li><code>$ export VAULT_ADDR=\"http://&lt;IP of vault unit&gt;:8200\"</code></li> </ul> </li> <li> <p>Gerando :</p> <ul> <li><code>$ vault operator init -key-shares=5 -key-threshold=3</code></li> <li>Voc\u00eas receber\u00e3o 5 Unseal Keys e 1 Initial Root Token. Copie e guarde as hashs geradas.</li> </ul> </li> <li> <p>Removendo o selo, repita a opera\u00e7\u00e3o com 3 keys diferentes:</p> <ul> <li><code>$ vault operator unseal &lt;Unseal Key&gt;</code></li> </ul> </li> <li> <p>Autorizando o charm (esse passo precisa ser feito em 50 minutos):</p> <ul> <li><code>$ export VAULT_TOKEN=&lt;Initial Root Token&gt;</code></li> <li><code>$ vault token create -ttl=50m</code></li> <li>anote o token gerado pelo comando,</li> <li>juju run vault/leader authorize-charm token=token</li> <li>Agora voc\u00ea tem 50 minutos para descobrir na documentacao como fazer para gerar o TLS do vault (2 comandos)</li> </ul> </li> </ul> <p>Cloud applications are TLS-enabled via the vault:certificates relation. Below we start with the cloud database. Although the latter has a self-signed certificate, it is recommended to use the one signed by Vault\u2019s CA:</p> <pre><code>juju integrate mysql-innodb-cluster:certificates vault:certificates\n</code></pre> <p>Once the above is completed the Unit section output to command juju status should look similar to this:</p> <p></p>"},{"location":"roteiros/3.infra/#7-neutron-networking","title":"7. Neutron Networking","text":"<p>Neutron networking is implemented with four applications:</p> <ul> <li>neutron-api</li> <li>neutron-api-plugin-ovn (subordinate)</li> <li>ovn-central</li> <li>ovn-chassis (subordinate)</li> </ul> <p>File neutron.yaml contains the configuration necessary (only two of them require configuration):</p> neutron.yaml<pre><code>ovn-chassis:\n  bridge-interface-mappings: br-ex:eth0\n  ovn-bridge-mappings: physnet1:br-ex\nneutron-api:\n  neutron-security-groups: true\n  flat-network-providers: physnet1\n</code></pre> <p>The bridge-interface-mappings setting impacts the OVN Chassis and refers to a mapping of OVS bridge to network interface. As described in the Create OVS bridge section on the Install MAAS page, for this example it is <code>br-ex:enp1s0</code>.</p> <p>Note</p> <p>To use hardware addresses (as opposed to an interface name common to all three nodes) the bridge-interface-mappings option can be expressed in this way (substitute in your own values):</p> neutron.yaml<pre><code>bridge-interface-mappings: &gt;-\n  br-ex:52:54:00:03:01:02\n  br-ex:52:54:00:03:01:03\n  br-ex:52:54:00:03:01:04\n</code></pre> <p>The flat-network-providers setting enables the Neutron flat network provider used in this example scenario and gives it the name of \u2018physnet1\u2019. The flat network provider and its name will be referenced when we Set up public networking on the next page.</p> <p>The ovn-bridge-mappings setting maps the data-port interface to the flat network provider.</p> <p>The main OVN application is ovn-central and it requires at least three units. They will be containerised on machines 0, 1, and 2 with the ovn-central charm. To deploy:</p> <pre><code>juju deploy -n 3 --to lxd:0,lxd:1,lxd:2 --channel 22.03/stable ovn-central\n</code></pre> <p>The neutron-api application will be containerised on machine 1 with the neutron-api charm:</p> <pre><code>juju deploy --to lxd:1 --channel yoga/stable --config neutron.yaml neutron-api\n</code></pre> <p>Deploy the subordinate charm applications with the neutron-api-plugin-ovn and ovn-chassis charms:</p> <pre><code>juju deploy --channel yoga/stable neutron-api-plugin-ovn\njuju deploy --channel 22.03/stable --config neutron.yaml ovn-chassis\n</code></pre> <p>Add the necessary relations:</p> <pre><code>juju integrate neutron-api-plugin-ovn:neutron-plugin neutron-api:neutron-plugin-api-subordinate\njuju integrate neutron-api-plugin-ovn:ovsdb-cms ovn-central:ovsdb-cms\njuju integrate ovn-chassis:ovsdb ovn-central:ovsdb\njuju integrate ovn-chassis:nova-compute nova-compute:neutron-plugin\njuju integrate neutron-api:certificates vault:certificates\njuju integrate neutron-api-plugin-ovn:certificates vault:certificates\njuju integrate ovn-central:certificates vault:certificates\njuju integrate ovn-chassis:certificates vault:certificates\n</code></pre> <p>Join neutron-api to the cloud database:</p> <pre><code>juju deploy --channel 8.0/stable mysql-router neutron-api-mysql-router\njuju integrate neutron-api-mysql-router:db-router mysql-innodb-cluster:db-router\njuju integrate neutron-api-mysql-router:shared-db neutron-api:shared-db\n</code></pre>"},{"location":"roteiros/3.infra/#8-keystone","title":"8. Keystone","text":"<p>The keystone application will be containerised on machine 0 with the keystone charm. To deploy:</p> <pre><code>juju deploy --to lxd:0 --channel yoga/stable keystone\n</code></pre> <p>Join keystone to the cloud database:</p> <pre><code>juju deploy --channel 8.0/stable mysql-router keystone-mysql-router\njuju integrate keystone-mysql-router:db-router mysql-innodb-cluster:db-router\njuju integrate keystone-mysql-router:shared-db keystone:shared-db\n</code></pre> <p>Two additional relations can be added at this time:</p> <pre><code>juju integrate keystone:identity-service neutron-api:identity-service\njuju integrate keystone:certificates vault:certificates\n</code></pre>"},{"location":"roteiros/3.infra/#9-rabbitmq","title":"9. RabbitMQ","text":"<p>The rabbitmq-server application will be containerised on machine 2 with the rabbitmq-server charm. To deploy:</p> <pre><code>juju deploy --to lxd:2 --channel 3.9/stable rabbitmq-server\n</code></pre> <p>Two relations can be added at this time:</p> <pre><code>juju integrate rabbitmq-server:amqp neutron-api:amqp\njuju integrate rabbitmq-server:amqp nova-compute:amqp\n</code></pre> <p>At this time the Unit section output to command juju status should look similar to this:</p> <p></p>"},{"location":"roteiros/3.infra/#10-nova-cloud-controller","title":"10. Nova Cloud Controller","text":"<p>The nova-cloud-controller application, which includes nova-scheduler, nova-api, and nova-conductor services, will be containerised on machine 2 with the nova-cloud-controller charm. File ncc.yaml contains the configuration:</p> ncc.yaml<pre><code>nova-cloud-controller:\n  network-manager: Neutron\n</code></pre> <p>To deploy:</p> <pre><code>juju deploy --to lxd:2 --channel yoga/stable --config ncc.yaml nova-cloud-controller\n</code></pre> <p>Join nova-cloud-controller to the cloud database:</p> <pre><code>juju deploy --channel 8.0/stable mysql-router ncc-mysql-router\njuju integrate ncc-mysql-router:db-router mysql-innodb-cluster:db-router\njuju integrate ncc-mysql-router:shared-db nova-cloud-controller:shared-db\n</code></pre> <p>Note</p> <p>To keep juju status output compact the expected nova-cloud-controller-mysql-router application name has been shortened to ncc-mysql-router.</p> <p>Five additional relations can be added at this time:</p> <pre><code>juju integrate nova-cloud-controller:identity-service keystone:identity-service\njuju integrate nova-cloud-controller:amqp rabbitmq-server:amqp\njuju integrate nova-cloud-controller:neutron-api neutron-api:neutron-api\njuju integrate nova-cloud-controller:cloud-compute nova-compute:cloud-compute\njuju integrate nova-cloud-controller:certificates vault:certificates\n</code></pre>"},{"location":"roteiros/3.infra/#11-placement","title":"11. Placement","text":"<p>The placement application will be containerised on machine 2 with the placement charm. To deploy:</p> <pre><code>juju deploy --to lxd:2 --channel yoga/stable placement\n</code></pre> <p>Join placement to the cloud database:</p> <pre><code>juju deploy --channel 8.0/stable mysql-router placement-mysql-router\njuju integrate placement-mysql-router:db-router mysql-innodb-cluster:db-router\njuju integrate placement-mysql-router:shared-db placement:shared-db\n</code></pre> <p>Three additional relations can be added at this time:</p> <pre><code>juju integrate placement:identity-service keystone:identity-service\njuju integrate placement:placement nova-cloud-controller:placement\njuju integrate placement:certificates vault:certificates\n</code></pre>"},{"location":"roteiros/3.infra/#12-horizon-openstack-dashboard","title":"12. Horizon - OpenStack Dashboard","text":"<p>The openstack-dashboard application (Horizon) will be containerised on machine 2 with the openstack-dashboard charm. To deploy:</p> <pre><code>juju deploy --to lxd:2 --channel yoga/stable openstack-dashboard\n</code></pre> <p>Join openstack-dashboard to the cloud database:</p> <pre><code>juju deploy --channel 8.0/stable mysql-router dashboard-mysql-router\njuju integrate dashboard-mysql-router:db-router mysql-innodb-cluster:db-router\njuju integrate dashboard-mysql-router:shared-db openstack-dashboard:shared-db\n</code></pre> <p>Note</p> <p>To keep juju status output compact the expected openstack-dashboard-mysql-router application name has been shortened to dashboard-mysql-router.</p> <p>Two additional relations can be added at this time:</p> <pre><code>juju integrate openstack-dashboard:identity-service keystone:identity-service\njuju integrate openstack-dashboard:certificates vault:certificates\n</code></pre>"},{"location":"roteiros/3.infra/#13-glance","title":"13. Glance","text":"<p>The glance application will be containerised on machine 2 with the glance charm. To deploy:</p> <pre><code>juju deploy --to lxd:2 --channel yoga/stable glance\n</code></pre> <p>Join glance to the cloud database:</p> <pre><code>juju deploy --channel 8.0/stable mysql-router glance-mysql-router\njuju integrate glance-mysql-router:db-router mysql-innodb-cluster:db-router\njuju integrate glance-mysql-router:shared-db glance:shared-db\n</code></pre> <p>Four additional relations can be added at this time:</p> <pre><code>juju integrate glance:image-service nova-cloud-controller:image-service\njuju integrate glance:image-service nova-compute:image-service\njuju integrate glance:identity-service keystone:identity-service\njuju integrate glance:certificates vault:certificates\n</code></pre> <p>At this time the Unit section output to command juju status should look similar to this:</p> <p></p>"},{"location":"roteiros/3.infra/#14-ceph-monitor","title":"14. Ceph Monitor","text":"<p>The ceph-mon application will be containerised on machines 0, 1, and 2 with the ceph-mon charm. File ceph-mon.yaml contains the configuration:</p> ceph-mon.yaml<pre><code>ceph-mon:\n  expected-osd-count: 3\n  monitor-count: 3\n</code></pre> <p>The above informs the MON cluster that it is comprised of three nodes and that it should expect at least three OSDs (disks).</p> <p>To deploy:</p> <pre><code>juju deploy -n 3 --to lxd:0,lxd:1,lxd:2 --channel quincy/stable --config ceph-mon.yaml ceph-mon\n</code></pre> <p>Three relations can be added at this time:</p> <pre><code>juju integrate ceph-mon:osd ceph-osd:mon\njuju integrate ceph-mon:client nova-compute:ceph\njuju integrate ceph-mon:client glance:ceph\n</code></pre> <p>For the above relations,</p> <ul> <li> <p>The nova-compute:ceph relation makes Ceph the storage backend for Nova non-bootable disk images. The nova-compute charm option libvirt-image-backend must be set to \u2018rbd\u2019 for this to take effect.</p> </li> <li> <p>The glance:ceph relation makes Ceph the storage backend for Glance.</p> </li> </ul>"},{"location":"roteiros/3.infra/#15-cinder","title":"15. Cinder","text":"<p>The cinder application will be containerised on machine 1 with the cinder charm. File cinder.yaml contains the configuration:</p> cinder.yaml<pre><code>cinder:\n  block-device: None\n  glance-api-version: 2\n</code></pre> <p>The block-device setting is set to \u2018None\u2019 to indicate that the charm should not manage block devices. The glance-api-version setting is set to \u20182\u2019 to indicate that the Glance API version 2 should be used.</p> <p>To deploy:</p> <pre><code>juju deploy --to lxd:1 --channel yoga/stable --config cinder.yaml cinder\n</code></pre> <p>Join cinder to the cloud database:</p> <pre><code>juju deploy --channel 8.0/stable mysql-router cinder-mysql-router\njuju integrate cinder-mysql-router:db-router mysql-innodb-cluster:db-router\njuju integrate cinder-mysql-router:shared-db cinder:shared-db\n</code></pre> <p>Five additional relations can be added at this time:</p> <pre><code>juju integrate cinder:cinder-volume-service nova-cloud-controller:cinder-volume-service\njuju integrate cinder:identity-service keystone:identity-service\njuju integrate cinder:amqp rabbitmq-server:amqp\njuju integrate cinder:image-service glance:image-service\njuju integrate cinder:certificates vault:certificates\n</code></pre> <p>The above glance:image-service relation will enable Cinder to consume the Glance API (e.g. making Cinder able to perform volume snapshots of Glance images).</p> <p>Like Glance, Cinder will use Ceph as its storage backend (hence block-device: None in the configuration file). This will be implemented via the cinder-ceph subordinate charm:</p> <pre><code>juju deploy --channel yoga/stable cinder-ceph\n</code></pre> <p>Three relations can be added at this time:</p> <pre><code>juju integrate cinder-ceph:storage-backend cinder:storage-backend\njuju integrate cinder-ceph:ceph ceph-mon:client\njuju integrate cinder-ceph:ceph-access nova-compute:ceph-access\n</code></pre>"},{"location":"roteiros/3.infra/#16-ceph-rados-gateway","title":"16. Ceph RADOS Gateway","text":"<p>The Ceph RADOS Gateway will be deployed to offer an S3 and Swift compatible HTTP gateway. This is an alternative to using OpenStack Swift.</p> <p>The ceph-radosgw application will be containerised on machine 0 with the ceph-radosgw charm. To deploy:</p> <pre><code>juju deploy --to lxd:0 --channel quincy/stable ceph-radosgw\n</code></pre> <p>A single relation is required:</p> <pre><code>juju integrate ceph-radosgw:mon ceph-mon:radosgw\n</code></pre>"},{"location":"roteiros/3.infra/#17-ceph-osd-integration","title":"17. Ceph-OSD Integration","text":"<p>Documenta\u00e7\u00e3o: https://charmhub.io/ceph-osd</p> <p>Aten\u00e7\u00e3o</p> <p>Execute o comando abaixo apenas se voc\u00ea estiver certeza de que todos os procedimentos anteriores foram realizados com sucesso.</p> <pre><code>juju config ceph-osd osd-devices='/dev/sdb'\n</code></pre> <p>At this time the Unit section output to command juju status should look similar to this:</p> <p></p>"},{"location":"roteiros/3.infra/#resultados-finais-e-proximos-passos","title":"Resultados finais e pr\u00f3ximos passos","text":"<p>Depois que todos os aplicativos foram implantados e as rela\u00e7\u00f5es entre eles foram adicionadas, precisamos esperar a sa\u00edda do status juju se estabilizar. Os resultados finais devem ser desprovidos de quaisquer mensagens de erro. Um exemplo de sa\u00edda (incluindo rela\u00e7\u00f5es) para uma implanta\u00e7\u00e3o de nuvem bem-sucedida \u00e9 fornecido (aqui)[https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/install-openstack-juju-status.html#install-openstack-juju-status].</p> <p>Voc\u00ea implantou o OpenStack com sucesso usando Juju e MAAS. O pr\u00f3ximo passo \u00e9 tornar a nuvem funcional para os usu\u00e1rios. Isso envolver\u00e1 a configura\u00e7\u00e3o de redes, imagens e um ambiente de usu\u00e1rio.</p>"},{"location":"roteiros/3.objetivo/","title":"Private cloud","text":"<p>Objetivos</p> <ol> <li>Entender os conceitos b\u00e1sicos de Private Cloud.</li> <li>Aprofundar conceitos sobre redes virtuais SDN.</li> </ol> <p>Pr\u00e9-requisitos:</p> <ol> <li>Terminar de Ler o cap\u00edtulo Juju</li> <li>Realizar a leitura sobre o Openstack:<ul> <li>https://www.openstack.org/</li> <li>https://www.openstack.org/software/ </li> <li>https://ubuntu.com/openstack/what-is-openstack</li> </ul> </li> <li>Realizar a leitura sobre o Openstack. [Jackson et al - Cap. 1 at\u00e9 Cap. 5]</li> </ol> DIVIS\u00c3O DO ROTEIRO <p>O Roteiro \u00e9 dividido em 3 partes principais:</p> <ul> <li>Criando a Infraestrutura (Nuvem privada Openstack);</li> <li>Configura\u00e7\u00e3o da Infraestrutura (Nuvem privada Openstack);</li> <li>Uso da Infraestrutura: Aplica\u00e7\u00f5es nas VMs da Nuvem Openstack</li> </ul>"},{"location":"roteiros/3.setup/","title":"Setup","text":""},{"location":"roteiros/3.setup/#configurando-o-openstack","title":"Configurando o Openstack","text":"<p>Documenta\u00e7\u00e3o</p> <p>LINK para a REFER\u00caNCIA OFICIAL: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/configure-openstack.html</p> <p>Chegou a hora de configurar os servi\u00e7os que controlam:</p> <ul> <li>as VMs (Nova);</li> <li>os volumes de disco (Cinder), e;</li> <li>a estrutura de rede virtual (Neutron).</li> </ul> <p>Para isso, \u00e9 preciso:</p> <ol> <li>carregar as vari\u00e1veis de ambiente e se autenticar (Keystone) no sistema - openrc;</li> <li>utilizar o dashboard (Horizon) para visualizar as mudan\u00e7as que est\u00e3o sendo feitas;</li> <li>importar uma imagem do Ubuntu Jammy para o Glance (servidor de imagens);</li> <li>criar os flavors (instance type) para as VMs;</li> <li>criar uma rede externa (subnet) para conectar as VMs \u00e0 rede f\u00edsica;</li> <li>criar uma rede interna (subnet) e um roteador (router) para conectar as VMs \u00e0 rede externa.</li> </ol> <p>LEIA O DOCUMENTO INTEIRO ANTES DE INICIAR</p> <p>Usando como base o link de refer\u00eancia e a documenta\u00e7\u00e3o oficial para consulta.</p> <p>LEIA O ROTEIRO INTEIRO ANTES DE INICIAR OS COMANDOS, A FIM DE ENTENDER O QUE \u00c9 CONFIGURADO</p> <p>Nessa parte do roteiro, tem as partes que precisam ser configuradas, mas n\u00e3o seus comandos, que est\u00e3o dispon\u00edveis na documenta\u00e7\u00e3o oficial. O que est\u00e1 aqui \u00e9 o que voc\u00ea deve fazer, e n\u00e3o como fazer. Voc\u00ea deve consultar a documenta\u00e7\u00e3o para entender como fazer.</p> <p>Aten\u00e7\u00e3o</p> <p>TODOS OS COMANDOS DEVEM SER EXECUTADOS NO TERMINAL MAIN OU CONFIGURADOS NO DASHBOARD HORIZON, E N\u00c3O NOS NUCs!</p>"},{"location":"roteiros/3.setup/#passo-1-autenticacao","title":"Passo 1: Autentica\u00e7\u00e3o","text":"<p>Crie, download, o arquivo <code>openrc</code> com as credenciais de acesso ao OpenStack. O arquivo deve conter as seguintes vari\u00e1veis de credenciais para o OpenStack.</p>"},{"location":"roteiros/3.setup/#passo-2-horizon","title":"Passo 2: Horizon","text":"<p>Acesse o Horizon (dashboard) como administrador e mantenha ele aberto durante todo o setup do openstack (para ver as mudan\u00e7as acontecendo!).</p> <p>Dica</p> <p>O Domain name \u00e9 : <code>admin_domain</code></p> <p>Tarefa 1</p> <ol> <li>De um print das Telas abaixo:<ol> <li>Do Status do JUJU</li> <li>Do Dashboard do MAAS com as m\u00e1quinas.</li> <li>Da aba compute overview no OpenStack Dashboard.</li> <li>Da aba compute instances no OpenStack Dashboard.</li> <li>Da aba network topology no OpenStack Dashboard.</li> </ol> </li> </ol>"},{"location":"roteiros/3.setup/#passo-3-imagens-e-flavors","title":"Passo 3: Imagens e Flavors","text":"<p>Pense na estrutura de rede do seu KIT (Altere os IPs dos exemplos de comandos caso necess\u00e1rio).</p> <p>Prestem muita aten\u00e7\u00e3o nos passos! N\u00e3o copie e cole comandos sem verificar os argumentos.</p> <p>Usando a documenta\u00e7\u00e3o oficial, fa\u00e7a o seguinte:</p> <ul> <li>Instale o client do Openstack no main via snap.</li> <li> <p>Carregue as credenciais em openrc:     <pre><code>source openrc\n</code></pre></p> </li> <li> <p>Verifique os servi\u00e7os dispon\u00edveis no Openstack:     <pre><code>openstack service list\n</code></pre></p> </li> <li> <p>Fa\u00e7a pequenos ajustes na rede:     <pre><code>juju config neutron-api enable-ml2-dns=\"true\"\njuju config neutron-api-plugin-ovn dns-servers=\"172.16.0.1\"\n</code></pre></p> </li> <li> <p>Importe a imagem do Ubuntu Jammy. Voc\u00ea precisar\u00e1 procurar esta imagem.</p> </li> <li>Analise o comando:     <pre><code>openstack flavor create --help\n</code></pre></li> <li> <p>Crie os flavors (instance type) - SEM ephemeral disk:</p> Flavor Name vCPUs RAM (GB) Disk m1.tiny 1 1 20 m1.small 1 2 20 m1.medium 2 4 20 m1.large 4 8 20 </li> </ul>"},{"location":"roteiros/3.setup/#passo-3-rede-externa","title":"Passo 3: Rede Externa","text":"<ul> <li>Configure a rede externa. Usar uma faixa de aloca\u00e7\u00e3o entre <code>172.16.7.0</code> e <code>172.16.8.255</code></li> </ul>"},{"location":"roteiros/3.setup/#passo-4-rede-interna-e-roteador","title":"Passo 4: Rede Interna e Roteador","text":"<ul> <li>Crie a rede interna e o roteador. Usar a subnet <code>192.169.0.0/24</code>. N\u00e3o use DNS.</li> </ul>"},{"location":"roteiros/3.setup/#passo-5-conexao","title":"Passo 5: Conex\u00e3o","text":"<ul> <li>Importe (upload) um key-pair, usando public key (id_rsa.pub) da m\u00e1quina onde est\u00e1 o MaaS.</li> </ul> Por que usar o key-pair? <p>O key-pair \u00e9 uma chave p\u00fablica que permite o acesso SSH seguro \u00e0s inst\u00e2ncias criadas no OpenStack. Ao importar a chave p\u00fablica, voc\u00ea pode se conectar \u00e0s inst\u00e2ncias sem precisar usar senhas, aumentando a seguran\u00e7a e facilitando o gerenciamento de acesso.</p> <ul> <li> <p>Via o Horizon (dashboard), como administrador:</p> <ul> <li>Adicione a libera\u00e7\u00e3o do <code>SSH</code> e <code>ALL ICMP</code> no security group default.</li> <li>Verifique se a topologia de rede faz sentido. Ela deve ser semelhante ao projeto da sua rede f\u00edsica, por\u00e9m com mais um n\u00edvel dentro. Aten\u00e7\u00e3o: a rede n\u00e3o existe fisicamente, \u00e9 tudo virtual.</li> </ul> </li> </ul>"},{"location":"roteiros/3.setup/#passo-6-instancia","title":"Passo 6: Inst\u00e2ncia","text":"<ul> <li>Dispare uma inst\u00e2ncia <code>m1.tiny</code> com o nome client e sem Novo Volume;</li> <li>Aloque um floating IP para a inst\u00e2ncia;</li> <li>Teste a conex\u00e3o SSH! Em caso de erro, volte e verifique se as etapas anteriores est\u00e3o corretas.</li> </ul> <p>Tarefa 2</p> <ol> <li>De um print das Telas abaixo:<ol> <li>Do Dashboard do MAAS com as m\u00e1quinas.</li> <li>Da aba compute overview no OpenStack.</li> <li>Da aba compute instances no OpenStack.</li> <li>Da aba network topology no OpenStack.</li> </ol> </li> <li>Enumere as diferencas encontradas entre os prints das telas na Tarefa 1 e na Tarefa 2.</li> <li>Explique como cada recurso foi criado.   </li> </ol>"},{"location":"roteiros/3.setup/#escalando-os-nos","title":"Escalando os n\u00f3s","text":"<p>No OpenStack, escalar os n\u00f3s de configura\u00e7\u00e3o \u00e9 essencial para melhorar a capacidade, a resili\u00eancia e o desempenho dos servi\u00e7os em um ambiente de nuvem. Ao adicionar novos n\u00f3s de computing e block storage, a infraestrutura ganha flexibilidade para lidar com o aumento de carga e a demanda por recursos.</p> <p>Benef\u00edcios da Escala dos N\u00f3s de Configura\u00e7\u00e3o Aumento de Capacidade de Processamento: Ao escalar os n\u00f3s de computing, \u00e9 poss\u00edvel executar mais inst\u00e2ncias de m\u00e1quinas virtuais (VMs) simultaneamente, o que permite atender a mais usu\u00e1rios e aplica\u00e7\u00f5es. Esse aumento de capacidade \u00e9 fundamental para garantir o atendimento \u00e0 demanda, especialmente em ambientes que precisam se adaptar rapidamente a flutua\u00e7\u00f5es de uso.</p> <p>Alta Disponibilidade e Toler\u00e2ncia a Falhas: A distribui\u00e7\u00e3o de servi\u00e7os cr\u00edticos, como computing e block storage, em m\u00faltiplos n\u00f3s contribui para uma arquitetura mais robusta. Com mais n\u00f3s, falhas em uma m\u00e1quina t\u00eam impacto reduzido no sistema geral, uma vez que as cargas podem ser automaticamente redirecionadas para outros n\u00f3s ativos.</p> <p>Melhoria de Desempenho e Lat\u00eancia Reduzida: Com mais n\u00f3s de armazenamento e computa\u00e7\u00e3o, os dados e os processos est\u00e3o fisicamente mais pr\u00f3ximos dos recursos e das VMs que os utilizam, reduzindo lat\u00eancias de acesso e melhorando a efici\u00eancia geral do sistema.</p> <p>Escalabilidade Horizontal: Em vez de aumentar a capacidade de uma \u00fanica m\u00e1quina (escalabilidade vertical), adicionar novos n\u00f3s permite uma escalabilidade horizontal, que \u00e9 mais econ\u00f4mica e eficiente em termos de recursos, al\u00e9m de ser mais f\u00e1cil de gerenciar. OpenStack \u00e9 ideal para esse tipo de escalabilidade, pois os servi\u00e7os de orquestra\u00e7\u00e3o como Nova e Ceph distribuem automaticamente as cargas entre os novos n\u00f3s.</p> <p>Durante as F\u00e9rias</p> <p>Num caso hipot\u00e9tico, poder\u00edamos integrar todos os dispositivos NUC dispon\u00edveis no laborat\u00f3rio de redes (todos os Kits da sala) ao nosso ambiente MaaS, expandindo a infraestrutura do OpenStack. Com isso, cada NUC se tornaria um n\u00f3 adicional na infraestrutura, ampliando os recursos de computa\u00e7\u00e3o e armazenamento de maneira eficiente e escal\u00e1vel. Dessa forma, o MaaS gerenciaria todos os NUCs, e o OpenStack utilizaria esses n\u00f3s para distribuir a carga, proporcionando maior capacidade e resili\u00eancia ao sistema.</p> <p>Vamos adicionar o n\u00f3 <code>reserva</code> ao openstack no cluster como n\u00f3 de computing e block storage.</p> <ul> <li>Verfique no Dashboard do MaaS se ainda h\u00e1 uma m\u00e1quina dispon\u00edvel (m\u00e1quina que reservamos/allocated). Fa\u00e7a o release da m\u00e1quina que est\u00e1 ALLOCATED (cuidado para n\u00e3o errar!)</li> <li>Instale o hypervisor, realizando o deploy na m\u00e1quina:   <pre><code>juju add-unit nova-compute\n</code></pre></li> <li>Anote o n\u00famero da m\u00e1quina adicionada no status e instale o block storage:   <pre><code>juju add-unit --to &lt;machine-id&gt; ceph-osd\n</code></pre></li> </ul> <p>Tarefa 3</p> <ol> <li>Fa\u00e7a um desenho de como \u00e9 a sua arquitetura de rede, desde a sua conex\u00e3o com o Insper at\u00e9 a inst\u00e2ncia alocada.</li> </ol>"},{"location":"roteiros/4.IaC/","title":"SLA, DR e IaC","text":"<p>Objetivos</p> <ol> <li>Entender os conceitos b\u00e1sicos Infraestrutura como c\u00f3digo.</li> <li>Entender os conceitos b\u00e1sicos sobre SLA e DR.</li> </ol> <p>Pr\u00e9-requisitos:</p> <p>Terminar o cap\u00edtulo anterior (Openstack) Realizar a leitura [Kavis - Cap 11 e Cap 13]</p> Info <p>DIVIS\u00c3O DO ROTEIRO  O Roteiro \u00e9 dividido em 4 partes principais.</p> <ul> <li>Entendendo IaC - Vis\u00e3o Geral</li> <li>Criando hierarquia de projetos</li> <li>Criando a Infraestrutura utilizando IaC</li> <li>Subindo aplica\u00e7\u00e3o separada por aluno</li> </ul>"},{"location":"roteiros/4.IaC/#iac-visao-geral","title":"IaC Vis\u00e3o geral","text":"<p>Infraestrutura como c\u00f3digo (IaC) \u00e9 o gerenciamento e provisionamento de infraestrutura por meio de c\u00f3digo, em vez de processos manuais.</p> <p>Utilizando o IaC, \u00e9 poss\u00edvel criar arquivos de configura\u00e7\u00e3o que contenham especifica\u00e7\u00f5es de infraestrutura, o que facilita a edi\u00e7\u00e3o e distribui\u00e7\u00e3o das configura\u00e7\u00f5es. Tamb\u00e9m garante que voc\u00ea sempre forne\u00e7a o mesmo ambiente. Ao codificar e documentar suas especifica\u00e7\u00f5es de configura\u00e7\u00e3o, o IaC auxilia no gerenciamento de configura\u00e7\u00e3o e ajuda a evitar altera\u00e7\u00f5es de configura\u00e7\u00e3o n\u00e3o documentadas. O IaC evoluiu para lidar com a deriva ambiental em dutos de libera\u00e7\u00e3o. Sem o IaC, as equipes teriam que manter as configura\u00e7\u00f5es do ambiente de implanta\u00e7\u00e3o separadamente. Com o tempo, cada ambiente se torna um \"floco de neve\", uma configura\u00e7\u00e3o \u00fanica que n\u00e3o pode ser replicada automaticamente. Inconsist\u00eancias entre ambientes podem causar problemas de implanta\u00e7\u00e3o. O gerenciamento e a manuten\u00e7\u00e3o da infraestrutura envolvem processos manuais que s\u00e3o propensos a erros e dif\u00edceis de rastrear.</p> <p></p>"},{"location":"roteiros/4.IaC/#reforcando","title":"Refor\u00e7ando","text":"<p>O IaC evita a configura\u00e7\u00e3o manual e garante consist\u00eancia ao expressar o estado desejado do ambiente por meio de c\u00f3digo bem documentado em formatos como por exemplo o JSON. A implanta\u00e7\u00e3o de infraestrutura com IaC \u00e9 repet\u00edvel e evita problemas de tempo de execu\u00e7\u00e3o causados \u200b\u200bpor configura\u00e7\u00f5es quebradas ou depend\u00eancias ausentes. </p> <p>Para fazer altera\u00e7\u00f5es, voc\u00ea precisa editar a origem, n\u00e3o o destino.</p> <p>A idempot\u00eancia (a capacidade de uma determinada opera\u00e7\u00e3o produzir sempre o mesmo resultado) \u00e9 um princ\u00edpio fundamental da IaC. O comando deploy sempre define o ambiente de destino com a mesma configura\u00e7\u00e3o, independentemente do estado inicial do ambiente. A idempot\u00eancia \u00e9 alcan\u00e7ada configurando automaticamente os destinos existentes ou excluindo os destinos existentes e recriando novos ambientes.</p>"},{"location":"roteiros/4.IaC/#o-que-e-terraform-em-infraestrutura-como-codigo","title":"O que \u00e9 Terraform em Infraestrutura como C\u00f3digo?","text":"<p>\u00c9 uma das possiveis ferramentas para IaC.</p> <p>O mercado de Infraestrutura como C\u00f3digo amadureceu ao longo dos anos. H\u00e1 uma grande variedade de ferramentas, oferecendo diferentes recursos.</p> <p></p> <p>Terraform \u00e9 a infraestrutura da HashiCorp como ferramenta de c\u00f3digo. Ele permite que voc\u00ea defina recursos e infraestrutura em arquivos de configura\u00e7\u00e3o declarativos leg\u00edveis por humanos e gerencie o ciclo de vida de sua infraestrutura. O uso do Terraform tem v\u00e1rias vantagens em rela\u00e7\u00e3o ao gerenciamento manual de sua infraestrutura:</p> <ol> <li>O Terraform pode gerenciar a infraestrutura em v\u00e1rias plataformas de nuvem.</li> <li>A linguagem de configura\u00e7\u00e3o leg\u00edvel por humanos ajuda voc\u00ea a escrever c\u00f3digo de infraestrutura rapidamente.</li> <li>O estado do Terraform permite rastrear altera\u00e7\u00f5es de recursos em todas as suas implanta\u00e7\u00f5es.</li> <li>Voc\u00ea pode confirmar suas configura\u00e7\u00f5es no controle de vers\u00e3o para colaborar com seguran\u00e7a na infraestrutura.</li> </ol> <p> Para implantar infraestrutura com o Terraform:</p> <pre><code>* Scope         - Identifique a infraestrutura para o seu projeto.\n* Author        - Escreva a configura\u00e7\u00e3o para sua infraestrutura.\n* Initialize    - Instale os plugins que o Terraform precisa para gerenciar a infraestrutura.\n* Plan          - Visualize as altera\u00e7\u00f5es que o Terraform far\u00e1 para corresponder \u00e0 sua configura\u00e7\u00e3o.\n* Apply         - Fa\u00e7a as altera\u00e7\u00f5es planejadas.\n</code></pre>"},{"location":"roteiros/4.IaC/#instalar-terraform","title":"Instalar Terraform","text":"Ubuntu/DebianCentOS/RHELWindows/FreeBSD/OpenBSD/SolarismacOS <ul> <li><code>wget -O- https://apt.releases.hashicorp.com/gpg | gpg --dearmor | sudo tee /usr/share/keyrings/hashicorp-archive-keyring.gpg</code></li> <li><code>gpg --no-default-keyring --keyring /usr/share/keyrings/hashicorp-archive-keyring.gpg --fingerprint</code></li> <li><code>echo \"deb [signed-by=/usr/share/keyrings/hashicorp-archive-keyring.gpg] https://apt.releases.hashicorp.com $(lsb_release -cs) main\" | sudo tee /etc/apt/sources.list.d/hashicorp.list</code></li> <li><code>sudo apt update &amp;&amp; sudo apt install terraform</code></li> </ul> <ul> <li><code>sudo yum install -y yum-utils</code></li> <li><code>sudo yum-config-manager --add-repo https://rpm.releases.hashicorp.com/RHEL/hashicorp.repo</code></li> <li><code>sudo yum -y install terraform</code></li> </ul> <ul> <li><code>Ir na pagina oficial e baixar o pacote bin\u00e1rio</code></li> <li><code>https://www.terraform.io/downloads</code></li> </ul> <ul> <li><code>brew tap hashicorp/tap</code></li> <li><code>brew install hashicorp/tap/terraform</code></li> </ul>"},{"location":"roteiros/4.IaC/#entendendo-a-estrutura-de-gestao-de-projetos-openstack","title":"Entendendo a estrutura de gest\u00e3o de projetos Openstack","text":"<p>O OpenStack, uma plataforma de nuvem de c\u00f3digo aberto, fornece uma infraestrutura flex\u00edvel como servi\u00e7o (IaaS) para grandes e pequenas organiza\u00e7\u00f5es. A Canonical oferece um ecossistema para implementar e gerenciar o OpenStack atrav\u00e9s de ferramentas como MAAS (Metal as a Service), que gerencia o hardware f\u00edsico; JUJU, que orquestra os servi\u00e7os; e o pr\u00f3prio OpenStack, que gerencia os recursos de computa\u00e7\u00e3o, armazenamento e rede na nuvem. Dentro do OpenStack, especialmente na aba de Identity (conhecida como Keystone), voc\u00ea encontra v\u00e1rios conceitos fundamentais: Domains, Projects, Users, Groups, e Roles. Vamos detalhar cada um:</p> <ol> <li> <p>Domains</p> <p>Um Domain no OpenStack \u00e9 a unidade de alta hierarquia para organizar e isolar os recursos e usu\u00e1rios. Ele \u00e9 usado para agrupar projetos e usu\u00e1rios, permitindo uma gest\u00e3o mais f\u00e1cil em ambientes com m\u00faltiplas organiza\u00e7\u00f5es ou departamentos distintos. Em outras palavras, um dom\u00ednio pode ser considerado como uma organiza\u00e7\u00e3o ou um tenant de mais alto n\u00edvel.</p> </li> <li> <p>Projects</p> <p>Um Project (anteriormente conhecido como \"tenant\") \u00e9 uma unidade que agrupa e isola recursos dentro do OpenStack. Projetos s\u00e3o utilizados para organizar usu\u00e1rios, inst\u00e2ncias de m\u00e1quinas virtuais, redes, e outros recursos de nuvem, facilitando a gest\u00e3o de custos, seguran\u00e7a e quota de recursos. Os projetos podem ser entendidos como departamentos ou times dentro de uma organiza\u00e7\u00e3o, cada um com seus recursos alocados.</p> </li> <li> <p>Users</p> <p>Um User \u00e9 uma conta que representa uma pessoa, sistema ou servi\u00e7o que utiliza ou gerencia os recursos na nuvem do OpenStack. Usu\u00e1rios podem ter acesso a um ou mais projetos e podem ter diferentes permiss\u00f5es em cada um, dependendo dos roles (fun\u00e7\u00f5es) que lhes s\u00e3o atribu\u00eddos.</p> </li> <li> <p>Groups</p> <p>Um Group \u00e9 uma cole\u00e7\u00e3o de usu\u00e1rios. Grupos facilitam a gest\u00e3o de pol\u00edticas e permiss\u00f5es para um conjunto de usu\u00e1rios, permitindo que administradores apliquem regras de acesso e permiss\u00f5es a muitos usu\u00e1rios simultaneamente, em vez de configurar cada usu\u00e1rio individualmente.</p> </li> <li> <p>Roles</p> <p>Um Role (fun\u00e7\u00e3o) define as permiss\u00f5es de acesso que um usu\u00e1rio ou grupo tem sobre os recursos e opera\u00e7\u00f5es dentro do OpenStack. Roles determinam o que um usu\u00e1rio pode ou n\u00e3o fazer. Por exemplo, um usu\u00e1rio com o role de \"admin\" em um projeto pode criar e gerenciar inst\u00e2ncias de m\u00e1quinas virtuais, redes e volumes de armazenamento, enquanto um usu\u00e1rio com um role mais restrito pode apenas visualizar esses recursos.</p> </li> </ol> <p>Esses conceitos trabalham juntos dentro do Keystone para fornecer um sistema de gerenciamento de identidade e acesso (IAM) robusto, flex\u00edvel e escal\u00e1vel para projetos de nuvem OpenStack, permitindo uma administra\u00e7\u00e3o eficaz dos recursos de nuvem em ambientes complexos e multi-tenant.</p>"},{"location":"roteiros/4.IaC/#criando-a-hierarquia-de-projetos-separado-por-aluno","title":"Criando a hierarquia de projetos separado por aluno","text":"<p>Agora vamos ver como isso funciona. At\u00e9 agora voc\u00ea acessou o dashboard ou utilizou a interface de linha de comando (CLI) para criar rede, subrede, instancia, roteador e outros recursos. Iremos criar isso via c\u00f3gigo</p> <p>Para n\u00e3o confundir os recursos de cada usu\u00e1rio, como por exemplo na topologia abaixo, iremos criar uma separa\u00e7\u00e3o l\u00f3gica destes usu\u00e1rios, assim como deveria acontecer em nuvem</p> <p></p> <p>Criar um dom\u00ednio, dois projetos e um usu\u00e1rio \"Aluno\" em cada projeto no OpenStack via Horizon Dashboard (a interface web do OpenStack), siga os passos abaixo. Este processo pode variar ligeiramente dependendo da vers\u00e3o do OpenStack que voc\u00ea est\u00e1 utilizando, mas em geral, os passos devem ser bastante similares.</p>"},{"location":"roteiros/4.IaC/#criar-um-unico-domain","title":"Criar um unico Domain","text":"<ul> <li>Criar um Dom\u00ednio   Navegue at\u00e9 Identity &gt; Domains.   Clique em Create Domain.   Forne\u00e7a o nome para o dom\u00ednio (AlunosDomain) e uma descri\u00e7\u00e3o opcional.   Clique em Create Domain para finalizar a cria\u00e7\u00e3o.</li> </ul> <ol> <li>Defina o Domain criado com o novo Contexto de uso</li> </ol>"},{"location":"roteiros/4.IaC/#criar-um-projeto-para-cada-aluno","title":"Criar um projeto para cada Aluno.","text":"<ul> <li>Criar Projeto   Navegue at\u00e9 Identity &gt; Projects.   Clique em Create Project.   Forne\u00e7a o nome para o projeto que deve seguir o padr\u00e3o \u2192 ( Kit  +  letra do kit + nome_do _aluno).   Adicione uma descri\u00e7\u00e3o opcional para o projeto.   Configure qualquer quota que voc\u00ea deseje para o projeto.   Clique em Create Project para concluir.   Crie o proximo project, aluno2</li> </ul> <ul> <li>Criar Usu\u00e1rios   Navegue at\u00e9 Identity &gt; Users.   Clique em Create User.   Forne\u00e7a o nome do usu\u00e1rio (por exemplo, aluno1), e-mail, descri\u00e7\u00e3o, e uma senha inicial.   Selecione o dom\u00ednio (que voces acabaram de criar).   Selecione o projeto deste aluno para associar o usu\u00e1rio a este projeto.   Atribua-lhe os pap\u00e9is administrativos.   Repita este processo para o segundo usu\u00e1rio (aluno2).   Clique em Create User para cada usu\u00e1rio para finalizar.</li> </ul> <ul> <li>Atribuir Pap\u00e9is aos Usu\u00e1rios caso esquecido acima   Ap\u00f3s criar os usu\u00e1rios, voc\u00ea ser\u00e1 capaz de atribuir pap\u00e9is a eles dentro do projeto.   Navegue at\u00e9 Identity &gt; Projects e clique no projeto que voc\u00ea criou (AlunosProject).   V\u00e1 at\u00e9 a aba Members.   Clique em Manage Members.   Adicione os usu\u00e1rios (aluno1 e aluno2) ao projeto e atribua-lhes os pap\u00e9is administrativos.   Clique em Save para aplicar as altera\u00e7\u00f5es.</li> </ul>"},{"location":"roteiros/4.IaC/#criando-a-infraestrutura-utilizando-iac","title":"Criando a Infraestrutura utilizando IaC","text":"<p>O Terraform conta com arquivos .tf, que definem a infraestrutura. </p> <p>O Terraform sabe o que \u00e9 implantado por meio do arquivo de estado. Este estado \u00e9 armazenado por padr\u00e3o em um arquivo local chamado \u201cterraform.tfstate\u201d. Tamb\u00e9m pode ser armazenado remotamente, o que funciona melhor em um ambiente de equipe. </p> <p>O Terraform permite v\u00e1rios provedores, normalmente inicializados em um arquivo chamado provider.tf.</p> <p>A estrutura de pastas ficar\u00e1 conforme figura abaixo:</p> <p></p> <ul> <li> <p>Cada Aluno deve entrar no MAIN pela sua maquina e criar a estrutura  </p> </li> <li> <p>Crie umapasta para voc\u00ea com o mesmo nome do projeto criado na etapa acima:</p> </li> <li> <p>Dentro desta pasta crie a pasta terraform e dentro dela crie os arquivos abaixo: (modifique o que for necess\u00e1rio)</p> </li> </ul> <p>provider.tf</p> <pre><code># Terraform Openstack deployment\n# Author: Tiago Demay - tiagoaodc@insper.edu.br\n\n\n# Define required providers\nterraform {\nrequired_version = \"&gt;= 0.14.0\"\n  required_providers {\n    openstack = {\n      source  = \"terraform-provider-openstack/openstack\"\n      version = \"~&gt; 1.35.0\"\n    }\n  }\n}\n\n\n# Configure the OpenStack Provider\n\nprovider \"openstack\" {\n  region              = \"RegionOne\"\n  user_name           = \"SEU_USUARIO\"\n}\n</code></pre> <p>instance1.tf <pre><code>resource \"openstack_compute_instance_v2\" \"instancia\" {\n  name            = \"basic\"\n  image_name      = \"bionic-amd64\"\n  flavor_name     = \"m1.small\"\n  key_pair        = \"mykey\"\n  security_groups = [\"default\"]\n\n  network {\n    name = \"network_1\"\n  }\n\n  depends_on = [openstack_networking_network_v2.network_1]\n\n}\n</code></pre></p> <p>instance2.tf <pre><code>resource \"openstack_compute_instance_v2\" \"instancia\" {\n  name            = \"basic2\"\n  image_name      = \"jammy-amd64\"\n  flavor_name     = \"m1.tiny\"\n  key_pair        = \"mykey\"\n  security_groups = [\"default\"]\n\n  network {\n    name = \"network_1\"\n  }\n\n  depends_on = [openstack_networking_network_v2.network_1]\n\n}\n</code></pre></p> <p>Info</p> <p>observa\u00e7\u00e3o amiga: a sua rede e do seu amigo n\u00e3o podem ter o mesmo nome! Ent\u00e3o uma delas pode ser chamada de network_1 e outra network_2 por exemplo! (lembre de mudar em todos arquivos que a utilizam).</p> <p>network.tf <pre><code>resource \"openstack_networking_network_v2\" \"network_1\" {\n  name           = \"network_1\"\n  admin_state_up = \"true\"\n}\n\nresource \"openstack_networking_subnet_v2\" \"subnet_1\" {\n  network_id = \"${openstack_networking_network_v2.network_1.id}\"\n  cidr       = \"192.167.199.0/24\"\n}\n</code></pre></p> <p>Info</p> <p>Alterar a variavel external_network_id = &lt;\"ID_EXT_NETWORK\"&gt; para o ID da sua rede externa, voc\u00ea pode encontrar esta informac\u00e3o, acessando o Dashboard do Openstack ou via CLI openstack</p> <p>router.tf <pre><code>resource \"openstack_networking_router_v2\" \"router_1\" {\n  name                = \"my_router\"\n  admin_state_up      = true\n  external_network_id = &lt;\"ID_EXT_NETWORK\"&gt;\n}\n\nresource \"openstack_networking_router_interface_v2\" \"int_1\" {\n  router_id = \"${openstack_networking_router_v2.router_1.id}\"\n  subnet_id = \"${openstack_networking_subnet_v2.subnet_1.id}\"\n}\n</code></pre></p>"},{"location":"roteiros/4.IaC/#credenciais-do-seu-usuario","title":"Credenciais do seu usu\u00e1rio","text":"<ol> <li>Entre no dashboard com o login do seu usuario (cada aluno ter\u00e1 o seu);</li> <li>Na aba project \u2192 API access, fa\u00e7a o download do openstack rc file do seu usu\u00e1rio;</li> <li>Copie o conteudo para a sua pasta de projeto (Obs: o arquivo ser\u00e1 baixado noseu notebook pessoal, passe o conteudo para o servidor Main)</li> <li>De a permiss\u00e3o de execu\u00e7\u00e3o para o arquivo <code>chmod +x arquivo.sh</code></li> <li>Carregue as variaveis de ambiente do seu usu\u00e1rio <code>source arquivo.sh</code></li> </ol> <p>Dica</p> <p>Caso aconte\u00e7a o erro abaixo: <pre><code>Attempting to parse version from URL.\n\nSSL exception connecting to https://172.16.0.x:5000/v3/auth/tokens: HTTPSConnectionPool(host='172.16.0.x', port=5000): \n\nMax retries exceeded with url: /v3/auth/tokens (Caused by SSLError(SSLCertVerificationError\n\n(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1131)')))\n</code></pre></p> <p>O erro que voc\u00ea est\u00e1 enfrentando est\u00e1 relacionado \u00e0 verifica\u00e7\u00e3o do certificado SSL ao tentar se conectar ao endpoint do OpenStack. O erro [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate sugere que o cliente (neste caso, possivelmente um cliente OpenStack CLI, uma SDK ou um script personalizado que usa a API OpenStack) n\u00e3o conseguiu verificar o certificado SSL do servidor devido \u00e0 aus\u00eancia do certificado da autoridade certificadora (CA) correspondente no armazenamento local de certificados confi\u00e1veis.</p> <p>Aqui est\u00e3o algumas maneiras de contornar ou resolver esse problema, basta utilizar uma delas:</p> <ul> <li>Colocar suas credenciais depois das credenciais do admin, isso modifica somente o necess\u00e1rio nas ENVs do ambiente</li> </ul> <pre><code>source openstack-base/openrc\nsource arquivo.sh\n</code></pre> <ul> <li>Desabilitar a Verifica\u00e7\u00e3o de SSL (N\u00e3o Recomendado para Produ\u00e7\u00e3o)</li> </ul> <p><code>export OS_VERIFY=False</code> ou dar o comando com a flag <code>--insecure</code></p> <ul> <li>Indicar o caminho correto do certificado</li> </ul> <p><code>export OS_CACERT=/caminho/para/o/certificado.pem</code></p> <p>Para fazer a implementa\u00e7\u00e3o da infraestrutura, execute os comandos abaixo:</p> <p><code>terraform plan</code></p> <ul> <li>Este comando \u00e9 utilizado para criar um plano de execu\u00e7\u00e3o. Ele mostra quais a\u00e7\u00f5es o Terraform executar\u00e1 quando voc\u00ea aplicar suas configura\u00e7\u00f5es. </li> </ul> <p><code>terraform apply</code></p> <ul> <li>O comando <code>terraform apply</code> aplica as mudan\u00e7as necess\u00e1rias para alcan\u00e7ar o estado desejado da sua configura\u00e7\u00e3o. Ele cria, atualiza ou destr\u00f3i os recursos conforme necess\u00e1rio.</li> </ul> <p>Utlize a CLI do openstack para verificar que a instancia foi criada.</p> <p>Exercise</p> <p>CheckPoint-Por_aluno</p> <ol> <li>De um print das Telas abaixo:</li> <li>Da aba Identy projects no OpenStack.</li> <li>Da aba Identy users no OpenStack.</li> <li>Da aba compute overview no OpenStack.</li> <li>Da aba compute instances no OpenStack.</li> <li>Da aba network topology no OpenStack.</li> </ol>"},{"location":"roteiros/4.IaC/#criando-um-plano-de-disaster-recovery-e-sla-questoes","title":"Criando um plano de Disaster Recovery e SLA (QUESTOES)","text":""},{"location":"roteiros/4.IaC/#pode-ser-no-word","title":"Pode ser no Word!!!","text":"<p>Exercise</p> <p>QUESTOES</p> <ol> <li>Voc\u00ea \u00e9 o CTO (Chief Technology Officer) de uma grande empresa com sede em v\u00e1rias capitais no Brasil e precisa implantar um sistema cr\u00edtico, de baixo custo e com dados sigilosos para a \u00e1rea operacional. <ol> <li>Voc\u00ea escolheria Public Cloud ou Private Cloud?</li> <li>Agora explique para ao RH por que voc\u00ea precisa de um time de DevOps.</li> <li>Considerando o mesmo sistema cr\u00edtico, agora sua equipe dever\u00e1 planejar e implementar um ambiente resiliente e capaz de mitigar poss\u00edveis interrup\u00e7\u00f5es/indisponibilidades. Para isso, identifiquem quais s\u00e3o as principais amea\u00e7as que podem colocar sua infraestrutura em risco, e descreva as principais a\u00e7\u00f5es que possibilitem o restabelecimento de todas as aplica\u00e7\u00f5es de forma r\u00e1pida e organizada caso algum evento cause uma interrup\u00e7\u00e3o ou incidente de seguran\u00e7a. Para isso monte um plano de DR e HA que considere entre as a\u00e7\u00f5es:<ul> <li>Mapeamento das principais amea\u00e7as que podem colocar em riscos o seu ambiente.</li> <li>Elenque e priorize as a\u00e7\u00f5es para a recupera\u00e7\u00e3o de seu ambiente em uma poss\u00edvel interrup\u00e7\u00e3o/desastre.</li> <li>Como sua equipe ir\u00e1 tratar a pol\u00edtica de backup?</li> <li>Considerando poss\u00edveis instabilidades e problemas, descreva como alta disponibilidade ser\u00e1 implementada em sua infraestrutura.</li> </ul> </li> </ol> </li> </ol>"},{"location":"roteiros/4.app/","title":"App","text":""},{"location":"roteiros/4.app/#criando-a-infraestrutura-utilizando-iac","title":"Criando a Infraestrutura utilizando IaC","text":"<p>O Terraform conta com arquivos .tf, que definem a infraestrutura. </p> <p>O Terraform sabe o que \u00e9 implantado por meio do arquivo de estado. Este estado \u00e9 armazenado por padr\u00e3o em um arquivo local chamado \u201cterraform.tfstate\u201d. Tamb\u00e9m pode ser armazenado remotamente, o que funciona melhor em um ambiente de equipe. </p> <p>O Terraform permite v\u00e1rios provedores, normalmente inicializados em um arquivo chamado provider.tf.</p> <p>A estrutura de pastas ficar\u00e1 conforme figura abaixo:</p> <p></p> <ul> <li> <p>Cada Aluno deve entrar no MAIN pela sua maquina e criar a estrutura  </p> </li> <li> <p>Crie umapasta para voc\u00ea com o mesmo nome do projeto criado na etapa acima:</p> </li> <li> <p>Dentro desta pasta crie a pasta terraform e dentro dela crie os arquivos abaixo: (modifique o que for necess\u00e1rio)</p> </li> </ul> <p>provider.tf</p> <pre><code># Terraform Openstack deployment\n# Author: Tiago Demay - tiagoaodc@insper.edu.br\n\n\n# Define required providers\nterraform {\nrequired_version = \"&gt;= 0.14.0\"\n  required_providers {\n    openstack = {\n      source  = \"terraform-provider-openstack/openstack\"\n      version = \"~&gt; 1.35.0\"\n    }\n  }\n}\n\n\n# Configure the OpenStack Provider\n\nprovider \"openstack\" {\n  region              = \"RegionOne\"\n  user_name           = \"SEU_USUARIO\"\n}\n</code></pre> <p>instance1.tf <pre><code>resource \"openstack_compute_instance_v2\" \"instancia\" {\n  name            = \"basic\"\n  image_name      = \"bionic-amd64\"\n  flavor_name     = \"m1.small\"\n  key_pair        = \"mykey\"\n  security_groups = [\"default\"]\n\n  network {\n    name = \"network_1\"\n  }\n\n  depends_on = [openstack_networking_network_v2.network_1]\n\n}\n</code></pre></p> <p>instance2.tf <pre><code>resource \"openstack_compute_instance_v2\" \"instancia\" {\n  name            = \"basic2\"\n  image_name      = \"jammy-amd64\"\n  flavor_name     = \"m1.tiny\"\n  key_pair        = \"mykey\"\n  security_groups = [\"default\"]\n\n  network {\n    name = \"network_1\"\n  }\n\n  depends_on = [openstack_networking_network_v2.network_1]\n\n}\n</code></pre></p> <p>Info</p> <p>observa\u00e7\u00e3o amiga: a sua rede e do seu amigo n\u00e3o podem ter o mesmo nome! Ent\u00e3o uma delas pode ser chamada de network_1 e outra network_2 por exemplo! (lembre de mudar em todos arquivos que a utilizam).</p> <p>network.tf <pre><code>resource \"openstack_networking_network_v2\" \"network_1\" {\n  name           = \"network_1\"\n  admin_state_up = \"true\"\n}\n\nresource \"openstack_networking_subnet_v2\" \"subnet_1\" {\n  network_id = \"${openstack_networking_network_v2.network_1.id}\"\n  cidr       = \"192.167.199.0/24\"\n}\n</code></pre></p> <p>Info</p> <p>Alterar a variavel external_network_id = &lt;\"ID_EXT_NETWORK\"&gt; para o ID da sua rede externa, voc\u00ea pode encontrar esta informac\u00e3o, acessando o Dashboard do Openstack ou via CLI openstack</p> <p>router.tf <pre><code>resource \"openstack_networking_router_v2\" \"router_1\" {\n  name                = \"my_router\"\n  admin_state_up      = true\n  external_network_id = &lt;\"ID_EXT_NETWORK\"&gt;\n}\n\nresource \"openstack_networking_router_interface_v2\" \"int_1\" {\n  router_id = \"${openstack_networking_router_v2.router_1.id}\"\n  subnet_id = \"${openstack_networking_subnet_v2.subnet_1.id}\"\n}\n</code></pre></p>"},{"location":"roteiros/4.app/#credenciais-do-seu-usuario","title":"Credenciais do seu usu\u00e1rio","text":"<ol> <li>Entre no dashboard com o login do seu usuario (cada aluno ter\u00e1 o seu);</li> <li>Na aba project \u2192 API access, fa\u00e7a o download do openstack rc file do seu usu\u00e1rio;</li> <li>Copie o conteudo para a sua pasta de projeto (Obs: o arquivo ser\u00e1 baixado noseu notebook pessoal, passe o conteudo para o servidor Main)</li> <li>De a permiss\u00e3o de execu\u00e7\u00e3o para o arquivo <code>chmod +x arquivo.sh</code></li> <li>Carregue as variaveis de ambiente do seu usu\u00e1rio <code>source arquivo.sh</code></li> </ol> <p>Dica</p> <p>Caso aconte\u00e7a o erro abaixo: <pre><code>Attempting to parse version from URL.\n\nSSL exception connecting to https://172.16.0.x:5000/v3/auth/tokens: HTTPSConnectionPool(host='172.16.0.x', port=5000): \n\nMax retries exceeded with url: /v3/auth/tokens (Caused by SSLError(SSLCertVerificationError\n\n(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1131)')))\n</code></pre></p> <p>O erro que voc\u00ea est\u00e1 enfrentando est\u00e1 relacionado \u00e0 verifica\u00e7\u00e3o do certificado SSL ao tentar se conectar ao endpoint do OpenStack. O erro [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate sugere que o cliente (neste caso, possivelmente um cliente OpenStack CLI, uma SDK ou um script personalizado que usa a API OpenStack) n\u00e3o conseguiu verificar o certificado SSL do servidor devido \u00e0 aus\u00eancia do certificado da autoridade certificadora (CA) correspondente no armazenamento local de certificados confi\u00e1veis.</p> <p>Aqui est\u00e3o algumas maneiras de contornar ou resolver esse problema, basta utilizar uma delas:</p> <ul> <li>Colocar suas credenciais depois das credenciais do admin, isso modifica somente o necess\u00e1rio nas ENVs do ambiente</li> </ul> <pre><code>source openstack-base/openrc\nsource arquivo.sh\n</code></pre> <ul> <li>Desabilitar a Verifica\u00e7\u00e3o de SSL (N\u00e3o Recomendado para Produ\u00e7\u00e3o)</li> </ul> <p><code>export OS_VERIFY=False</code> ou dar o comando com a flag <code>--insecure</code></p> <ul> <li>Indicar o caminho correto do certificado</li> </ul> <p><code>export OS_CACERT=/caminho/para/o/certificado.pem</code></p> <p>Para fazer a implementa\u00e7\u00e3o da infraestrutura, execute os comandos abaixo:</p> <p><code>terraform plan</code></p> <ul> <li>Este comando \u00e9 utilizado para criar um plano de execu\u00e7\u00e3o. Ele mostra quais a\u00e7\u00f5es o Terraform executar\u00e1 quando voc\u00ea aplicar suas configura\u00e7\u00f5es. </li> </ul> <p><code>terraform apply</code></p> <ul> <li>O comando <code>terraform apply</code> aplica as mudan\u00e7as necess\u00e1rias para alcan\u00e7ar o estado desejado da sua configura\u00e7\u00e3o. Ele cria, atualiza ou destr\u00f3i os recursos conforme necess\u00e1rio.</li> </ul> <p>Utlize a CLI do openstack para verificar que a instancia foi criada.</p> <p>Exercise</p> <p>CheckPoint-Por_aluno</p> <ol> <li>De um print das Telas abaixo:</li> <li>Da aba Identy projects no OpenStack.</li> <li>Da aba Identy users no OpenStack.</li> <li>Da aba compute overview no OpenStack.</li> <li>Da aba compute instances no OpenStack.</li> <li>Da aba network topology no OpenStack.</li> <li>Em um \u00fanico print mostre os 5 arquivos (.tf) que foram modificados no seu usu\u00e1rio</li> </ol>"},{"location":"roteiros/4.infra/","title":"Infra","text":""},{"location":"roteiros/4.infra/#criando-a-hierarquia-de-projetos-separado-por-aluno","title":"Criando a hierarquia de projetos separado por aluno","text":"<p>Agora vamos ver como isso funciona. At\u00e9 agora voc\u00ea acessou o dashboard ou utilizou a interface de linha de comando (CLI) para criar rede, subrede, instancia, roteador e outros recursos. Iremos criar isso via c\u00f3gigo</p> <p>Para n\u00e3o confundir os recursos de cada usu\u00e1rio, como por exemplo na topologia abaixo, iremos criar uma separa\u00e7\u00e3o l\u00f3gica destes usu\u00e1rios, assim como deveria acontecer em nuvem</p> <p></p> <p>Criar um dom\u00ednio, dois projetos e um usu\u00e1rio \"Aluno\" em cada projeto no OpenStack via Horizon Dashboard (a interface web do OpenStack), siga os passos abaixo. Este processo pode variar ligeiramente dependendo da vers\u00e3o do OpenStack que voc\u00ea est\u00e1 utilizando, mas em geral, os passos devem ser bastante similares.</p>"},{"location":"roteiros/4.infra/#criar-um-unico-domain","title":"Criar um \u00fanico Domain","text":"<ul> <li>Criar um Dom\u00ednio   Navegue at\u00e9 Identity &gt; Domains.   Clique em Create Domain.   Forne\u00e7a o nome para o dom\u00ednio (AlunosDomain) e uma descri\u00e7\u00e3o opcional.   Clique em Create Domain para finalizar a cria\u00e7\u00e3o.</li> </ul> <ol> <li>Defina o Domain criado com o novo Contexto de uso</li> </ol>"},{"location":"roteiros/4.infra/#criar-um-projeto-para-cada-aluno","title":"Criar um projeto para cada Aluno.","text":"<ul> <li>Criar Projeto   Navegue at\u00e9 Identity &gt; Projects.   Clique em Create Project.   Forne\u00e7a o nome para o projeto que deve seguir o padr\u00e3o \u2192 ( Kit  +  letra do kit + nome_do _aluno).   Adicione uma descri\u00e7\u00e3o opcional para o projeto.   Configure qualquer quota que voc\u00ea deseje para o projeto.   Clique em Create Project para concluir.   Crie o proximo project, aluno2</li> </ul> <ul> <li>Criar Usu\u00e1rios   Navegue at\u00e9 Identity &gt; Users.   Clique em Create User.   Forne\u00e7a o nome do usu\u00e1rio (por exemplo, aluno1), e-mail, descri\u00e7\u00e3o, e uma senha inicial.   Selecione o dom\u00ednio (que voces acabaram de criar).   Selecione o projeto deste aluno para associar o usu\u00e1rio a este projeto.   Atribua-lhe os pap\u00e9is administrativos.   Repita este processo para o segundo usu\u00e1rio (aluno2).   Clique em Create User para cada usu\u00e1rio para finalizar.</li> </ul> <ul> <li>Atribuir Pap\u00e9is aos Usu\u00e1rios caso esquecido acima   Ap\u00f3s criar os usu\u00e1rios, voc\u00ea ser\u00e1 capaz de atribuir pap\u00e9is a eles dentro do projeto.   Navegue at\u00e9 Identity &gt; Projects e clique no projeto que voc\u00ea criou (AlunosProject).   V\u00e1 at\u00e9 a aba Members.   Clique em Manage Members.   Adicione os usu\u00e1rios (aluno1 e aluno2) ao projeto e atribua-lhes os pap\u00e9is administrativos.   Clique em Save para aplicar as altera\u00e7\u00f5es.</li> </ul>"},{"location":"roteiros/4.objetivo/","title":"SLA, DR e IaC","text":"<p>Objetivos</p> <ol> <li>Entender os conceitos b\u00e1sicos Infraestrutura como c\u00f3digo.</li> <li>Entender os conceitos b\u00e1sicos sobre SLA e DR.</li> </ol> <p>Pr\u00e9-requisitos:</p> <p>Terminar o cap\u00edtulo anterior (Openstack) Realizar a leitura [Kavis - Cap 11 e Cap 13]</p> Info <p>DIVIS\u00c3O DO ROTEIRO :  O Roteiro \u00e9 dividido em 4 partes principais.</p> <ul> <li>Entendendo IaC - Vis\u00e3o Geral</li> <li>Criando hierarquia de projetos</li> <li>Criando a Infraestrutura utilizando IaC</li> <li>Subindo aplica\u00e7\u00e3o separada por aluno</li> </ul>"},{"location":"roteiros/4.objetivo/#iac-visao-geral","title":"IaC Vis\u00e3o geral","text":"<p>Infraestrutura como c\u00f3digo (IaC) \u00e9 o gerenciamento e provisionamento de infraestrutura por meio de c\u00f3digo, em vez de processos manuais.</p> <p>Utilizando o IaC, \u00e9 poss\u00edvel criar arquivos de configura\u00e7\u00e3o que contenham especifica\u00e7\u00f5es de infraestrutura, o que facilita a edi\u00e7\u00e3o e distribui\u00e7\u00e3o das configura\u00e7\u00f5es. Tamb\u00e9m garante que voc\u00ea sempre forne\u00e7a o mesmo ambiente. Ao codificar e documentar suas especifica\u00e7\u00f5es de configura\u00e7\u00e3o, o IaC auxilia no gerenciamento de configura\u00e7\u00e3o e ajuda a evitar altera\u00e7\u00f5es de configura\u00e7\u00e3o n\u00e3o documentadas. O IaC evoluiu para lidar com a deriva ambiental em dutos de libera\u00e7\u00e3o. Sem o IaC, as equipes teriam que manter as configura\u00e7\u00f5es do ambiente de implanta\u00e7\u00e3o separadamente. Com o tempo, cada ambiente se torna um \"floco de neve\", uma configura\u00e7\u00e3o \u00fanica que n\u00e3o pode ser replicada automaticamente. Inconsist\u00eancias entre ambientes podem causar problemas de implanta\u00e7\u00e3o. O gerenciamento e a manuten\u00e7\u00e3o da infraestrutura envolvem processos manuais que s\u00e3o propensos a erros e dif\u00edceis de rastrear.</p> <p></p>"},{"location":"roteiros/4.objetivo/#reforcando","title":"Refor\u00e7ando","text":"<p>O IaC evita a configura\u00e7\u00e3o manual e garante consist\u00eancia ao expressar o estado desejado do ambiente por meio de c\u00f3digo bem documentado em formatos como por exemplo o JSON. A implanta\u00e7\u00e3o de infraestrutura com IaC \u00e9 repet\u00edvel e evita problemas de tempo de execu\u00e7\u00e3o causados \u200b\u200bpor configura\u00e7\u00f5es quebradas ou depend\u00eancias ausentes. </p> <p>Para fazer altera\u00e7\u00f5es, voc\u00ea precisa editar a origem, n\u00e3o o destino.</p> <p>A idempot\u00eancia (a capacidade de uma determinada opera\u00e7\u00e3o produzir sempre o mesmo resultado) \u00e9 um princ\u00edpio fundamental da IaC. O comando deploy sempre define o ambiente de destino com a mesma configura\u00e7\u00e3o, independentemente do estado inicial do ambiente. A idempot\u00eancia \u00e9 alcan\u00e7ada configurando automaticamente os destinos existentes ou excluindo os destinos existentes e recriando novos ambientes.</p>"},{"location":"roteiros/4.objetivo/#o-que-e-terraform-em-infraestrutura-como-codigo","title":"O que \u00e9 Terraform em Infraestrutura como C\u00f3digo?","text":"<p>\u00c9 uma das possiveis ferramentas para IaC.</p> <p>O mercado de Infraestrutura como C\u00f3digo amadureceu ao longo dos anos. H\u00e1 uma grande variedade de ferramentas, oferecendo diferentes recursos.</p> <p></p> <p>Terraform \u00e9 a infraestrutura da HashiCorp como ferramenta de c\u00f3digo. Ele permite que voc\u00ea defina recursos e infraestrutura em arquivos de configura\u00e7\u00e3o declarativos leg\u00edveis por humanos e gerencie o ciclo de vida de sua infraestrutura. O uso do Terraform tem v\u00e1rias vantagens em rela\u00e7\u00e3o ao gerenciamento manual de sua infraestrutura:</p> <ol> <li>O Terraform pode gerenciar a infraestrutura em v\u00e1rias plataformas de nuvem.</li> <li>A linguagem de configura\u00e7\u00e3o leg\u00edvel por humanos ajuda voc\u00ea a escrever c\u00f3digo de infraestrutura rapidamente.</li> <li>O estado do Terraform permite rastrear altera\u00e7\u00f5es de recursos em todas as suas implanta\u00e7\u00f5es.</li> <li>Voc\u00ea pode confirmar suas configura\u00e7\u00f5es no controle de vers\u00e3o para colaborar com seguran\u00e7a na infraestrutura.</li> </ol> <p> Para implantar infraestrutura com o Terraform:</p> <pre><code>* Scope         - Identifique a infraestrutura para o seu projeto.\n* Author        - Escreva a configura\u00e7\u00e3o para sua infraestrutura.\n* Initialize    - Instale os plugins que o Terraform precisa para gerenciar a infraestrutura.\n* Plan          - Visualize as altera\u00e7\u00f5es que o Terraform far\u00e1 para corresponder \u00e0 sua configura\u00e7\u00e3o.\n* Apply         - Fa\u00e7a as altera\u00e7\u00f5es planejadas.\n</code></pre>"},{"location":"roteiros/4.objetivo/#instalar-terraform","title":"Instalar Terraform","text":"Ubuntu/DebianCentOS/RHELWindows/FreeBSD/OpenBSD/SolarismacOS <ul> <li><code>wget -O- https://apt.releases.hashicorp.com/gpg | gpg --dearmor | sudo tee /usr/share/keyrings/hashicorp-archive-keyring.gpg</code></li> <li><code>gpg --no-default-keyring --keyring /usr/share/keyrings/hashicorp-archive-keyring.gpg --fingerprint</code></li> <li><code>echo \"deb [signed-by=/usr/share/keyrings/hashicorp-archive-keyring.gpg] https://apt.releases.hashicorp.com $(lsb_release -cs) main\" | sudo tee /etc/apt/sources.list.d/hashicorp.list</code></li> <li><code>sudo apt update &amp;&amp; sudo apt install terraform</code></li> </ul> <ul> <li><code>sudo yum install -y yum-utils</code></li> <li><code>sudo yum-config-manager --add-repo https://rpm.releases.hashicorp.com/RHEL/hashicorp.repo</code></li> <li><code>sudo yum -y install terraform</code></li> </ul> <ul> <li><code>Ir na pagina oficial e baixar o pacote bin\u00e1rio</code></li> <li><code>https://www.terraform.io/downloads</code></li> </ul> <ul> <li><code>brew tap hashicorp/tap</code></li> <li><code>brew install hashicorp/tap/terraform</code></li> </ul>"},{"location":"roteiros/4.objetivo/#entendendo-a-estrutura-de-gestao-de-projetos-openstack","title":"Entendendo a estrutura de gest\u00e3o de projetos Openstack","text":"<p>O OpenStack, uma plataforma de nuvem de c\u00f3digo aberto, fornece uma infraestrutura flex\u00edvel como servi\u00e7o (IaaS) para grandes e pequenas organiza\u00e7\u00f5es. A Canonical oferece um ecossistema para implementar e gerenciar o OpenStack atrav\u00e9s de ferramentas como MAAS (Metal as a Service), que gerencia o hardware f\u00edsico; JUJU, que orquestra os servi\u00e7os; e o pr\u00f3prio OpenStack, que gerencia os recursos de computa\u00e7\u00e3o, armazenamento e rede na nuvem. Dentro do OpenStack, especialmente na aba de Identity (conhecida como Keystone), voc\u00ea encontra v\u00e1rios conceitos fundamentais: Domains, Projects, Users, Groups, e Roles. Vamos detalhar cada um:</p> <ol> <li> <p>Domains</p> <p>Um Domain no OpenStack \u00e9 a unidade de alta hierarquia para organizar e isolar os recursos e usu\u00e1rios. Ele \u00e9 usado para agrupar projetos e usu\u00e1rios, permitindo uma gest\u00e3o mais f\u00e1cil em ambientes com m\u00faltiplas organiza\u00e7\u00f5es ou departamentos distintos. Em outras palavras, um dom\u00ednio pode ser considerado como uma organiza\u00e7\u00e3o ou um tenant de mais alto n\u00edvel.</p> </li> <li> <p>Projects</p> <p>Um Project (anteriormente conhecido como \"tenant\") \u00e9 uma unidade que agrupa e isola recursos dentro do OpenStack. Projetos s\u00e3o utilizados para organizar usu\u00e1rios, inst\u00e2ncias de m\u00e1quinas virtuais, redes, e outros recursos de nuvem, facilitando a gest\u00e3o de custos, seguran\u00e7a e quota de recursos. Os projetos podem ser entendidos como departamentos ou times dentro de uma organiza\u00e7\u00e3o, cada um com seus recursos alocados.</p> </li> <li> <p>Users</p> <p>Um User \u00e9 uma conta que representa uma pessoa, sistema ou servi\u00e7o que utiliza ou gerencia os recursos na nuvem do OpenStack. Usu\u00e1rios podem ter acesso a um ou mais projetos e podem ter diferentes permiss\u00f5es em cada um, dependendo dos roles (fun\u00e7\u00f5es) que lhes s\u00e3o atribu\u00eddos.</p> </li> <li> <p>Groups</p> <p>Um Group \u00e9 uma cole\u00e7\u00e3o de usu\u00e1rios. Grupos facilitam a gest\u00e3o de pol\u00edticas e permiss\u00f5es para um conjunto de usu\u00e1rios, permitindo que administradores apliquem regras de acesso e permiss\u00f5es a muitos usu\u00e1rios simultaneamente, em vez de configurar cada usu\u00e1rio individualmente.</p> </li> <li> <p>Roles</p> <p>Um Role (fun\u00e7\u00e3o) define as permiss\u00f5es de acesso que um usu\u00e1rio ou grupo tem sobre os recursos e opera\u00e7\u00f5es dentro do OpenStack. Roles determinam o que um usu\u00e1rio pode ou n\u00e3o fazer. Por exemplo, um usu\u00e1rio com o role de \"admin\" em um projeto pode criar e gerenciar inst\u00e2ncias de m\u00e1quinas virtuais, redes e volumes de armazenamento, enquanto um usu\u00e1rio com um role mais restrito pode apenas visualizar esses recursos.</p> </li> </ol> <p>Esses conceitos trabalham juntos dentro do Keystone para fornecer um sistema de gerenciamento de identidade e acesso (IAM) robusto, flex\u00edvel e escal\u00e1vel para projetos de nuvem OpenStack, permitindo uma administra\u00e7\u00e3o eficaz dos recursos de nuvem em ambientes complexos e multi-tenant.</p>"},{"location":"roteiros/5.K8s/","title":"Containers e K8s","text":"<p>Objetivos</p> <ol> <li>Entender os conceitos b\u00e1sicos sobre Cont\u00eaineres e seus Orquestradores.</li> <li>Instalar o Octavia no Openstack</li> <li>Integrar o Openstack e o Kubernetes</li> </ol> <p>Pr\u00e9-requisitos:</p> <ol> <li>Terminar o cap\u00edtulo anterior (SLA,DR e IaC)</li> <li>Realizar a leitura sobre o Docker.</li> <li>Realizar a leitura sobre o Kubernetes.</li> <li>Realizar a leitura do Octavia. documenta\u00e7\u00e3o e implanta\u00e7\u00e3o</li> <li>Realizar a leitura do Barbican.</li> <li>Realizar a leitura dos Charms. Vault, Octavia, Barbican.</li> </ol> Info <p>DIVIS\u00c3O DO ROTEIRO  O Roteiro \u00e9 dividido em 3 partes principais.</p> <ul> <li>Entendendo tipos de implantacoes - Vis\u00e3o Geral</li> <li>Adicionando Octavia (Load Balancer) na Nuvem privada(Openstack)</li> <li>Utilizando Docker e Kubernetes</li> </ul>"},{"location":"roteiros/5.K8s/#voce-chegou-a-um-roteiro-avancado-este-roteiro-envolve-a-resolucao-de-problemas-de-implantacao-esperamos-que-voce-esteja-preparado-este-roteiro-e-prototipado-por-voce","title":"Voce chegou a um roteiro avancado, este Roteiro envolve a resolu\u00e7\u00e3o de problemas de implanta\u00e7\u00e3o, esperamos que voc\u00ea esteja preparado, este roteiro \u00e9 prototipado por voc\u00ea!!!!","text":""},{"location":"roteiros/5.K8s/#target","title":"TARGET","text":""},{"location":"roteiros/5.K8s/#do-inicio-do-roteiro-1-ate-onde-chegamos-no-fim-deste-roteiro","title":"DO INICIO DO ROTEIRO 1 ATE ONDE CHEGAMOS NO FIM DESTE ROTEIRO","text":""},{"location":"roteiros/5.K8s/#tipo-de-implantacoes","title":"Tipo de implantacoes","text":""},{"location":"roteiros/5.K8s/#tradicional","title":"Tradicional","text":"<p>Inicialmente, as organiza\u00e7\u00f5es executavam aplicativos em servidores f\u00edsicos. Os limites de recursos n\u00e3o podem ser definidos para aplicativos em servidores f\u00edsicos, o que causa problemas de aloca\u00e7\u00e3o de recursos. Por exemplo, se v\u00e1rios aplicativos estiverem sendo executados em um servidor f\u00edsico, pode haver uma situa\u00e7\u00e3o em que um aplicativo consuma mais recursos, resultando em um desempenho insatisfat\u00f3rio de outros aplicativos. A solu\u00e7\u00e3o para isso \u00e9 executar cada aplicativo em um servidor f\u00edsico diferente. Mas isso n\u00e3o aumentou porque os recursos s\u00e3o subutilizados e \u00e9 caro para as organiza\u00e7\u00f5es manter muitos servidores f\u00edsicos.</p>"},{"location":"roteiros/5.K8s/#virtualizada","title":"Virtualizada","text":"<p>Como solu\u00e7\u00e3o, a virtualiza\u00e7\u00e3o foi introduzida. Ele permite que voc\u00ea execute v\u00e1rias m\u00e1quinas virtuais (VMs) na CPU de um \u00fanico servidor f\u00edsico. A virtualiza\u00e7\u00e3o permite que os aplicativos sejam isolados entre VMs e fornece um n\u00edvel de seguran\u00e7a que as informa\u00e7\u00f5es de um aplicativo n\u00e3o podem ser acessadas livremente por outro aplicativo. A virtualiza\u00e7\u00e3o permite uma melhor utiliza\u00e7\u00e3o dos recursos em servidores f\u00edsicos e uma melhor escalabilidade, pois os aplicativos podem ser facilmente adicionados ou atualizados, os custos de hardware s\u00e3o reduzidos e muito mais. Com a virtualiza\u00e7\u00e3o, voc\u00ea pode apresentar um conjunto de recursos f\u00edsicos como um cluster de m\u00e1quinas virtuais descart\u00e1veis. Cada VM \u00e9 uma m\u00e1quina completa, executando todos os componentes, incluindo seu pr\u00f3prio sistema operacional, sobre hardware virtualizado.</p>"},{"location":"roteiros/5.K8s/#conteinerizada","title":"Conteinerizada","text":"<p>Os cont\u00eaineres s\u00e3o pacotes leves do c\u00f3digo do seu aplicativo, juntamente com depend\u00eancias, como vers\u00f5es espec\u00edficas de tempos de execu\u00e7\u00e3o de linguagem de programa\u00e7\u00e3o e bibliotecas necess\u00e1rias para executar seus servi\u00e7os de software. Os cont\u00eaineres facilitam o compartilhamento de recursos de CPU, mem\u00f3ria, armazenamento e rede no n\u00edvel dos sistemas operacionais e oferecem um mecanismo de empacotamento l\u00f3gico no qual os aplicativos podem ser abstra\u00eddos do ambiente em que realmente s\u00e3o executados.</p> <p>Os cont\u00eaineres virtualizam no n\u00edvel do sistema operacional enquanto as VMs virtualizam no n\u00edvel do hardware</p> <p></p>"},{"location":"roteiros/5.K8s/#instalando-e-configurando-o-octavia-loadbalancer-para-openstack","title":"Instalando e Configurando o Octavia (Loadbalancer para Openstack)","text":"<ul> <li>No servidor Main - an\u00e1lise o juju status seu LoadBalancer deve ser implantado nesta infraestrutura sem causar degrada\u00e7\u00e3o dos servi\u00e7os j\u00e1 existentes: Fa\u00e7a a instala\u00e7\u00e3o do Octavia de acordo com a leitura pr\u00e9via obrigat\u00f3ria !!!</li> </ul> Dicas <p>Dicas sobre Troubleshooting</p> <p>Durante o processo de implanta\u00e7\u00e3o de OpenStack, Octavia e Kubernetes, \u00e9 comum que surjam problemas t\u00e9cnicos inesperados. Aqui est\u00e3o algumas dicas para solucionar poss\u00edveis dificuldades:</p> <ol> <li>Problemas de Conex\u00e3o no Juju</li> <li>Sintomas: Erros ao tentar conectar ao controlador ou realizar deploys.</li> <li> <p>Solu\u00e7\u00e3o: Verifique se as m\u00e1quinas de infraestrutura est\u00e3o acess\u00edveis. Use o comando <code>juju status</code> para inspecionar o estado dos servi\u00e7os. Reiniciar o agente do Juju com <code>juju reload</code> pode resolver problemas de conectividade.</p> </li> <li> <p>Erros ao Configurar o Octavia</p> </li> <li>Sintomas: Octavia n\u00e3o aparece como um recurso de load balancing no OpenStack ou falhas ao configurar rela\u00e7\u00f5es.</li> <li> <p>Solu\u00e7\u00e3o: Confirme que todos os pr\u00e9-requisitos de rede est\u00e3o configurados corretamente e que o charm Octavia est\u00e1 relacionado ao Neutron e ao Keystone. Use <code>juju debug-log --include octavia/0</code> para inspecionar logs espec\u00edficos do Octavia.</p> </li> <li> <p>Falhas de Certificados no Octavia</p> </li> <li>Sintomas: Octavia n\u00e3o aceita as configura\u00e7\u00f5es de certificados ou falha ao gerar inst\u00e2ncias de load balancers.</li> <li> <p>Solu\u00e7\u00e3o: Revise os certificados gerados, conferindo se est\u00e3o nos formatos e permiss\u00f5es corretos. Certifique-se de que os certificados CA e os tokens do Vault est\u00e3o v\u00e1lidos. Verifique a validade dos certificados com <code>openssl x509 -noout -in [certificado] -dates</code>.</p> </li> <li> <p>Erros ao Criar o Cluster Kubernetes</p> </li> <li>Sintomas: Kubernetes n\u00e3o inicia corretamente, ou n\u00e3o conecta ao Juju.</li> <li>Solu\u00e7\u00e3o: Verifique se o Juju est\u00e1 configurado para o OpenStack como Cloud Provider. Use <code>juju status</code> para identificar onde o processo falhou, e verifique logs do Kubernetes com <code>kubectl logs</code>.</li> </ol> Info <p>Certificados SSL (Secure Sockets Layer) s\u00e3o essenciais para garantir a seguran\u00e7a na comunica\u00e7\u00e3o entre servidores e clientes na web, especialmente em contextos onde os dados trafegados devem ser protegidos contra intercepta\u00e7\u00f5es ou altera\u00e7\u00f5es. No caso de um load balancer como o Octavia, os certificados SSL desempenham um papel fundamental na prote\u00e7\u00e3o das intera\u00e7\u00f5es entre o controlador do load balancer e as inst\u00e2ncias (conhecidas como amphorae) que distribuem o tr\u00e1fego.</p> <p>O uso de SSL cria um \"t\u00fanel\" seguro, criptografando os dados transmitidos para que apenas os dispositivos autorizados consigam descriptografar e entender o conte\u00fado das mensagens. Isso impede que terceiros interceptem e acessem informa\u00e7\u00f5es sens\u00edveis ou modifiquem os dados em tr\u00e2nsito.</p> <p>Para o Octavia, que precisa gerenciar e monitorar as inst\u00e2ncias de load balancers, o SSL assegura que qualquer instru\u00e7\u00e3o enviada ao load balancer seja leg\u00edtima e provenha do controlador autorizado. Assim, SSL ajuda a garantir que o tr\u00e1fego balanceado entre as m\u00e1quinas do OpenStack seja confi\u00e1vel e imune a ataques de \"man-in-the-middle\" (intercepta\u00e7\u00e3o), oferecendo um n\u00edvel robusto de seguran\u00e7a e autenticidade para toda a arquitetura da nuvem.</p> <p>Ainda no Servidor main, vamos aumentar alguns limites:</p> <p><code>openstack quota set --cores 100 [ID do Projeto]</code></p> <p><code>openstack quota set --instances 100 [ID do Projeto]</code></p> <p>No cap\u00edtulo 3, foi realizada a implanta\u00e7\u00e3o do Openstack no hardware dispon\u00edvel. Al\u00e9m de VMs, o Openstack consegue tamb\u00e9m manipular containers, tal qual o MaaS e o Juju. Contudo o grande problema \u00e9 que n\u00e3o basta apenas criar e destruir um container, \u00e9 preciso administrar uma complexa arquitetura, monitorando e controlando um conjunto de containers que representam uma implanta\u00e7\u00e3o de um sistema.</p>"},{"location":"roteiros/5.K8s/#webserver","title":"WebServer","text":"<ul> <li>Criar uma inst\u00e2ncia m1.small com IP p\u00fablico no Openstack, nomea-la como juju-openstack-web-server</li> <li>Adicionar um Security Group novo a esta instancia (n\u00e3o utilizar o default)</li> <li>Acessar a instancia criada</li> <li>Vamos criar um WebServer em NodeJS</li> <li>Criar o arquivo ~/hello-node/server.js</li> </ul> <pre><code>#!/usr/bin/env nodejs\n\nvar http = require('http');\nvar os = require('os');\n\nvar handleRequest = function(request, response) {\n    console.log('Received request for URL: ' + request.url);\n    response.writeHead(200);\n    response.end('{ \"host\": ' + os.hostname() + ', \"message\": \"Hello World!\"}');\n};\n\nvar www = http.createServer(handleRequest);\nwww.listen(8080);\nconsole.log('Server running at http://localhost:8080/');\n</code></pre> <ul> <li>Testar o WebServer rodando localmente no terminal.</li> </ul> <pre><code>sudo apt install nodejs\nnode server.js\n</code></pre> <p>Exercise</p> <p>CheckPoint-1 WebServer</p> <ol> <li>De um print das Telas abaixo:</li> <li>Da aba network topology no OpenStack.</li> <li>Das regras do Security Group utilizado.</li> <li>Da Aba do navegador com o WebServer Rodando.</li> </ol>"},{"location":"roteiros/5.K8s/#instalar-o-docker-na-instancia","title":"Instalar o Docker na instancia","text":"<p>Arquitetura Docker </p> <p></p> <pre><code>sudo apt-get update\nsudo apt install build-essential apt-transport-https curl\ncurl -fsSL https://get.docker.com | sh -\nsudo usermod -aG docker $USER\nnewgrp docker\ndocker version\ndocker run hello-world\n</code></pre> <ul> <li>Criar uma um arquivo ~/hello-node/Dockerfile que dar\u00e1 origem ao container</li> </ul> <pre><code>FROM node:6.9.2\nEXPOSE 8080\nCOPY server.js .\nCMD node server.js\n</code></pre> <ul> <li>Montar a imagem local (Cria um container com esta aplicacao webserver)</li> </ul> <p><code>docker build -t hello-node:v1 ./hello-node/</code></p> <ul> <li>Rodar o container com a imagem criada.</li> </ul> <p><code>docker container run hello-node:v1</code></p> <p>Exercise</p> <p>CheckPoint-2 Docker</p> <ol> <li>De um print das Telas abaixo:</li> <li>WebServer Rodando no navegador.</li> <li>Sa\u00edda do comando (docker images ls)</li> <li>Sa\u00edda do comando (docker container ls)</li> </ol>"},{"location":"roteiros/5.K8s/#docker-hub","title":"Docker Hub","text":"<ul> <li>Caso n\u00e3o tenha ainda, criar individualmente um login (usu\u00e1rio) na https://hub.docker.com/</li> </ul> <p>\u2022 Fazer o login no Docker \u2022 Aplicar a tag na imagem e dar o push do Docker Hub \u2022 Para mais detalhes <code>docker --help</code></p>"},{"location":"roteiros/5.K8s/#kubernetes-aka-k8s-iremos-implatantar-um-conjunto-de-ferramentas-e-softwares-que-juntos-forma-o-kubernertes","title":"Kubernetes aka k8s - iremos implatantar um conjunto de ferramentas e softwares que juntos forma o Kubernertes.","text":"<ul> <li>Para facilitar o deploy do Kubernetes vamos utilizar uma \"velha conhecida\". </li> </ul>"},{"location":"roteiros/5.K8s/#deja-vu-juju-reborn","title":"Deja-vu (Juju Reborn)","text":"<p>O Dashboard do Openstack possui alguns termos (region, instance type, security group, etc) que s\u00e3o semelhantes ao da AWS. Como visto anteriormente, Juju consegue operar sobre Public Cloud, Private Cloud, Bare-metal e Container. Para o setup ficar completo, agora vamos utilizar o Juju sobre o Openstack.</p> Dicas <p>Documentacao - adicionar Openstack como cloud     Using auth-type \u201cuserpass\u201d. \\n     Enter username: admin \\n     Enter password: &lt; ADMIN PASSWORD &gt; \\n     Enter tenant-name (optional): kube-test \\n     Enter tenant-id (optional): &lt; PROJECT ID &gt; \\n     Enter version (optional): 3 \\n     Enter domain-name (optional): DEIXAR-VAZIO \\n     Enter project-domain-name (optional): admin_domain \\n     Enter user-domain-name (optional): admin_domain \\n Documentacao - adicionar integrador obrigat\u00f3rio Bundle modificado do Kubernetes-core </p> <ul> <li>Acesse a inst\u00e2ncia m1.small criada no in\u00edcio do roteiro.</li> <li>Fazer a instala\u00e7\u00e3o do Juju.</li> <li>Adicione o Openstack como Cloud Provider no Juju.</li> <li>Fazer o deploy do Kubernetes-core</li> </ul> Info <ul> <li> <p>Instalar kubectl no cliente via snap. <code>sudo snap install kubectl --classic</code></p> </li> <li> <p>Verificar a configura\u00e7\u00e3o do Kubernetes via kubectl <code>kubectl cluster-info</code></p> </li> <li> <p>Caso tenha problemas ver: documentacao-kubernetes</p> </li> <li>Configurar o kubectl proxy para utiliza\u00e7\u00e3o externa na porta 8080.</li> <li>Acessar o Dashboard.</li> </ul>"},{"location":"roteiros/5.K8s/#fazendo-um-deploy","title":"Fazendo um Deploy","text":"<ul> <li>Fazer o deploy da imagem docker criada na sess\u00e3o anterior</li> </ul> <p><code>kubectl run hello-node --image=[user]/hello-node:v1 --port=8080</code></p> <ul> <li>Verificar no terminal: <code>kubectl get all</code></li> <li>Verificar o deploy status no Dashboard</li> <li>Expandir o deploy para 5 r\u00e9plicas do pod</li> </ul> <p>Exercise</p> <p>CheckPoint-3 Dashboard Kubernetes</p> <ol> <li>De um print das Telas abaixo:</li> <li>Do dashboard Kubernetes com as 5 replicas</li> </ol>"},{"location":"roteiros/5.K8s/#acessando-o-deploy-entregando-a-aplicacao-para-seu-cliente","title":"Acessando o Deploy - entregando a aplica\u00e7\u00e3o para seu cliente","text":"<p>Criar um servi\u00e7o que ir\u00e1 expor o deploy</p>"},{"location":"roteiros/5.K8s/#alternativa-i-clusterip-com-ingress","title":"Alternativa I - ClusterIP com Ingress","text":"<p><code>kubectl expose deployment hello-node --type=ClusterIP</code></p> <ul> <li>Criar o arquivo ingress.yaml</li> </ul> <p><pre><code>apiVersion: extensions/v1beta1\nkind: Ingress\nmetadata:\n  name: hello-node-ingress\nspec:\n  rules:\n  - host: hello-node.[ip do kubernetes-worker].xip.io\n    http:\n      paths:\n      - path: /\n        backend:\n          serviceName: hello-node\n          servicePort: 8080\n</code></pre> * Aplicar arquivo ingress ao K8s</p> <p><code>kubectl create -f ingress.yaml</code></p> <p>Exercise</p> <p>CheckPoint-4 Expose Service</p> <ol> <li>De um print das Telas abaixo:</li> <li>Do comando  -&gt;  kubectl get all</li> </ol>"},{"location":"roteiros/5.K8s/#alternativa-ii-nodeport","title":"Alternativa II - NodePort","text":"<p><code>kubectl expose deployment hello-node --type=NodePort</code></p> <ul> <li>Verificar qual porta foi designada e liberar o security group do worker</li> </ul> <p><code>juju run --unit kubernetes-worker/[# worker] \"open-port [porta]\"</code></p> <p>Exercise</p> <p>CheckPoint-4 Acessar o deploy</p> <ol> <li>De um print das Telas abaixo:</li> <li>Do comando  -&gt;  kubectl get all</li> <li>WebServer Rodando no navegador utilizando a porta aberta.</li> </ol>"},{"location":"roteiros/5.K8s/#alterando-o-deploy","title":"Alterando o deploy","text":"<ul> <li>Alterar o arquivo server.js</li> <li>Montar uma nova imagem com tag v2 e fa\u00e7a um push</li> <li>Fazer um deploy de um pod de testes</li> <li>Testar as altera\u00e7\u00f5es</li> <li>Fazer a implanta\u00e7\u00e3o imediata em produ\u00e7\u00e3o:</li> </ul> <p><code>kubectl set image deployment/hello-node hello-node=[user]/hello-node:v2</code></p> <p>Exercise</p> <p>CheckPoint-5 Modificacao</p> <ol> <li>De um print das Telas abaixo:</li> <li>Do comando  -&gt;  kubectl get all</li> <li>WebServer modificado Rodando no navegador utilizando a porta aberta.</li> </ol>"},{"location":"roteiros/5.K8s/#dinamica-final-utilizando-o-load-balancer-octavia-para-o-servico-em-kubernetes","title":"Din\u00e2mica Final: Utilizando o Load Balancer Octavia para o Servi\u00e7o em Kubernetes","text":""},{"location":"roteiros/5.K8s/#objetivo","title":"Objetivo","text":"<p>Distribuir o tr\u00e1fego de entrada entre as r\u00e9plicas do servi\u00e7o hello-node em Kubernetes, utilizando o load balancer Octavia para assegurar que o tr\u00e1fego seja balanceado e que o servi\u00e7o esteja dispon\u00edvel mesmo que alguma r\u00e9plica falhe.</p>"},{"location":"roteiros/5.K8s/#pre-requisitos","title":"Pr\u00e9-requisitos","text":"<ul> <li>Cluster Kubernetes em execu\u00e7\u00e3o, com o servi\u00e7o <code>hello-node</code> rodando com 5 r\u00e9plicas.</li> <li>Configura\u00e7\u00e3o e valida\u00e7\u00e3o do Octavia como load balancer no OpenStack, com certificados SSL ativos.</li> <li>Acesso \u00e0 inst\u00e2ncia com Kubernetes para rodar os comandos.</li> </ul>"},{"location":"roteiros/5.K8s/#passos","title":"Passos","text":"<ol> <li>Configura\u00e7\u00e3o do Servi\u00e7o para o Load Balancer</li> <li> <p>Altere o tipo de exposi\u00e7\u00e3o do servi\u00e7o <code>hello-node</code> no Kubernetes para LoadBalancer. Esse tipo permite que o Kubernetes provisione automaticamente um balanceador de carga com Octavia, redirecionando o tr\u00e1fego para as r\u00e9plicas do servi\u00e7o.</p> </li> <li> <p>No arquivo de configura\u00e7\u00e3o do servi\u00e7o, modifique a se\u00e7\u00e3o <code>type</code> para:      <pre><code>apiVersion: v1\nkind: Service\nmetadata:\n  name: hello-node\n  labels:\n    app: hello-node\nspec:\n  type: LoadBalancer\n  ports:\n  - port: 8080\n    targetPort: 8080\n  selector:\n    app: hello-node\n</code></pre></p> </li> <li> <p>Aplica\u00e7\u00e3o do Servi\u00e7o</p> </li> <li> <p>Aplique a configura\u00e7\u00e3o atualizada com o comando:      <pre><code>kubectl apply -f hello-node-service.yaml\n</code></pre></p> </li> <li> <p>Valida\u00e7\u00e3o do Load Balancer</p> </li> <li>Verifique se o load balancer foi criado e se est\u00e1 direcionando o tr\u00e1fego para as r\u00e9plicas do servi\u00e7o. Isso pode ser feito com o comando:      <pre><code>kubectl get svc hello-node\n</code></pre></li> <li> <p>Este comando mostrar\u00e1 o endere\u00e7o IP externo atribu\u00eddo pelo load balancer ao servi\u00e7o <code>hello-node</code>. Anote esse IP, pois ele ser\u00e1 utilizado para acessar o servi\u00e7o.</p> </li> <li> <p>Teste do Balanceamento de Carga</p> </li> <li>No navegador ou com <code>curl</code>, acesse o IP externo do load balancer para validar o balanceamento:      <pre><code>curl http://[external-ip]:8080\n</code></pre></li> <li>Execute esse comando v\u00e1rias vezes ou atualize o navegador para observar como o load balancer distribui as requisi\u00e7\u00f5es entre as r\u00e9plicas. Voc\u00ea deve notar que as respostas v\u00eam de diferentes r\u00e9plicas do <code>hello-node</code>, indicando que o balanceamento est\u00e1 funcionando.</li> </ol> <p>Exercise</p> <p>CheckPoint-6 Docker</p> <ul> <li> <p>Objetivo: Garantir que o servi\u00e7o esteja acess\u00edvel via load balancer e que o   tr\u00e1fego seja distribu\u00eddo uniformemente entre as r\u00e9plicas. Tarefas:</p> </li> <li> <p>D\u00ea um print da aba do navegador mostrando o servi\u00e7o rodando pelo IP externo do load balancer.</p> </li> <li> <p>Verifique o balanceamento de carga acessando o IP externo m\u00faltiplas vezes e observe as respostas dos diferentes hosts.</p> </li> <li> <p>Confirme que o servi\u00e7o \u00e9 resiliente: force a remo\u00e7\u00e3o de uma r\u00e9plica (<code>kubectl delete pod [pod-name]</code>) e observe o load balancer direcionar o tr\u00e1fego \u00e0s r\u00e9plicas restantes, tire prints desta etapa.</p> </li> </ul>"},{"location":"roteiros/5.K8s/#reflexao","title":"Reflex\u00e3o","text":"<p>Essa din\u00e2mica mostra como o load balancer Octavia integra-se ao Kubernetes para distribuir o tr\u00e1fego automaticamente, suportando o servi\u00e7o <code>hello-node</code> e garantindo alta disponibilidade. Ap\u00f3s concluir essa etapa, voc\u00ea ter\u00e1 implantado um servi\u00e7o com balanceamento de carga, aplicando as boas pr\u00e1ticas de exposi\u00e7\u00e3o e resili\u00eancia de sistemas distribu\u00eddos.</p>"},{"location":"roteiros/5.K8s/#conclusao-somente-para-pensar","title":"Conclus\u00e3o: SOMENTE PARA PENSAR","text":"<p>Voc\u00ea desempenhou uma implanta\u00e7\u00e3o em tempo real usando Kubernetes e DockerHub. Como seria uma arquitetura de Continuous Integration/Continuous Delivery (CI/CD) real utilizando Kubernetes?</p>"},{"location":"roteiros/5.app/","title":"Containers e K8s","text":"<p>Aviso</p>"},{"location":"roteiros/5.app/#aviso-importante","title":"AVISO IMPORTANTE !!!","text":"<p>Parab\u00e9ns !!! Voc\u00ea chegou a um roteiro avancado, este Roteiro envolve a resolu\u00e7\u00e3o de problemas de aplica\u00e7\u00e3o, esperamos que voc\u00ea esteja preparado, este roteiro \u00e9 prototipado por voc\u00ea!!!!   </p>"},{"location":"roteiros/5.app/#webserver","title":"WebServer","text":"<ul> <li>Criar uma inst\u00e2ncia m1.small com IP p\u00fablico no Openstack, nomea-la como juju-openstack-web-server</li> <li>Adicionar um Security Group novo a esta instancia (n\u00e3o utilizar o default)</li> <li>Acessar a instancia criada</li> <li>Vamos criar um WebServer em NodeJS</li> <li>Criar o arquivo ~/hello-node/server.js</li> </ul> <pre><code>#!/usr/bin/env nodejs\n\nvar http = require('http');\nvar os = require('os');\n\nvar handleRequest = function(request, response) {\n    console.log('Received request for URL: ' + request.url);\n    response.writeHead(200);\n    response.end('{ \"host\": ' + os.hostname() + ', \"message\": \"Hello World!\"}');\n};\n\nvar www = http.createServer(handleRequest);\nwww.listen(8082);\nconsole.log('Server running at http://localhost:8082/');\n</code></pre> <ul> <li>Testar o WebServer rodando localmente no terminal.</li> </ul> <pre><code>sudo apt install nodejs\nnode server.js\n</code></pre> <p>Tarefa</p> <p>WebServer</p> <ol> <li>De um print das Telas abaixo:</li> <li>Da aba network topology no OpenStack.</li> <li>Das regras do Security Group utilizado.</li> <li>Da Aba do navegador com o WebServer Rodando.</li> </ol>"},{"location":"roteiros/5.app/#containerizando-este-webserver","title":"Containerizando este WEBSERVER","text":""},{"location":"roteiros/5.app/#instalar-o-docker-na-instancia-juju-openstack-web-server","title":"Instalar o Docker na instancia juju-openstack-web-server","text":"<p>Arquitetura Docker </p> <p></p> <pre><code>sudo apt-get update\nsudo apt install build-essential apt-transport-https curl\ncurl -fsSL https://get.docker.com | sh -\nsudo usermod -aG docker $USER\nnewgrp docker\ndocker version\ndocker run hello-world\n</code></pre> <ul> <li>Criar uma um arquivo ~/hello-node/Dockerfile que dar\u00e1 origem ao container</li> </ul> <pre><code>FROM node:6.9.2\nEXPOSE 8080\nCOPY server.js .\nCMD node server.js\n</code></pre> <ul> <li>Montar a imagem local (Cria um container com esta aplicacao webserver)</li> </ul> <p><code>docker build -t hello-node:v1 ./hello-node/</code></p> <ul> <li>Rodar o container com a imagem criada.</li> </ul> <p><code>docker container run hello-node:v1</code></p> <p>Tarefa</p> <p>Docker</p> <ol> <li>De um print das Telas abaixo:</li> <li>WebServer Rodando no navegador.</li> <li>Sa\u00edda do comando (docker images ls)</li> <li>Sa\u00edda do comando (docker container ls)</li> </ol>"},{"location":"roteiros/5.app/#docker-hub","title":"Docker Hub","text":"<p>Aviso</p> <p>Caso n\u00e3o tenha ainda, criar individualmente um login (usu\u00e1rio) na https://hub.docker.com/</p> <p>\u2022 Fazer o login no Docker \u2022 Aplicar a tag na imagem e dar o push do Docker Hub \u2022 Para mais detalhes <code>docker --help</code></p>"},{"location":"roteiros/5.app/#fazendo-um-deploy","title":"Fazendo um Deploy","text":"<ul> <li>Fazer o deploy da imagem docker criada na sess\u00e3o anterior</li> </ul> <p><code>kubectl run hello-node --image=[user]/hello-node:v1 --port=8080</code></p> <ul> <li>Verificar no terminal: <code>kubectl get all</code></li> <li>Verificar o deploy status no Dashboard</li> <li>Expandir o deploy para 5 r\u00e9plicas do pod</li> </ul> <p>Tarefa</p> <p>Dashboard Kubernetes</p> <ol> <li>De um print das Telas abaixo:</li> <li>Do dashboard Kubernetes com as 5 replicas</li> </ol>"},{"location":"roteiros/5.app/#acessando-o-deploy-entregando-a-aplicacao-para-seu-cliente","title":"Acessando o Deploy - entregando a aplica\u00e7\u00e3o para seu cliente","text":"<p>Criar um servi\u00e7o que ir\u00e1 expor o deploy</p>"},{"location":"roteiros/5.app/#modo-1-clusterip-com-ingress","title":"Modo 1 - ClusterIP com Ingress","text":"<p><code>kubectl expose deployment hello-node --type=ClusterIP</code></p> <ul> <li>Criar o arquivo ingress.yaml</li> </ul> <p><pre><code>apiVersion: extensions/v1beta1\nkind: Ingress\nmetadata:\n  name: hello-node-ingress\nspec:\n  rules:\n  - host: hello-node.[ip do kubernetes-worker].xip.io\n    http:\n      paths:\n      - path: /\n        backend:\n          serviceName: hello-node\n          servicePort: 8080\n</code></pre> * Aplicar arquivo ingress ao K8s</p> <p><code>kubectl create -f ingress.yaml</code></p> <p>Tarefa</p> <p>Expor e Acessar o deploy utilizando Cluster-IP</p> <ol> <li>De um print das Telas abaixo:</li> <li>Do comando  -&gt;  kubectl get all</li> </ol>"},{"location":"roteiros/5.app/#modo-2-nodeport","title":"Modo 2 - NodePort","text":"<p><code>kubectl expose deployment hello-node --type=NodePort</code></p> <ul> <li>Verificar qual porta foi designada e liberar o security group do worker</li> </ul> <p><code>juju run --unit kubernetes-worker/[# worker] \"open-port [porta]\"</code></p> <p>Tarefa</p> <p>Expor e Acessar o deploy utilizando NodePort</p> <ol> <li>De um print das Telas abaixo:</li> <li>Do comando  -&gt;  kubectl get all</li> <li>WebServer Rodando no navegador utilizando a porta aberta.</li> </ol>"},{"location":"roteiros/5.app/#alterando-o-deploy","title":"Alterando o deploy","text":"<ul> <li>Alterar o arquivo server.js</li> <li>Montar uma nova imagem com tag v2 e fa\u00e7a um push</li> <li>Fazer um deploy de um pod de testes</li> <li>Testar as altera\u00e7\u00f5es</li> <li>Fazer a implanta\u00e7\u00e3o imediata em produ\u00e7\u00e3o:</li> </ul> <p><code>kubectl set image deployment/hello-node hello-node=[user]/hello-node:v2</code></p> <p>Tarefa</p> <p>Modifica\u00e7\u00e3o da imagem rodando em produ\u00e7\u00e3o</p> <ol> <li>De um print das Telas abaixo:</li> <li>Do comando  -&gt;  kubectl get all</li> <li>WebServer modificado Rodando no navegador utilizando a porta aberta.</li> </ol>"},{"location":"roteiros/5.infra/","title":"Containers e K8s","text":"<p>Aviso</p>"},{"location":"roteiros/5.infra/#aviso-importante","title":"AVISO IMPORTANTE !!!","text":"<p>Parab\u00e9ns !!! Voc\u00ea chegou a um roteiro avancado, este Roteiro envolve a resolu\u00e7\u00e3o de problemas de implanta\u00e7\u00e3o, esperamos que voc\u00ea esteja preparado, este roteiro \u00e9 prototipado por voc\u00ea!!!!   </p>"},{"location":"roteiros/5.infra/#kubernetes-aka-k8s","title":"Kubernetes aka k8s","text":""},{"location":"roteiros/5.infra/#voce-deve-implatantar-um-conjunto-de-ferramentas-e-softwares-que-juntos-forma-o-kubernertes","title":"Voc\u00ea deve implatantar um conjunto de ferramentas e softwares que juntos forma o Kubernertes.","text":"<ul> <li>Para facilitar o deploy do Kubernetes vamos utilizar uma \"velha conhecida\". </li> </ul>"},{"location":"roteiros/5.infra/#deja-vu-juju-reborn","title":"Deja-vu (Juju Reborn)","text":"<p>O Dashboard do Openstack possui alguns termos (region, instance type, security group, etc) que s\u00e3o semelhantes ao da AWS. Como visto anteriormente, Juju consegue operar sobre Public Cloud, Private Cloud, Bare-metal e Container. Para o setup ficar completo, agora vamos utilizar o Juju sobre o Openstack.</p> Dicas <p>Documentacao - adicionar Openstack como cloud</p> <pre><code>Using auth-type \u201cuserpass\u201d.\n\nEnter username: admin\n\nEnter password: &lt; ADMIN PASSWORD &gt;\n\nEnter tenant-name (optional): &lt; TENANT NAME&gt;\n\nEnter tenant-id (optional): &lt; PROJECT ID &gt;\n\nEnter version (optional): 3\n\nEnter domain-name (optional): DEIXAR-VAZIO\n\nEnter project-domain-name (optional): admin_domain\n\nEnter user-domain-name (optional): admin_domain\n</code></pre> <p>Documentacao - adicionar integrador obrigat\u00f3rio</p> <p>Bundle modificado do Kubernetes-core </p>"},{"location":"roteiros/5.infra/#para-ajudar-a-implantar-o-kubernetes-segue-alguns-passos-para-te-ajudar-nao-possui-todos-os-passos","title":"Para ajudar a implantar o Kubernetes segue, alguns passos para te ajudar (n\u00e3o possui todos os passos):","text":"<ul> <li>Crie e acesse uma inst\u00e2ncia m1.small no seu Openstack (pode utilizar o domain e credenciais ADMIN).</li> <li>Fazer a instala\u00e7\u00e3o do Juju nesta inst\u00e2ncia.</li> <li>Adicione o Openstack como Cloud Provider no Juju.</li> <li>Fazer o deploy do Kubernetes-core</li> <li>Instalar kubectl no cliente via snap. <code>sudo snap install kubectl --classic</code></li> <li>Verificar a configura\u00e7\u00e3o do Kubernetes via kubectl <code>kubectl cluster-info</code></li> <li>Caso tenha problemas ver: documentacao-kubernetes</li> <li>Configurar o kubectl proxy para utiliza\u00e7\u00e3o externa na porta 8080.</li> <li>Acessar o Dashboard.</li> </ul>"},{"location":"roteiros/5.objetivo/","title":"Containers e K8s","text":"<p>Objetivos</p> <ol> <li>Entender os conceitos b\u00e1sicos sobre Cont\u00eaineres e seus Orquestradores.</li> <li>Integrar o Openstack e o Kubernetes</li> </ol> <p>Pr\u00e9-requisitos:</p> <ol> <li>Terminar o cap\u00edtulo anterior (SLA,DR e IaC)</li> <li>Realizar a leitura sobre o Docker.</li> <li>Realizar a leitura sobre o Kubernetes.</li> </ol> Info <p>**DIVIS\u00c3O DO ROTEIRO:**o Roteiro \u00e9 dividido em 3 partes principais.</p> <ul> <li>Entendendo tipos de implantacoes - Vis\u00e3o Geral</li> <li>Adicionando Kubernetes na Nuvem privada(Openstack)</li> <li>Utilizando Docker e Kubernetes</li> </ul> <p>Aviso</p>"},{"location":"roteiros/5.objetivo/#aviso-importante","title":"AVISO IMPORTANTE !!!","text":"<p>Parab\u00e9ns !!! Voc\u00ea chegou a um roteiro avancado, este Roteiro envolve a resolu\u00e7\u00e3o de problemas de implanta\u00e7\u00e3o, esperamos que voc\u00ea esteja preparado, este roteiro \u00e9 prototipado por voc\u00ea!!!!       </p>"},{"location":"roteiros/5.objetivo/#target","title":"TARGET","text":""},{"location":"roteiros/5.objetivo/#onde-chegaremos-ao-final-deste-roteiro-inicio-roteiro-1-ate-roteiro-5","title":"Onde chegaremos ao final deste roteiro (inicio roteiro 1 at\u00e9 roteiro 5)","text":""},{"location":"roteiros/5.objetivo/#tipo-de-implantacoes","title":"Tipo de implantacoes","text":""},{"location":"roteiros/5.objetivo/#tradicional","title":"Tradicional","text":"<p>Inicialmente, as organiza\u00e7\u00f5es executavam aplicativos em servidores f\u00edsicos. Os limites de recursos n\u00e3o podem ser definidos para aplicativos em servidores f\u00edsicos, o que causa problemas de aloca\u00e7\u00e3o de recursos. Por exemplo, se v\u00e1rios aplicativos estiverem sendo executados em um servidor f\u00edsico, pode haver uma situa\u00e7\u00e3o em que um aplicativo consuma mais recursos, resultando em um desempenho insatisfat\u00f3rio de outros aplicativos. A solu\u00e7\u00e3o para isso \u00e9 executar cada aplicativo em um servidor f\u00edsico diferente. Mas isso n\u00e3o aumentou porque os recursos s\u00e3o subutilizados e \u00e9 caro para as organiza\u00e7\u00f5es manter muitos servidores f\u00edsicos.</p>"},{"location":"roteiros/5.objetivo/#virtualizada","title":"Virtualizada","text":"<p>Como solu\u00e7\u00e3o, a virtualiza\u00e7\u00e3o foi introduzida. Ele permite que voc\u00ea execute v\u00e1rias m\u00e1quinas virtuais (VMs) na CPU de um \u00fanico servidor f\u00edsico. A virtualiza\u00e7\u00e3o permite que os aplicativos sejam isolados entre VMs e fornece um n\u00edvel de seguran\u00e7a que as informa\u00e7\u00f5es de um aplicativo n\u00e3o podem ser acessadas livremente por outro aplicativo. A virtualiza\u00e7\u00e3o permite uma melhor utiliza\u00e7\u00e3o dos recursos em servidores f\u00edsicos e uma melhor escalabilidade, pois os aplicativos podem ser facilmente adicionados ou atualizados, os custos de hardware s\u00e3o reduzidos e muito mais. Com a virtualiza\u00e7\u00e3o, voc\u00ea pode apresentar um conjunto de recursos f\u00edsicos como um cluster de m\u00e1quinas virtuais descart\u00e1veis. Cada VM \u00e9 uma m\u00e1quina completa, executando todos os componentes, incluindo seu pr\u00f3prio sistema operacional, sobre hardware virtualizado.</p>"},{"location":"roteiros/5.objetivo/#conteinerizada","title":"Conteinerizada","text":"<p>Os cont\u00eaineres s\u00e3o pacotes leves do c\u00f3digo do seu aplicativo, juntamente com depend\u00eancias, como vers\u00f5es espec\u00edficas de tempos de execu\u00e7\u00e3o de linguagem de programa\u00e7\u00e3o e bibliotecas necess\u00e1rias para executar seus servi\u00e7os de software. Os cont\u00eaineres facilitam o compartilhamento de recursos de CPU, mem\u00f3ria, armazenamento e rede no n\u00edvel dos sistemas operacionais e oferecem um mecanismo de empacotamento l\u00f3gico no qual os aplicativos podem ser abstra\u00eddos do ambiente em que realmente s\u00e3o executados.</p> <p>Os cont\u00eaineres virtualizam no n\u00edvel do sistema operacional enquanto as VMs virtualizam no n\u00edvel do hardware</p> <p></p>"},{"location":"roteiros/README-openstackBase/","title":"Documenta\u00e7\u00e3o Retirada do site oficial para consulta","text":"<p>This <code>openstack-base</code> bundle deploys a base OpenStack cloud. Its major elements include:</p> <ul> <li>Ubuntu 20.04 LTS (Focal)</li> <li>OpenStack Yoga</li> <li>Ceph Quincy</li> </ul> <p>Cloud services consist of Compute, Network, Block Storage, Object Storage, Identity, Image, and Dashboard.</p> <p>Note: Modifications will typically need to be made to this bundle for it   to work in your environment.</p>"},{"location":"roteiros/README-openstackBase/#requirements","title":"Requirements","text":"<p>The bundle is primarily designed to work with MAAS as a backing cloud for Juju.</p> <p>The MAAS cluster must have a minimum of four nodes:</p> <ul> <li> <p>one for the Juju controller, with at least 1 CPU and 4 GiB memory</p> </li> <li> <p>three (ideally identical) for the actual cloud, with minimum resources   being:</p> <ul> <li>8 GiB memory</li> <li>enough CPU cores to support your workload</li> <li>two disks</li> <li>two cabled network interfaces</li> </ul> </li> </ul> <p>The first disk is used for the node's operating system, and the second is for   Ceph storage.</p> <p>The first network interface is used for communication between cloud services   (East/West traffic), and the second is for network traffic between the cloud   and all external networks (North/South traffic).</p> <p>Pro tip: A single network interface will suffice if an Open vSwitch   bridge is used on each of the nodes (MAAS v.2.9.2 required).</p> <p>Note: The smaller controller node can be targeted via Juju   constraints at controller-creation time.</p>"},{"location":"roteiros/README-openstackBase/#topology","title":"Topology","text":"<ul> <li> <p>3 MAAS nodes, with each hosting one of the following:</p> <ul> <li>Ceph storage</li> <li>Nova Compute</li> <li>NTP</li> </ul> </li> <li> <p>LXD containers for the following (distributed among the 3 MAAS nodes):</p> <ul> <li>Ceph monitors (x3)</li> <li>Ceph RADOS Gateway</li> <li>Cinder</li> <li>Glance</li> <li>Horizon</li> <li>Keystone</li> <li>MySQL8 (x3)</li> <li>Neutron</li> <li>Nova Cloud Controller</li> <li>OVN (x3)</li> <li>Placement</li> <li>RabbitMQ</li> <li>Vault</li> </ul> </li> </ul>"},{"location":"roteiros/README-openstackBase/#download-the-bundle","title":"Download the bundle","text":"<p>If not already done, clone the openstack-bundles repository:</p> <pre><code>git clone https://github.com/openstack-charmers/openstack-bundles\n</code></pre> <p>The stable and development bundles are found under the <code>stable/openstack-base</code> and <code>development</code> directories respectively.</p> <p>Overlay bundles are available under <code>stable/overlays</code>. See the Juju documentation on overlay bundles.</p>"},{"location":"roteiros/README-openstackBase/#modify-the-bundle","title":"Modify the bundle","text":"<p>If using the stable openstack-base bundle, the file to modify is <code>stable/openstack-base/bundle.yaml</code>.</p> <p>Tip: Keep the master branch of the repository pristine and create a   working branch to contain your modifications.</p> <p>A <code>variables:</code> section is used for conveniently setting values in one place. The third column contains the actual values.</p> <pre><code>variables:\n  openstack-origin:    &amp;openstack-origin     cloud:focal-yoga\n  data-port:           &amp;data-port            br-ex:eno2\n  worker-multiplier:   &amp;worker-multiplier    0.25\n  osd-devices:         &amp;osd-devices          /dev/sdb /dev/vdb\n  expected-osd-count:  &amp;expected-osd-count   3\n  expected-mon-count:  &amp;expected-mon-count   3\n</code></pre> <p>See the Install OpenStack page in the OpenStack Charms Deployment Guide for help on understanding the variables (the first column).</p>"},{"location":"roteiros/README-openstackBase/#network-spaces","title":"Network spaces","text":"<p>If you're using MAAS and it contains network spaces you will need to bind them to the applications being deployed. One way of doing this is with the <code>openstack-base-spaces-overlay.yaml</code> overlay bundle. Like the main bundle file, it will likely require tailoring:</p> <pre><code>variables:\n  public-space:        &amp;public-space         public-space\n</code></pre> <p>See the Juju documentation on network spaces.</p>"},{"location":"roteiros/README-openstackBase/#containerless","title":"Containerless","text":"<p>If you do not want to run containers you will need to undo the placement directives that point to containers. One way of doing this is with the <code>openstack-base-virt-overlay.yaml</code> overlay bundle.</p>"},{"location":"roteiros/README-openstackBase/#maas-cloud-juju-controller-and-model","title":"MAAS cloud, Juju controller, and model","text":"<p>Ensure that the MAAS cluster has been added to Juju as a cloud and that a Juju controller has been created for that cloud. See the Juju documentation for guidance: Using MAAS with Juju.</p> <p>Assuming the controller is called 'maas-controller', create a model called, say, 'openstack' and give it the appropriate default series (e.g. focal):</p> <pre><code>juju add-model -c maas-controller --config default-series=focal openstack\n</code></pre> <p>Now ensure that the new model is the current model:</p> <pre><code>juju switch maas-controller:openstack\n</code></pre>"},{"location":"roteiros/README-openstackBase/#deploy-the-cloud","title":"Deploy the cloud","text":"<p>To install OpenStack, if you're using the spaces overlay:</p> <pre><code>juju deploy ./bundle.yaml --overlay ./openstack-base-spaces-overlay.yaml\n</code></pre> <p>Otherwise, simply do:</p> <pre><code>juju deploy ./bundle.yaml\n</code></pre> <p>If you're using a custom overlay (to override elements in earlier bundles) simply append it to the command:</p> <pre><code>juju deploy ./bundle.yaml --overlay ./custom-overlay.yaml\njuju deploy ./bundle.yaml --overlay ./openstack-base-spaces-overlay.yaml --overlay ./custom-overlay.yaml\n</code></pre> <p>Note: Here it is assumed, for the sake of brevity, that the YAML files   are in the current working directory.</p>"},{"location":"roteiros/README-openstackBase/#issue-tls-certificates","title":"Issue TLS certificates","text":"<p>This bundle uses Vault to issue TLS certificates to services, and some post-deployment steps are needed in order for it to work. Failure to complete them, for example, will leave the OVN deployment with the following message (in <code>juju status</code>):</p> <pre><code>'ovsdb-*' incomplete, 'certificates' awaiting server certificate data\n</code></pre> <p>See to the Vault charm README for instructions.</p>"},{"location":"roteiros/README-openstackBase/#install-the-openstack-clients","title":"Install the OpenStack clients","text":"<p>You'll need the OpenStack clients in order to manage your cloud from the command line. Install them now:</p> <pre><code>sudo snap install openstackclients\n</code></pre>"},{"location":"roteiros/README-openstackBase/#access-the-cloud","title":"Access the cloud","text":"<p>Confirm that you can access the cloud from the command line:</p> <pre><code>source ~/openstack-bundles/stable/openstack-base/openrc\nopenstack service list\n</code></pre> <p>You should get a listing of all registered cloud services.</p>"},{"location":"roteiros/README-openstackBase/#import-an-image","title":"Import an image","text":"<p>You'll need to import an image into Glance in order to create instances.</p> <p>First download a boot image, like Focal amd64:</p> <pre><code>curl http://cloud-images.ubuntu.com/focal/current/focal-server-cloudimg-amd64.img \\\n   --output ~/cloud-images/focal-amd64.img\n</code></pre> <p>Now import the image and call it 'focal-amd64':</p> <pre><code>openstack image create --public --container-format bare \\\n   --disk-format qcow2 --file ~/cloud-images/focal-amd64.img \\\n   focal-amd64\n</code></pre> <p>Images for other Ubuntu releases and architectures can be obtained in a similar way.</p> <p>For the ARM 64-bit (arm64) architecture you will need to configure the image to boot in UEFI mode:</p> <pre><code>curl http://cloud-images.ubuntu.com/focal/current/focal-server-cloudimg-amd64.img \\\n   --output ~/cloud-images/focal-arm64.img\n\nopenstack image create --public --container-format bare \\\n   --disk-format qcow2 --property hw_firmware_type=uefi \\\n   --file ~/cloud-images/focal-arm64.img \\\n   focal-arm64\n</code></pre>"},{"location":"roteiros/README-openstackBase/#configure-networking","title":"Configure networking","text":"<p>For the purposes of a quick test, we'll set up an external network and a shared router ('provider-router') that will be used by all tenants for public access to instances.</p> <p>For an example private cloud, create a network ('ext_net'):</p> <pre><code>openstack network create --external \\\n   --provider-network-type flat --provider-physical-network physnet1 \\\n   ext_net\n</code></pre> <p>When creating the external subnet ('ext_subnet') the actual values used will depend on the environment that the second network interface (on all nodes) is connected to:</p> <pre><code>openstack subnet create --network ext_net --no-dhcp \\\n   --gateway 10.0.0.1 --subnet-range 10.0.0.0/21 \\\n   --allocation-pool start=10.0.0.10,end=10.0.0.200 \\\n   ext_subnet\n</code></pre> <p>Note: For a public cloud the ports would be connected to a publicly   addressable part of the internet.</p> <p>We'll also need an internal network ('int_net'), subnet ('int_subnet'), and router ('provider-router'):</p> <pre><code>openstack network create int_net\n\nopenstack subnet create --network int_net --dns-nameserver 8.8.8.8 \\\n   --gateway 192.168.0.1 --subnet-range 192.168.0.0/24 \\\n   --allocation-pool start=192.168.0.10,end=192.168.0.200 \\\n   int_subnet\n\nopenstack router create provider-router\nopenstack router set --external-gateway ext_net provider-router\nopenstack router add subnet provider-router int_subnet\n</code></pre> <p>See the Neutron documentation for more information.</p>"},{"location":"roteiros/README-openstackBase/#create-a-flavor","title":"Create a flavor","text":"<p>Create at least one flavor to define a hardware profile for new instances. Here we create one called 'm1.small':</p> <pre><code>openstack flavor create --ram 2048 --disk 20 --ephemeral 20 m1.small\n</code></pre> <p>Make sure that your MAAS nodes can accommodate the flavor's resources.</p>"},{"location":"roteiros/README-openstackBase/#import-an-ssh-keypair","title":"Import an SSH keypair","text":"<p>An SSH keypair needs to be imported into the cloud in order to access your instances.</p> <p>Generate one first if you do not yet have one. This command creates a passphraseless keypair (remove the <code>-N</code> option to avoid that):</p> <pre><code>ssh-keygen -q -N '' -f ~/cloud-keys/id_mykey\n</code></pre> <p>To import a keypair:</p> <pre><code>openstack keypair create --public-key ~/cloud-keys/id_mykey.pub mykey\n</code></pre>"},{"location":"roteiros/README-openstackBase/#configure-security-groups","title":"Configure security groups","text":"<p>To allow ICMP (ping) and SSH traffic to flow to cloud instances create corresponding rules for each existing security group:</p> <pre><code>for i in $(openstack security group list | awk '/default/{ print $2 }'); do\n   openstack security group rule create $i --protocol icmp --remote-ip 0.0.0.0/0;\n   openstack security group rule create $i --protocol tcp --remote-ip 0.0.0.0/0 --dst-port 22;\ndone\n</code></pre> <p>You only need to perform this step once.</p>"},{"location":"roteiros/README-openstackBase/#create-an-instance","title":"Create an instance","text":"<p>Create a Focal amd64 instance called 'focal-1':</p> <pre><code>openstack server create --image focal-amd64 --flavor m1.small \\\n   --key-name mykey --network int_net \\\n    focal-1\n</code></pre>"},{"location":"roteiros/README-openstackBase/#assign-a-floating-ip-address","title":"Assign a floating IP address","text":"<p>Request and assign a floating IP address to the new instance:</p> <pre><code>FLOATING_IP=$(openstack floating ip create -f value -c floating_ip_address ext_net)\nopenstack server add floating ip focal-1 $FLOATING_IP\n</code></pre>"},{"location":"roteiros/README-openstackBase/#log-in-to-an-instance","title":"Log in to an instance","text":"<p>Log in to the new instance:</p> <pre><code>ssh -i ~/cloud-keys/id_mykey ubuntu@$FLOATING_IP\n</code></pre> <p>The below commands are a good start to troubleshooting if something goes wrong:</p> <pre><code>openstack console log show focal-1\nopenstack server show focal-1\n</code></pre>"},{"location":"roteiros/README-openstackBase/#access-the-cloud-dashboard","title":"Access the cloud dashboard","text":"<p>To access the dashboard (Horizon) first obtain its IP address:</p> <pre><code>juju status --format=yaml openstack-dashboard | grep public-address | awk '{print $2}' | head -1\n</code></pre> <p>In this example, the address is '10.0.0.30'.</p> <p>The password can be queried from Keystone:</p> <pre><code>juju run --unit keystone/leader leader-get admin_passwd\n</code></pre> <p>The dashboard URL then becomes:</p> <p>http://10.0.0.30/horizon</p> <p>The final credentials needed to log in are:</p> <p>User Name: <code>admin</code> Password: <code>***************</code> Domain: <code>admin_domain</code></p>"},{"location":"roteiros/README-openstackBase/#vm-consoles","title":"VM consoles","text":"<p>Enable a remote access protocol such as <code>novnc</code> (or <code>spice</code>) if you want to connect to VM consoles from within the dashboard:</p> <pre><code>juju config nova-cloud-controller console-access-protocol=novnc\n</code></pre>"},{"location":"roteiros/README-openstackBase/#further-reading","title":"Further reading","text":"<p>The below resources are recommended for further reading:</p> <ul> <li>[What is OpenStack?]: for an overview of the OpenStack project</li> <li>OpenStack Administrator Guides: for upstream   OpenStack administrative help</li> <li>OpenStack Charms Deployment Guide: for charm usage information</li> </ul>"},{"location":"tutoriais/","title":"Tutoriais","text":""},{"location":"tutoriais/#como-acessar-e-utilizar-o-conteudo-da-aws-academy","title":"Como acessar e utilizar o conte\u00fado da AWS Academy","text":"<p>Como parte do conte\u00fado complementar da disciplina de Computa\u00e7\u00e3o em Nuvem, os alunos ter\u00e3o acesso ao AWS Academy, uma plataforma oficial da Amazon que oferece treinamentos e laborat\u00f3rios pr\u00e1ticos sobre os servi\u00e7os AWS.</p>"},{"location":"tutoriais/#acesso-ao-aws-academy","title":"Acesso ao AWS Academy","text":"<p>Para acessar, siga os passos:</p> <ol> <li>Acesse o LMS da disciplina Canvas, voc\u00ea ir\u00e1 receber um e-mail com as credenciais.</li> <li>Dentro do ambiente virtual, localize o link de acesso ao AWS Academy: Cloud Foundations.</li> <li>Ap\u00f3s clicar, voc\u00ea ser\u00e1 redirecionado para a plataforma da AWS Academy, onde o conte\u00fado estar\u00e1 liberado para estudo.</li> <li>Navegue pelos m\u00f3dulos para se ambientar com os Labs que utilizaremos.</li> </ol>"},{"location":"tutoriais/#importancia-deste-conteudo","title":"Import\u00e2ncia deste conte\u00fado","text":"<p>Aten\u00e7\u00e3o: O material dispon\u00edvel no AWS Academy n\u00e3o substitui o conte\u00fado principal da disciplina, mas serve como complemento pr\u00e1tico. Os conceitos te\u00f3ricos e avalia\u00e7\u00f5es principais continuam sendo conduzidos dentro do nosso ambiente de ensino.</p> <p>O nosso foco ser\u00e1 utilizar os laborat\u00f3rios da AWS como base para os \"Tutoriais AWS\" que fazem parte das atividades obrigat\u00f3rias da disciplina.</p>"},{"location":"tutoriais/#estrutura-dos-tutoriais","title":"Estrutura dos Tutoriais","text":"<p>Os tutoriais avaliativos da disciplina foram organizados em 4 blocos principais (Tutorial 1 at\u00e9 Tutorial 4). Cada bloco \u00e9 composto por duas atividades/laborat\u00f3rios da AWS Academy, seguindo exatamente a sequ\u00eancia em que aparecem na plataforma.</p>"},{"location":"tutoriais/#tabela-de-correspondencia","title":"Tabela de Correspond\u00eancia","text":"Tutorial da Disciplina Atividades da AWS Academy (Labs) Tutorial 1 Laborat\u00f3rio 1 - Introdu\u00e7\u00e3o ao IAMLaborat\u00f3rio 2 - Crie sua VPC e execute um servidor web Tutorial 2 Laborat\u00f3rio 3 - Introdu\u00e7\u00e3o ao Amazon EC2Atividade: AWS Lambda Tutorial 3 Atividade: AWS Elastic BeanstalkLaborat\u00f3rio 4 - Trabalhando com EBS Tutorial 4 Laborat\u00f3rio 5 - Crie um servidor de banco de dados e interaja com o banco de dados usando um aplicativoLaborat\u00f3rio 6 - Ajuste a escala e o balanceamento de carga da arquitetura"},{"location":"tutoriais/#observacao-importante","title":"Observa\u00e7\u00e3o importante","text":"<p>Durante o acompanhamento da disciplina, cada tutorial ser\u00e1 marcado como \"APS\" na plataforma PrairieLearn, onde ser\u00e3o documentados o progresso de cada Tutorial.</p> <p>Voltar para In\u00edcio</p>"}]}