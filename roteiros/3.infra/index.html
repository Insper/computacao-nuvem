<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Roteiros de aula para acesso ao conteudo."><meta name=author content="Tiago Demay"><link href=https://github.com/Insper/computacao-nuvem/roteiros/3.infra/ rel=canonical><link href=../3.objetivo/ rel=prev><link href=../3.setup/ rel=next><link rel=icon href=../../assets/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.7.1"><title>Computação em Nuvem - Computação em Nuvem - 2026</title><link rel=stylesheet href=../../assets/stylesheets/main.484c7ddc.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.ab4e12ef.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../assets/stylesheets/extra.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config",""),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=teal data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#criando-a-infraestrutura-nuvem-vm-servidor-virtual-privado-vps class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="Computação em Nuvem - 2026" class="md-header__button md-logo" aria-label="Computação em Nuvem - 2026" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 89 89"> <path d=M3.136,17.387l0,42.932l42.932,21.467l-42.932,-64.399Z /> <path d=M21.91,8l42.933,64.398l-18.775,9.388l-42.932,-64.399l18.774,-9.387Z style="fill-opacity: 0.5"/> <path d=M67.535,17.387l-27.262,18.156l21.878,32.818l5.384,2.691l0,-53.665Z /> <path d=M67.535,17.387l0,53.666l18.774,-9.388l0,-53.665l-18.774,9.387Z style="fill-opacity: 0.25"/> </svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Computação em Nuvem - 2026 </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Computação em Nuvem </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=teal data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=teal data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M10 2c-1.82 0-3.53.5-5 1.35C8 5.08 10 8.3 10 12s-2 6.92-5 8.65C6.47 21.5 8.18 22 10 22a10 10 0 0 0 10-10A10 10 0 0 0 10 2"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/Insper/computacao-nuvem title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> insper.github.io/computacao-nuvem </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Home </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../1.objetivo/ class=md-tabs__link> Roteiros </a> </li> <li class=md-tabs__item> <a href=../../tutoriais/ class=md-tabs__link> Tutoriais </a> </li> <li class=md-tabs__item> <a href=../../plano_aula/ class=md-tabs__link> Plano de Aula </a> </li> <li class=md-tabs__item> <a href=../../projetos_2025-2/ class=md-tabs__link> Projeto </a> </li> <li class=md-tabs__item> <a href=../../projetos_2022/fran-janela/ class=md-tabs__link> Arquivo </a> </li> <li class=md-tabs__item> <a href=../../adicional/Videos_ref/ class=md-tabs__link> Conteudo adicional </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="Computação em Nuvem - 2026" class="md-nav__button md-logo" aria-label="Computação em Nuvem - 2026" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 89 89"> <path d=M3.136,17.387l0,42.932l42.932,21.467l-42.932,-64.399Z /> <path d=M21.91,8l42.933,64.398l-18.775,9.388l-42.932,-64.399l18.774,-9.387Z style="fill-opacity: 0.5"/> <path d=M67.535,17.387l-27.262,18.156l21.878,32.818l5.384,2.691l0,-53.665Z /> <path d=M67.535,17.387l0,53.666l18.774,-9.388l0,-53.665l-18.774,9.387Z style="fill-opacity: 0.25"/> </svg> </a> Computação em Nuvem - 2026 </label> <div class=md-nav__source> <a href=https://github.com/Insper/computacao-nuvem title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> insper.github.io/computacao-nuvem </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2 checked> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex> <span class=md-ellipsis> Roteiros </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=true> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Roteiros </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_1> <label class=md-nav__link for=__nav_2_1 id=__nav_2_1_label tabindex> <span class=md-ellipsis> Roteiro 1 MAAS </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_1_label aria-expanded=false> <label class=md-nav__title for=__nav_2_1> <span class="md-nav__icon md-icon"></span> Roteiro 1 MAAS </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../1.objetivo/ class=md-nav__link> <span class=md-ellipsis> Objetivo </span> </a> </li> <li class=md-nav__item> <a href=../1.cabeamento/ class=md-nav__link> <span class=md-ellipsis> Cabeamento </span> </a> </li> <li class=md-nav__item> <a href=../1.infra/ class=md-nav__link> <span class=md-ellipsis> Infra </span> </a> </li> <li class=md-nav__item> <a href=../1.app/ class=md-nav__link> <span class=md-ellipsis> App </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2> <label class=md-nav__link for=__nav_2_2 id=__nav_2_2_label tabindex> <span class=md-ellipsis> Roteiro 2 JUJU </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2> <span class="md-nav__icon md-icon"></span> Roteiro 2 JUJU </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../2.objetivo/ class=md-nav__link> <span class=md-ellipsis> Objetivo </span> </a> </li> <li class=md-nav__item> <a href=../2.infra/ class=md-nav__link> <span class=md-ellipsis> Infra </span> </a> </li> <li class=md-nav__item> <a href=../2.app/ class=md-nav__link> <span class=md-ellipsis> App </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3 checked> <label class=md-nav__link for=__nav_2_3 id=__nav_2_3_label tabindex> <span class=md-ellipsis> Roteiro 3 OpenStack </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_3_label aria-expanded=true> <label class=md-nav__title for=__nav_2_3> <span class="md-nav__icon md-icon"></span> Roteiro 3 OpenStack </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../3.objetivo/ class=md-nav__link> <span class=md-ellipsis> Objetivo </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Infra </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Infra </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#criando-a-infraestrutura-nuvem-vm-servidor-virtual-privado-vps class=md-nav__link> <span class=md-ellipsis> Criando a Infraestrutura (Nuvem VM) - Servidor Virtual Privado (VPS) </span> </a> <nav class=md-nav aria-label="Criando a Infraestrutura (Nuvem VM) - Servidor Virtual Privado (VPS)"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#implantacao-do-openstack class=md-nav__link> <span class=md-ellipsis> Implantação do OpenStack: </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#roteiro-atualizado-de-instalacao-do-openstack class=md-nav__link> <span class=md-ellipsis> Roteiro Atualizado de Instalação do Openstack </span> </a> <nav class=md-nav aria-label="Roteiro Atualizado de Instalação do Openstack"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1-instalando-o-juju-controller class=md-nav__link> <span class=md-ellipsis> 1. Instalando o Juju Controller </span> </a> </li> <li class=md-nav__item> <a href=#2-definindo-o-modelo-de-deploy class=md-nav__link> <span class=md-ellipsis> 2. Definindo o modelo de deploy </span> </a> </li> <li class=md-nav__item> <a href=#3-ceph-osd class=md-nav__link> <span class=md-ellipsis> 3. Ceph OSD </span> </a> </li> <li class=md-nav__item> <a href=#4-nova-compute class=md-nav__link> <span class=md-ellipsis> 4. Nova Compute </span> </a> </li> <li class=md-nav__item> <a href=#5-mysql-innodb-cluster class=md-nav__link> <span class=md-ellipsis> 5. MySQL InnoDB Cluster </span> </a> </li> <li class=md-nav__item> <a href=#6-vault class=md-nav__link> <span class=md-ellipsis> 6. Vault </span> </a> </li> <li class=md-nav__item> <a href=#7-neutron-networking class=md-nav__link> <span class=md-ellipsis> 7. Neutron Networking </span> </a> </li> <li class=md-nav__item> <a href=#8-keystone class=md-nav__link> <span class=md-ellipsis> 8. Keystone </span> </a> </li> <li class=md-nav__item> <a href=#9-rabbitmq class=md-nav__link> <span class=md-ellipsis> 9. RabbitMQ </span> </a> </li> <li class=md-nav__item> <a href=#10-nova-cloud-controller class=md-nav__link> <span class=md-ellipsis> 10. Nova Cloud Controller </span> </a> </li> <li class=md-nav__item> <a href=#11-placement class=md-nav__link> <span class=md-ellipsis> 11. Placement </span> </a> </li> <li class=md-nav__item> <a href=#12-horizon-openstack-dashboard class=md-nav__link> <span class=md-ellipsis> 12. Horizon - OpenStack Dashboard </span> </a> </li> <li class=md-nav__item> <a href=#13-glance class=md-nav__link> <span class=md-ellipsis> 13. Glance </span> </a> </li> <li class=md-nav__item> <a href=#14-ceph-monitor class=md-nav__link> <span class=md-ellipsis> 14. Ceph Monitor </span> </a> </li> <li class=md-nav__item> <a href=#15-cinder class=md-nav__link> <span class=md-ellipsis> 15. Cinder </span> </a> </li> <li class=md-nav__item> <a href=#16-ceph-rados-gateway class=md-nav__link> <span class=md-ellipsis> 16. Ceph RADOS Gateway </span> </a> </li> <li class=md-nav__item> <a href=#17-ceph-osd-integration class=md-nav__link> <span class=md-ellipsis> 17. Ceph-OSD Integration </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#resultados-finais-e-proximos-passos class=md-nav__link> <span class=md-ellipsis> Resultados finais e próximos passos </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../3.setup/ class=md-nav__link> <span class=md-ellipsis> Setup </span> </a> </li> <li class=md-nav__item> <a href=../3.app/ class=md-nav__link> <span class=md-ellipsis> App </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_4> <label class=md-nav__link for=__nav_2_4 id=__nav_2_4_label tabindex> <span class=md-ellipsis> Roteiro 4 SLA, DR e IaC </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_4_label aria-expanded=false> <label class=md-nav__title for=__nav_2_4> <span class="md-nav__icon md-icon"></span> Roteiro 4 SLA, DR e IaC </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../4.objetivo/ class=md-nav__link> <span class=md-ellipsis> Objetivo </span> </a> </li> <li class=md-nav__item> <a href=../4.infra/ class=md-nav__link> <span class=md-ellipsis> Infra </span> </a> </li> <li class=md-nav__item> <a href=../4.app/ class=md-nav__link> <span class=md-ellipsis> App </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_5> <label class=md-nav__link for=__nav_2_5 id=__nav_2_5_label tabindex> <span class=md-ellipsis> Roteiro 5 Docker e Kubernetes "Opcional" </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_5_label aria-expanded=false> <label class=md-nav__title for=__nav_2_5> <span class="md-nav__icon md-icon"></span> Roteiro 5 Docker e Kubernetes "Opcional" </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../5.objetivo/ class=md-nav__link> <span class=md-ellipsis> Objetivo </span> </a> </li> <li class=md-nav__item> <a href=../5.infra/ class=md-nav__link> <span class=md-ellipsis> Infra </span> </a> </li> <li class=md-nav__item> <a href=../5.app/ class=md-nav__link> <span class=md-ellipsis> App </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <div class="md-nav__link md-nav__container"> <a href=../../tutoriais/ class="md-nav__link "> <span class=md-ellipsis> Tutoriais </span> </a> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Tutoriais </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <div class="md-nav__link md-nav__container"> <a href=../../plano_aula/ class="md-nav__link "> <span class=md-ellipsis> Plano de Aula </span> </a> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Plano de Aula </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5> <div class="md-nav__link md-nav__container"> <a href=../../projetos_2025-2/ class="md-nav__link "> <span class=md-ellipsis> Projeto </span> </a> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Projeto </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex=0> <span class=md-ellipsis> Arquivo </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Arquivo </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_1> <label class=md-nav__link for=__nav_6_1 id=__nav_6_1_label tabindex=0> <span class=md-ellipsis> Projetos 2022 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_1_label aria-expanded=false> <label class=md-nav__title for=__nav_6_1> <span class="md-nav__icon md-icon"></span> Projetos 2022 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../projetos_2022/fran-janela/ class=md-nav__link> <span class=md-ellipsis> Francisco Janela </span> </a> </li> <li class=md-nav__item> <a href=../../projetos_2022/DaviReisVieira/ class=md-nav__link> <span class=md-ellipsis> Davi Reis </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_2> <label class=md-nav__link for=__nav_6_2 id=__nav_6_2_label tabindex=0> <span class=md-ellipsis> Projeto 2023 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_2_label aria-expanded=false> <label class=md-nav__title for=__nav_6_2> <span class="md-nav__icon md-icon"></span> Projeto 2023 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../projetos_2023/2023-2_projeto/ class=md-nav__link> <span class=md-ellipsis> Rubrica </span> </a> </li> <li class=md-nav__item> <a href=../../projetos_2023/README_rodrigo/ class=md-nav__link> <span class=md-ellipsis> Rodrigo </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_3> <label class=md-nav__link for=__nav_6_3 id=__nav_6_3_label tabindex=0> <span class=md-ellipsis> Projeto 2024 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_3_label aria-expanded=false> <label class=md-nav__title for=__nav_6_3> <span class="md-nav__icon md-icon"></span> Projeto 2024 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../projetos_2024-1/2024-1_projeto/ class=md-nav__link> <span class=md-ellipsis> Rubrica </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_4> <label class=md-nav__link for=__nav_6_4 id=__nav_6_4_label tabindex=0> <span class=md-ellipsis> Projeto 2024-2 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_4_label aria-expanded=false> <label class=md-nav__title for=__nav_6_4> <span class="md-nav__icon md-icon"></span> Projeto 2024-2 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../projetos_2024-2/2024-2_projeto/ class=md-nav__link> <span class=md-ellipsis> Rubrica </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_5> <label class=md-nav__link for=__nav_6_5 id=__nav_6_5_label tabindex=0> <span class=md-ellipsis> Projeto 2025-1 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_5_label aria-expanded=false> <label class=md-nav__title for=__nav_6_5> <span class="md-nav__icon md-icon"></span> Projeto 2025-1 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../projetos_2025-1/projeto/ class=md-nav__link> <span class=md-ellipsis> Rubrica </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_6> <label class=md-nav__link for=__nav_6_6 id=__nav_6_6_label tabindex=0> <span class=md-ellipsis> Ligthsail </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6_6> <span class="md-nav__icon md-icon"></span> Ligthsail </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../adicional/AWSLightsail/ class=md-nav__link> <span class=md-ellipsis> Introdução </span> </a> </li> <li class=md-nav__item> <a href=../../adicional/topicos/AWSLigthsailInstancia/ class=md-nav__link> <span class=md-ellipsis> Instancia </span> </a> </li> <li class=md-nav__item> <a href=../../adicional/topicos/AWSLigthsailAdmin/ class=md-nav__link> <span class=md-ellipsis> Administração </span> </a> </li> <li class=md-nav__item> <a href=../../adicional/topicos/AWSLigthsailContainer/ class=md-nav__link> <span class=md-ellipsis> Container </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7> <label class=md-nav__link for=__nav_7 id=__nav_7_label tabindex=0> <span class=md-ellipsis> Conteudo adicional </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Conteudo adicional </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_1> <label class=md-nav__link for=__nav_7_1 id=__nav_7_1_label tabindex=0> <span class=md-ellipsis> Governanca Internet </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_1_label aria-expanded=false> <label class=md-nav__title for=__nav_7_1> <span class="md-nav__icon md-icon"></span> Governanca Internet </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../adicional/Videos_ref/ class=md-nav__link> <span class=md-ellipsis> Videos </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#criando-a-infraestrutura-nuvem-vm-servidor-virtual-privado-vps class=md-nav__link> <span class=md-ellipsis> Criando a Infraestrutura (Nuvem VM) - Servidor Virtual Privado (VPS) </span> </a> <nav class=md-nav aria-label="Criando a Infraestrutura (Nuvem VM) - Servidor Virtual Privado (VPS)"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#implantacao-do-openstack class=md-nav__link> <span class=md-ellipsis> Implantação do OpenStack: </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#roteiro-atualizado-de-instalacao-do-openstack class=md-nav__link> <span class=md-ellipsis> Roteiro Atualizado de Instalação do Openstack </span> </a> <nav class=md-nav aria-label="Roteiro Atualizado de Instalação do Openstack"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1-instalando-o-juju-controller class=md-nav__link> <span class=md-ellipsis> 1. Instalando o Juju Controller </span> </a> </li> <li class=md-nav__item> <a href=#2-definindo-o-modelo-de-deploy class=md-nav__link> <span class=md-ellipsis> 2. Definindo o modelo de deploy </span> </a> </li> <li class=md-nav__item> <a href=#3-ceph-osd class=md-nav__link> <span class=md-ellipsis> 3. Ceph OSD </span> </a> </li> <li class=md-nav__item> <a href=#4-nova-compute class=md-nav__link> <span class=md-ellipsis> 4. Nova Compute </span> </a> </li> <li class=md-nav__item> <a href=#5-mysql-innodb-cluster class=md-nav__link> <span class=md-ellipsis> 5. MySQL InnoDB Cluster </span> </a> </li> <li class=md-nav__item> <a href=#6-vault class=md-nav__link> <span class=md-ellipsis> 6. Vault </span> </a> </li> <li class=md-nav__item> <a href=#7-neutron-networking class=md-nav__link> <span class=md-ellipsis> 7. Neutron Networking </span> </a> </li> <li class=md-nav__item> <a href=#8-keystone class=md-nav__link> <span class=md-ellipsis> 8. Keystone </span> </a> </li> <li class=md-nav__item> <a href=#9-rabbitmq class=md-nav__link> <span class=md-ellipsis> 9. RabbitMQ </span> </a> </li> <li class=md-nav__item> <a href=#10-nova-cloud-controller class=md-nav__link> <span class=md-ellipsis> 10. Nova Cloud Controller </span> </a> </li> <li class=md-nav__item> <a href=#11-placement class=md-nav__link> <span class=md-ellipsis> 11. Placement </span> </a> </li> <li class=md-nav__item> <a href=#12-horizon-openstack-dashboard class=md-nav__link> <span class=md-ellipsis> 12. Horizon - OpenStack Dashboard </span> </a> </li> <li class=md-nav__item> <a href=#13-glance class=md-nav__link> <span class=md-ellipsis> 13. Glance </span> </a> </li> <li class=md-nav__item> <a href=#14-ceph-monitor class=md-nav__link> <span class=md-ellipsis> 14. Ceph Monitor </span> </a> </li> <li class=md-nav__item> <a href=#15-cinder class=md-nav__link> <span class=md-ellipsis> 15. Cinder </span> </a> </li> <li class=md-nav__item> <a href=#16-ceph-rados-gateway class=md-nav__link> <span class=md-ellipsis> 16. Ceph RADOS Gateway </span> </a> </li> <li class=md-nav__item> <a href=#17-ceph-osd-integration class=md-nav__link> <span class=md-ellipsis> 17. Ceph-OSD Integration </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#resultados-finais-e-proximos-passos class=md-nav__link> <span class=md-ellipsis> Resultados finais e próximos passos </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1>Infra</h1> <h2 id=criando-a-infraestrutura-nuvem-vm-servidor-virtual-privado-vps>Criando a Infraestrutura (Nuvem VM) - Servidor Virtual Privado (VPS)<a class=headerlink href=#criando-a-infraestrutura-nuvem-vm-servidor-virtual-privado-vps title="Permanent link">&para;</a></h2> <p>Nesse roteiro vamos instalar um conjunto de aplicações denominado <strong>Openstack</strong> que vai permitir distribuirmos <em>virtual machines</em> usando os nós disponíveis no kit.</p> <p>Até o momento usamos o <strong>MAAS</strong> para orquestrar o <em>bare metal</em> e o <strong>juju</strong> para cuidar do <em>deployment</em> de aplicações (exemplo grafana e prometheus). Agora, vamos utilizar o <strong>Openstack</strong> para criar VMs e distribuir os serviços em todas as máquinas kit com maior eficiência.</p> <!-- 
### Instalando - Openstack Canonical Distro

* Faça o *download* do charm **Openstack Base** no maas:
  *  ` ``$ charm pull cs:openstack-base` ``
* Dentro do diretório criado, edite o arquivo *bundle.yaml*:

  * *identifique* quantas máquinas serão alocadas.
  * *verifique* cada um dos serviços que serão instalados e em quais máquinas.
  * sete o nome do adaptador de rede, *br-ex:eth1* na variável *data-port*. **Cuidado para não errar** 

`` `
variables:
  openstack-origin:    &openstack-origin     cloud:focal-yoga
  data-port:           &data-port            br-ex:eth1
  worker-multiplier:   &worker-multiplier    0.25
  osd-devices:         &osd-devices          /dev/sdb /dev/vdb
  expected-osd-count:  &expected-osd-count   3
  expected-mon-count:  &expected-mon-count   3
` ``
**Ainda no bundle altere a configuracao do software NTP e deixe conforme abaixo:**
`` `
  ntp:
    annotations:
      gui-x: '315'
      gui-y: '1030'
    charm: ch:ntp
    num_units: 0
` `` --> <!-- 
* Reservar (Allocate) a máquina "server2" no maas.
* Instale o bundle customizado:
  * ```$ juju deploy ./bundle.yaml```
* Hora da leitura na documentacao [LINK][https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/] :book: :book: :book: --> <div class="admonition warning"> <p class=admonition-title>Atenção</p> <p><strong>Confira se os seus recursos fisicos seguem, no MÍNIMO, a tabela abaixo, volte ao dashboard do MAAS e crie as Tags conforme descrito:</strong></p> <table> <thead> <tr> <th>Node name</th> <th>Tag(s)</th> <th style="text-align: center;">CPUs</th> <th style="text-align: center;">NICs</th> <th style="text-align: right;">RAM</th> <th style="text-align: center;">Disks</th> <th>Storage</th> </tr> </thead> <tbody> <tr> <td>node1.maas</td> <td>controller</td> <td style="text-align: center;">2</td> <td style="text-align: center;">1</td> <td style="text-align: right;">12.0</td> <td style="text-align: center;">1</td> <td>80.0</td> </tr> <tr> <td>node2.maas</td> <td>reserva</td> <td style="text-align: center;">2</td> <td style="text-align: center;">1</td> <td style="text-align: right;">16.0</td> <td style="text-align: center;">2</td> <td>80.0</td> </tr> <tr> <td>node3.maas</td> <td>compute</td> <td style="text-align: center;">2</td> <td style="text-align: center;">1</td> <td style="text-align: right;">32.0</td> <td style="text-align: center;">2</td> <td>80.0</td> </tr> <tr> <td>node4.maas</td> <td>compute</td> <td style="text-align: center;">2</td> <td style="text-align: center;">1</td> <td style="text-align: right;">32.0</td> <td style="text-align: center;">2</td> <td>80.0</td> </tr> <tr> <td>node5.maas</td> <td>compute</td> <td style="text-align: center;">2</td> <td style="text-align: center;">1</td> <td style="text-align: right;">32.0</td> <td style="text-align: center;">2</td> <td>80.0</td> </tr> </tbody> </table> <p><strong>Antes de começar a instalação do Openstack, verifique se o MAAS está configurado corretamente (Brigdes, Subnets, Tags, etc).</strong></p> </div> <div class="admonition danger"> <p class=admonition-title>Brigde no MAAS</p> <p><strong>Verifique se o br-ex está configurado corretamente no MAAS</strong>. O br-ex é a interface de rede que conecta o OpenStack à rede externa. Se não estiver configurado corretamente, o OpenStack não conseguirá se comunicar com o mundo exterior.</p> <p>Para verificar isso, acesse o painel do MAAS e vá para a seção de redes. Verifique se o br-ex está listado como uma interface de rede e se está conectado à rede correta. Se não estiver, você precisará configurá-lo corretamente antes de prosseguir com a instalação do OpenStack.</p> <p><strong>A configuração correta do br-ex é crucial para garantir que o OpenStack funcione corretamente e possa se comunicar com outras redes e serviços externos.</strong></p> <p><img alt src=../../assets/images/maas_node_bridge.png></p> <p><strong>O brigde br-ex deve estar configurado para TODOS os nós.</strong></p> </div> <h3 id=implantacao-do-openstack>Implantação do OpenStack:<a class=headerlink href=#implantacao-do-openstack title="Permanent link">&para;</a></h3> <ul> <li>"Siga" o passo a passo do Link abaixo, porém <strong>não</strong> instale nada no server2 que deve estar reservado(alocado), <strong>altere os comandos</strong> que forem necessários para utilizar o Node server 1 como <strong>controller</strong>, o node server 2 como <strong>Reserva</strong> e os nodes server 3,4 e 5 como <strong>compute</strong> (onde o Openstack será instalado).</li> <li><strong>Rode 1 comando por vez tenha CALMA!!!</strong></li> <li><strong>Siga o status para ver se a implantação está correndo como o esperado:</strong> <code>juju status</code></li> <li><strong>Aguarde a instalação terminar, só vá para o próximo passo quando tiver certeza que o comando anterior foi finalizado</strong></li> <li>Esse roteiro é baseado na documentação oficial do Openstack, porém adaptado para o nosso ambiente. Logo, <strong>atente</strong> para o número de máquinas que você tem disponível e para a configuração de rede que você fez no MAAS.</li> <li>Documentação oficial: <a href=https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/install-openstack.html#openstack-release target=_blank>Implantação do OpenStack</a>. Estude esse link antes de começar a instalação, busque entender o que está sendo feito a cada passo.</li> </ul> <div class="admonition warning"> <p class=admonition-title>Juju Controller</p> <p>O Juju necessita de uma máquina exclusiva para controlar todo o deploy e máquina é alocada automaticamente durante o bootstrap e controlará todo o deploy. Em nosso ambiente, o Juju Controller será instalado no server1. Logo, <strong>SE</strong> você ainda <strong>NÃO TEM</strong> um controlador Juju instalado, então, precisa fazer o bootstrap de um novo controlador no server1. </p> </div> <div class="admonition tip"> <p class=admonition-title>Monitoramento</p> <p>Para monitorar o status da instalação do Openstack, você pode usar o comando abaixo:</p> <div class="copyable numberLines highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a>watch<span class=w> </span>-n<span class=w> </span><span class=m>2</span><span class=w> </span>--color<span class=w> </span><span class=s2>&quot;juju status --color&quot;</span>
</code></pre></div> <p>Para isso, abra um novo terminal e rode o comando acima. Ele irá atualizar a cada 2 segundos o status da instalação.</p> </div> <h2 id=roteiro-atualizado-de-instalacao-do-openstack>Roteiro Atualizado de Instalação do Openstack<a class=headerlink href=#roteiro-atualizado-de-instalacao-do-openstack title="Permanent link">&para;</a></h2> <p>Esse roteiro está atualizado da documentação oficial, porém, em caso de problemas, <strong>consulte a documentação oficial antes mesmo de pedir ajuda</strong>, pois lá irá conter a solução para a maioria dos problemas.</p> <h3 id=1-instalando-o-juju-controller>1. Instalando o Juju Controller<a class=headerlink href=#1-instalando-o-juju-controller title="Permanent link">&para;</a></h3> <div class="admonition danger"> <p class=admonition-title>Atenção</p> <p><strong>Apenas se ainda não tiver um Juju Controller</strong></p> </div> <p>Adicionar a <strong>tag</strong> <em><code>controller</code></em> na máquina <code>server1</code>: <div class="copyable numberLines highlight"><pre><span></span><code><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a>juju<span class=w> </span>bootstrap<span class=w> </span>--bootstrap-series<span class=o>=</span>jammy<span class=w> </span>--constraints<span class=w> </span><span class=nv>tags</span><span class=o>=</span>controller<span class=w> </span>maas-one<span class=w> </span>maas-controller
</code></pre></div></p> <h3 id=2-definindo-o-modelo-de-deploy>2. Definindo o modelo de deploy<a class=headerlink href=#2-definindo-o-modelo-de-deploy title="Permanent link">&para;</a></h3> <div class="copyable numberLines highlight"><pre><span></span><code><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a>juju<span class=w> </span>add-model<span class=w> </span>--config<span class=w> </span>default-series<span class=o>=</span>jammy<span class=w> </span>openstack
</code></pre></div> <div class="copyable numberLines highlight"><pre><span></span><code><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a>juju<span class=w> </span>switch<span class=w> </span>maas-controller:openstack
</code></pre></div> <div class="admonition example"> <p class=admonition-title>Opcional</p> <p>Instalar o juju-dashboard: <a href=https://canonical-juju.readthedocs-hosted.com/en/latest/user/howto/manage-the-juju-dashboard/#manage-the-juju-dashboard target=_blank>https://canonical-juju.readthedocs-hosted.com/en/latest/user/howto/manage-the-juju-dashboard/#manage-the-juju-dashboard</a></p> </div> <h3 id=3-ceph-osd>3. Ceph OSD<a class=headerlink href=#3-ceph-osd title="Permanent link">&para;</a></h3> <p>The ceph-osd application is deployed to three nodes with the <a href=https://charmhub.io/ceph-osd target=_blank>ceph-osd</a> charm.</p> <p>The names of the block devices backing the OSDs is dependent upon the hardware on the MAAS nodes. All possible devices (across all the nodes) that are to be used for Ceph storage should be included in the value for the <strong>osd-devices</strong> option (space-separated). Here, we’ll be using the same devices on each node: <strong>/dev/sda</strong>, and <strong>/dev/sdb</strong>. File <strong>ceph-osd.yaml</strong> contains the configuration:</p> <div class="copyable numberLines highlight"><span class=filename>ceph-osd.yaml</span><pre><span></span><code><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=nt>ceph-osd</span><span class=p>:</span>
<a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a><span class=w>  </span><span class=nt>osd-devices</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/dev/sda /dev/sdb</span>
</code></pre></div> <p>To deploy the application we’ll make use of the ‘compute’ tag that we placed on each of these nodes on the <a href=https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/install-maas.html target=_blank>Install MAAS</a> page. The command to deploy the ceph-osd application is:</p> <div class="copyable numberLines highlight"><pre><span></span><code><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a>juju<span class=w> </span>deploy<span class=w> </span>-n<span class=w> </span><span class=m>3</span><span class=w> </span>--channel<span class=w> </span>quincy/stable<span class=w> </span>--config<span class=w> </span>ceph-osd.yaml<span class=w> </span>--constraints<span class=w> </span><span class=nv>tags</span><span class=o>=</span>compute<span class=w> </span>ceph-osd
</code></pre></div> <p><strong>Note:</strong> The <strong>-n 3</strong> option specifies that three units of the ceph-osd application should be deployed.</p> <p>If a message from a ceph-osd unit like “Non-pristine devices detected” appears in the output of <strong>juju status</strong> you will need to use actions <strong>zap-disk</strong> and <strong>add-disk</strong> that come with the ceph-osd charm. The <strong>zap-disk</strong> action is destructive in nature. Only use it if you want to purge the disk of all data and signatures for use by Ceph.</p> <div class="admonition quote"> <p class=admonition-title>Note</p> <p>Since ceph-osd was deployed on three nodes and there are only three nodes available in this environment, the usage of the ‘compute’ tag is not strictly necessary. A tag can help if there are a surplus of nodes however.</p> </div> <h3 id=4-nova-compute>4. Nova Compute<a class=headerlink href=#4-nova-compute title="Permanent link">&para;</a></h3> <p>Nova is the OpenStack project that provides a way to provision compute instances (aka virtual servers). The nova-compute charm is deployed to the compute nodes with the <a href=https://charmhub.io/nova-compute target=_blank>nova-compute</a> charm. File <strong>nova-compute.yaml</strong> contains the configuration:</p> <div class="copyable numberLines highlight"><span class=filename>nova-compute.yaml</span><pre><span></span><code><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=nt>nova-compute</span><span class=p>:</span>
<a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a><span class=w>  </span><span class=nt>config-flags</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">default_ephemeral_format=ext4</span>
<a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a><span class=w>  </span><span class=nt>enable-live-migration</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a><span class=w>  </span><span class=nt>enable-resize</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a><span class=w>  </span><span class=nt>migration-auth-type</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ssh</span>
<a id=__codelineno-6-6 name=__codelineno-6-6 href=#__codelineno-6-6></a><span class=w>  </span><span class=nt>virt-type</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">qemu</span>
</code></pre></div> <p>The nodes must be targeted by machine ID since there are no more free Juju machines (MAAS nodes) available. This means we’re placing multiple services on our nodes. We’ve chosen machines 0, 1, and 2. To deploy:</p> <div class="copyable numberLines highlight"><pre><span></span><code><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a>juju<span class=w> </span>deploy<span class=w> </span>-n<span class=w> </span><span class=m>3</span><span class=w> </span>--to<span class=w> </span><span class=m>0</span>,1,2<span class=w> </span>--channel<span class=w> </span>yoga/stable<span class=w> </span>--config<span class=w> </span>nova-compute.yaml<span class=w> </span>nova-compute
</code></pre></div> <div class="admonition quote"> <p class=admonition-title>Note</p> <p>The ‘nova-compute’ charm is designed to support one image format type per application at any given time. Changing format (see charm option <strong>libvirt-image-backend</strong>) while existing instances are using the prior format will require manual image conversion for each instance. See bug <a href=https://bugs.launchpad.net/charm-deployment-guide/+bug/1826888 target=_blank>LP #1826888</a>.</p> </div> <h3 id=5-mysql-innodb-cluster>5. MySQL InnoDB Cluster<a class=headerlink href=#5-mysql-innodb-cluster title="Permanent link">&para;</a></h3> <p>MySQL InnoDB Cluster always requires at least three database units. The mysql-innodb-cluster application is deployed to three nodes with the <a href=https://charmhub.io/mysql-innodb-cluster target=_blank>mysql-innodb-cluster</a> charm. They will be containerised on machines 0, 1, and 2. To deploy:</p> <div class="copyable numberLines highlight"><pre><span></span><code><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a>juju<span class=w> </span>deploy<span class=w> </span>-n<span class=w> </span><span class=m>3</span><span class=w> </span>--to<span class=w> </span>lxd:0,lxd:1,lxd:2<span class=w> </span>--channel<span class=w> </span><span class=m>8</span>.0/stable<span class=w> </span>mysql-innodb-cluster
</code></pre></div> <h3 id=6-vault>6. Vault<a class=headerlink href=#6-vault title="Permanent link">&para;</a></h3> <p>Vault is necessary for managing the TLS certificates that will enable encrypted communication between cloud applications. The vault application will be containerised on machine 2 with the <a href=https://charmhub.io/vault target=_blank>vault</a> charm. To deploy:</p> <div class="copyable numberLines highlight"><pre><span></span><code><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a>juju<span class=w> </span>deploy<span class=w> </span>--to<span class=w> </span>lxd:2<span class=w> </span>vault<span class=w> </span>--channel<span class=w> </span><span class=m>1</span>.8/stable
</code></pre></div> <p>This is the first application to be joined with the cloud database that was set up in the previous section. The process is:</p> <ol> <li> <p>create an application-specific instance of <a href=https://charmhub.io/mysql-router target=_blank>mysql-router</a> with the mysql-router subordinate charm;</p> </li> <li> <p>add a relation between the mysql-router instance and the database;</p> </li> <li> <p>add a relation between the mysql-router instance and the application.</p> </li> </ol> <p>The combination of steps 2 and 3 joins the application to the cloud database.</p> <p>Here are the corresponding commands for Vault:</p> <div class="copyable numberLines highlight"><pre><span></span><code><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a>juju<span class=w> </span>deploy<span class=w> </span>--channel<span class=w> </span><span class=m>8</span>.0/stable<span class=w> </span>mysql-router<span class=w> </span>vault-mysql-router
<a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a>juju<span class=w> </span>integrate<span class=w> </span>vault-mysql-router:db-router<span class=w> </span>mysql-innodb-cluster:db-router
<a id=__codelineno-10-3 name=__codelineno-10-3 href=#__codelineno-10-3></a>juju<span class=w> </span>integrate<span class=w> </span>vault-mysql-router:shared-db<span class=w> </span>vault:shared-db
</code></pre></div> <div class="admonition info"> <p class=admonition-title>Unseal</p> <p>Vault <strong>must</strong> now be <strong>initialised and unsealed</strong>. The vault charm will also need to be authorised to carry out certain tasks. These steps are covered in the <a href=https://opendev.org/openstack/charm-vault/src/branch/stable/1.8/src/README.md#post-deployment-tasks target=_blank>vault charm documentation</a>. Perform them <strong>NOW</strong>.</p> </div> <div class="admonition info"> <p class=admonition-title>CA Certificate (Self-signed)</p> <p>Provide Vault with a CA certificate, we need to generate a <strong>self-signed</strong> CA certificate, so it can issue certificates to cloud API services. This is covered on the <a href=https://docs.openstack.org/charm-guide/latest/admin/security/tls.html#add-ca-certificate target=_blank>Managing TLS certificates</a> page. Do this now.</p> <div class="copyable numberLines highlight"><pre><span></span><code><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a>juju<span class=w> </span>run<span class=w> </span>vault/leader<span class=w> </span>generate-root-ca
</code></pre></div> </div> <details class=info open=open> <summary>Use estas dicas se precisar, não <strong>duplique</strong> os comandos!!!!!</summary> <p><strong>Dica para abrir o cofre</strong> (Git do Vault)[<a href=https://opendev.org/openstack/charm-vault/src/branch/stable/1.8/src/README.md#post-deployment-tasks>https://opendev.org/openstack/charm-vault/src/branch/stable/1.8/src/README.md#post-deployment-tasks</a>]</p> <ul> <li> <p>Instalando o cli do Vault e configurando-o:</p> <ul> <li><code>$ sudo snap install vault</code></li> <li><code>$ export VAULT_ADDR="http://&lt;IP of vault unit&gt;:8200"</code></li> </ul> </li> <li> <p>Gerando :</p> <ul> <li><code>$ vault operator init -key-shares=5 -key-threshold=3</code></li> <li>Vocês receberão 5 <em>Unseal Keys</em> e 1 <em>Initial Root Token</em>. <strong>Copie e guarde as hashs geradas</strong>.</li> </ul> </li> <li> <p>Removendo o selo, repita a operação com 3 keys diferentes:</p> <ul> <li><code>$ vault operator unseal &lt;Unseal Key&gt;</code></li> </ul> </li> <li> <p>Autorizando o charm (esse passo precisa ser feito em 50 minutos):</p> <ul> <li><code>$ export VAULT_TOKEN=&lt;Initial Root Token&gt;</code></li> <li><code>$ vault token create -ttl=50m</code></li> <li>anote o <em>token</em> gerado pelo comando,</li> <li>juju run vault/leader authorize-charm token=<strong>token</strong></li> <li>Agora você tem 50 minutos para descobrir na documentacao como fazer para gerar o TLS do vault (2 comandos)</li> </ul> </li> </ul> </details> <p>Cloud applications are TLS-enabled via the <strong>vault:certificates</strong> relation. Below we start with the cloud database. Although the latter has a self-signed certificate, it is recommended to use the one signed by Vault’s CA:</p> <div class="copyable numberLines highlight"><pre><span></span><code><a id=__codelineno-12-1 name=__codelineno-12-1 href=#__codelineno-12-1></a>juju<span class=w> </span>integrate<span class=w> </span>mysql-innodb-cluster:certificates<span class=w> </span>vault:certificates
</code></pre></div> <hr> <p>Once the above is completed the Unit section output to command <strong>juju status</strong> should look similar to this:</p> <p><img alt src=../../assets/screenshots/roteiro3.openstack.check1.png></p> <hr> <h3 id=7-neutron-networking>7. Neutron Networking<a class=headerlink href=#7-neutron-networking title="Permanent link">&para;</a></h3> <p>Neutron networking is implemented with four applications:</p> <ul> <li>neutron-api</li> <li>neutron-api-plugin-ovn (subordinate)</li> <li>ovn-central</li> <li>ovn-chassis (subordinate)</li> </ul> <p>File <strong>neutron.yaml</strong> contains the configuration necessary (only two of them require configuration):</p> <div class="copyable numberLines highlight"><span class=filename>neutron.yaml</span><pre><span></span><code><a id=__codelineno-13-1 name=__codelineno-13-1 href=#__codelineno-13-1></a><span class=nt>ovn-chassis</span><span class=p>:</span>
<a id=__codelineno-13-2 name=__codelineno-13-2 href=#__codelineno-13-2></a><span class=w>  </span><span class=nt>bridge-interface-mappings</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">br-ex:eth0</span>
<a id=__codelineno-13-3 name=__codelineno-13-3 href=#__codelineno-13-3></a><span class=w>  </span><span class=nt>ovn-bridge-mappings</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">physnet1:br-ex</span>
<a id=__codelineno-13-4 name=__codelineno-13-4 href=#__codelineno-13-4></a><span class=nt>neutron-api</span><span class=p>:</span>
<a id=__codelineno-13-5 name=__codelineno-13-5 href=#__codelineno-13-5></a><span class=w>  </span><span class=nt>neutron-security-groups</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id=__codelineno-13-6 name=__codelineno-13-6 href=#__codelineno-13-6></a><span class=w>  </span><span class=nt>flat-network-providers</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">physnet1</span>
</code></pre></div> <p>The bridge-interface-mappings setting impacts the OVN Chassis and refers to a mapping of OVS bridge to network interface. As described in the <a href=https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/install-maas.html#ovs-bridge target=_blank>Create OVS bridge</a> section on the <a href=https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/install-maas.html target=_blank>Install MAAS</a> page, for this example it is <code>br-ex:enp1s0</code>.</p> <div class="admonition quote"> <p class=admonition-title>Note</p> <p>To use hardware addresses (as opposed to an interface name common to all three nodes) the bridge-interface-mappings option can be expressed in this way (substitute in your own values):</p> <div class="copyable numberLines highlight"><span class=filename>neutron.yaml</span><pre><span></span><code><a id=__codelineno-14-1 name=__codelineno-14-1 href=#__codelineno-14-1></a><span class=nt>bridge-interface-mappings</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">&gt;-</span>
<a id=__codelineno-14-2 name=__codelineno-14-2 href=#__codelineno-14-2></a><span class=w>  </span><span class=no>br-ex:52:54:00:03:01:02</span>
<a id=__codelineno-14-3 name=__codelineno-14-3 href=#__codelineno-14-3></a><span class=w>  </span><span class=no>br-ex:52:54:00:03:01:03</span>
<a id=__codelineno-14-4 name=__codelineno-14-4 href=#__codelineno-14-4></a><span class=w>  </span><span class=no>br-ex:52:54:00:03:01:04</span>
</code></pre></div> </div> <p>The <strong>flat-network-providers</strong> setting enables the Neutron flat network provider used in this example scenario and gives it the name of ‘physnet1’. The flat network provider and its name will be referenced when we <a href=https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/configure-openstack.html#public-networking target=_blank>Set up public networking</a> on the next page.</p> <p>The <strong>ovn-bridge-mappings</strong> setting maps the data-port interface to the flat network provider.</p> <p>The main OVN application is ovn-central and it requires at least three units. They will be containerised on machines 0, 1, and 2 with the <a href=https://charmhub.io/ovn-central target=_blank>ovn-central</a> charm. To deploy:</p> <div class="copyable numberLines highlight"><pre><span></span><code><a id=__codelineno-15-1 name=__codelineno-15-1 href=#__codelineno-15-1></a>juju<span class=w> </span>deploy<span class=w> </span>-n<span class=w> </span><span class=m>3</span><span class=w> </span>--to<span class=w> </span>lxd:0,lxd:1,lxd:2<span class=w> </span>--channel<span class=w> </span><span class=m>22</span>.03/stable<span class=w> </span>ovn-central
</code></pre></div> <p>The neutron-api application will be containerised on machine 1 with the <a href=https://charmhub.io/neutron-api target=_blank>neutron-api</a> charm:</p> <div class="copyable numberLines highlight"><pre><span></span><code><a id=__codelineno-16-1 name=__codelineno-16-1 href=#__codelineno-16-1></a>juju<span class=w> </span>deploy<span class=w> </span>--to<span class=w> </span>lxd:1<span class=w> </span>--channel<span class=w> </span>yoga/stable<span class=w> </span>--config<span class=w> </span>neutron.yaml<span class=w> </span>neutron-api
</code></pre></div> <p>Deploy the subordinate charm applications with the <a href=https://charmhub.io/neutron-api-plugin-ovn target=_blank>neutron-api-plugin-ovn</a> and <a href=https://charmhub.io/ovn-chassis target=_blank>ovn-chassis</a> charms:</p> <div class="copyable numberLines highlight"><pre><span></span><code><a id=__codelineno-17-1 name=__codelineno-17-1 href=#__codelineno-17-1></a>juju<span class=w> </span>deploy<span class=w> </span>--channel<span class=w> </span>yoga/stable<span class=w> </span>neutron-api-plugin-ovn
<a id=__codelineno-17-2 name=__codelineno-17-2 href=#__codelineno-17-2></a>juju<span class=w> </span>deploy<span class=w> </span>--channel<span class=w> </span><span class=m>22</span>.03/stable<span class=w> </span>--config<span class=w> </span>neutron.yaml<span class=w> </span>ovn-chassis
</code></pre></div> <p>Add the necessary relations:</p> <div class="copyable numberLines highlight"><pre><span></span><code><a id=__codelineno-18-1 name=__codelineno-18-1 href=#__codelineno-18-1></a>juju<span class=w> </span>integrate<span class=w> </span>neutron-api-plugin-ovn:neutron-plugin<span class=w> </span>neutron-api:neutron-plugin-api-subordinate
<a id=__codelineno-18-2 name=__codelineno-18-2 href=#__codelineno-18-2></a>juju<span class=w> </span>integrate<span class=w> </span>neutron-api-plugin-ovn:ovsdb-cms<span class=w> </span>ovn-central:ovsdb-cms
<a id=__codelineno-18-3 name=__codelineno-18-3 href=#__codelineno-18-3></a>juju<span class=w> </span>integrate<span class=w> </span>ovn-chassis:ovsdb<span class=w> </span>ovn-central:ovsdb
<a id=__codelineno-18-4 name=__codelineno-18-4 href=#__codelineno-18-4></a>juju<span class=w> </span>integrate<span class=w> </span>ovn-chassis:nova-compute<span class=w> </span>nova-compute:neutron-plugin
<a id=__codelineno-18-5 name=__codelineno-18-5 href=#__codelineno-18-5></a>juju<span class=w> </span>integrate<span class=w> </span>neutron-api:certificates<span class=w> </span>vault:certificates
<a id=__codelineno-18-6 name=__codelineno-18-6 href=#__codelineno-18-6></a>juju<span class=w> </span>integrate<span class=w> </span>neutron-api-plugin-ovn:certificates<span class=w> </span>vault:certificates
<a id=__codelineno-18-7 name=__codelineno-18-7 href=#__codelineno-18-7></a>juju<span class=w> </span>integrate<span class=w> </span>ovn-central:certificates<span class=w> </span>vault:certificates
<a id=__codelineno-18-8 name=__codelineno-18-8 href=#__codelineno-18-8></a>juju<span class=w> </span>integrate<span class=w> </span>ovn-chassis:certificates<span class=w> </span>vault:certificates
</code></pre></div> <p>Join neutron-api to the cloud database:</p> <div class="copyable numberLines highlight"><pre><span></span><code><a id=__codelineno-19-1 name=__codelineno-19-1 href=#__codelineno-19-1></a>juju<span class=w> </span>deploy<span class=w> </span>--channel<span class=w> </span><span class=m>8</span>.0/stable<span class=w> </span>mysql-router<span class=w> </span>neutron-api-mysql-router
<a id=__codelineno-19-2 name=__codelineno-19-2 href=#__codelineno-19-2></a>juju<span class=w> </span>integrate<span class=w> </span>neutron-api-mysql-router:db-router<span class=w> </span>mysql-innodb-cluster:db-router
<a id=__codelineno-19-3 name=__codelineno-19-3 href=#__codelineno-19-3></a>juju<span class=w> </span>integrate<span class=w> </span>neutron-api-mysql-router:shared-db<span class=w> </span>neutron-api:shared-db
</code></pre></div> <h3 id=8-keystone>8. Keystone<a class=headerlink href=#8-keystone title="Permanent link">&para;</a></h3> <p>The keystone application will be containerised on machine 0 with the <a href=https://charmhub.io/keystone target=_blank>keystone</a> charm. To deploy:</p> <div class="copyable numberLines highlight"><pre><span></span><code><a id=__codelineno-20-1 name=__codelineno-20-1 href=#__codelineno-20-1></a>juju<span class=w> </span>deploy<span class=w> </span>--to<span class=w> </span>lxd:0<span class=w> </span>--channel<span class=w> </span>yoga/stable<span class=w> </span>keystone
</code></pre></div> <p>Join keystone to the cloud database:</p> <div class="copyable numberLines highlight"><pre><span></span><code><a id=__codelineno-21-1 name=__codelineno-21-1 href=#__codelineno-21-1></a>juju<span class=w> </span>deploy<span class=w> </span>--channel<span class=w> </span><span class=m>8</span>.0/stable<span class=w> </span>mysql-router<span class=w> </span>keystone-mysql-router
<a id=__codelineno-21-2 name=__codelineno-21-2 href=#__codelineno-21-2></a>juju<span class=w> </span>integrate<span class=w> </span>keystone-mysql-router:db-router<span class=w> </span>mysql-innodb-cluster:db-router
<a id=__codelineno-21-3 name=__codelineno-21-3 href=#__codelineno-21-3></a>juju<span class=w> </span>integrate<span class=w> </span>keystone-mysql-router:shared-db<span class=w> </span>keystone:shared-db
</code></pre></div> <p>Two additional relations can be added at this time:</p> <div class="copyable numberLines highlight"><pre><span></span><code><a id=__codelineno-22-1 name=__codelineno-22-1 href=#__codelineno-22-1></a>juju<span class=w> </span>integrate<span class=w> </span>keystone:identity-service<span class=w> </span>neutron-api:identity-service
<a id=__codelineno-22-2 name=__codelineno-22-2 href=#__codelineno-22-2></a>juju<span class=w> </span>integrate<span class=w> </span>keystone:certificates<span class=w> </span>vault:certificates
</code></pre></div> <h3 id=9-rabbitmq>9. RabbitMQ<a class=headerlink href=#9-rabbitmq title="Permanent link">&para;</a></h3> <p>The rabbitmq-server application will be containerised on machine 2 with the <a href=https://charmhub.io/rabbitmq-server target=_blank>rabbitmq-server</a> charm. To deploy:</p> <div class="copyable numberLines highlight"><pre><span></span><code><a id=__codelineno-23-1 name=__codelineno-23-1 href=#__codelineno-23-1></a>juju<span class=w> </span>deploy<span class=w> </span>--to<span class=w> </span>lxd:2<span class=w> </span>--channel<span class=w> </span><span class=m>3</span>.9/stable<span class=w> </span>rabbitmq-server
</code></pre></div> <p>Two relations can be added at this time:</p> <div class="copyable numberLines highlight"><pre><span></span><code><a id=__codelineno-24-1 name=__codelineno-24-1 href=#__codelineno-24-1></a>juju<span class=w> </span>integrate<span class=w> </span>rabbitmq-server:amqp<span class=w> </span>neutron-api:amqp
<a id=__codelineno-24-2 name=__codelineno-24-2 href=#__codelineno-24-2></a>juju<span class=w> </span>integrate<span class=w> </span>rabbitmq-server:amqp<span class=w> </span>nova-compute:amqp
</code></pre></div> <hr> <p>At this time the Unit section output to command juju status should look similar to this:</p> <p><img alt src=../../assets/screenshots/roteiro3.openstack.check2.png></p> <hr> <h3 id=10-nova-cloud-controller>10. Nova Cloud Controller<a class=headerlink href=#10-nova-cloud-controller title="Permanent link">&para;</a></h3> <p>The nova-cloud-controller application, which includes nova-scheduler, nova-api, and nova-conductor services, will be containerised on machine 2 with the <a href=https://charmhub.io/nova-cloud-controller target=_blank>nova-cloud-controller</a> charm. File <strong>ncc.yaml</strong> contains the configuration:</p> <div class="copyable numberLines highlight"><span class=filename>ncc.yaml</span><pre><span></span><code><a id=__codelineno-25-1 name=__codelineno-25-1 href=#__codelineno-25-1></a><span class=nt>nova-cloud-controller</span><span class=p>:</span>
<a id=__codelineno-25-2 name=__codelineno-25-2 href=#__codelineno-25-2></a><span class=w>  </span><span class=nt>network-manager</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Neutron</span>
</code></pre></div> <p>To deploy:</p> <div class="copyable numberLines highlight"><pre><span></span><code><a id=__codelineno-26-1 name=__codelineno-26-1 href=#__codelineno-26-1></a>juju<span class=w> </span>deploy<span class=w> </span>--to<span class=w> </span>lxd:2<span class=w> </span>--channel<span class=w> </span>yoga/stable<span class=w> </span>--config<span class=w> </span>ncc.yaml<span class=w> </span>nova-cloud-controller
</code></pre></div> <p>Join nova-cloud-controller to the cloud database:</p> <div class="copyable numberLines highlight"><pre><span></span><code><a id=__codelineno-27-1 name=__codelineno-27-1 href=#__codelineno-27-1></a>juju<span class=w> </span>deploy<span class=w> </span>--channel<span class=w> </span><span class=m>8</span>.0/stable<span class=w> </span>mysql-router<span class=w> </span>ncc-mysql-router
<a id=__codelineno-27-2 name=__codelineno-27-2 href=#__codelineno-27-2></a>juju<span class=w> </span>integrate<span class=w> </span>ncc-mysql-router:db-router<span class=w> </span>mysql-innodb-cluster:db-router
<a id=__codelineno-27-3 name=__codelineno-27-3 href=#__codelineno-27-3></a>juju<span class=w> </span>integrate<span class=w> </span>ncc-mysql-router:shared-db<span class=w> </span>nova-cloud-controller:shared-db
</code></pre></div> <div class="admonition quote"> <p class=admonition-title>Note</p> <p>To keep juju status output compact the expected <strong>nova-cloud-controller-mysql-router</strong> application name has been shortened to <strong>ncc-mysql-router</strong>.</p> </div> <p>Five additional relations can be added at this time:</p> <div class="copyable numberLines highlight"><pre><span></span><code><a id=__codelineno-28-1 name=__codelineno-28-1 href=#__codelineno-28-1></a>juju<span class=w> </span>integrate<span class=w> </span>nova-cloud-controller:identity-service<span class=w> </span>keystone:identity-service
<a id=__codelineno-28-2 name=__codelineno-28-2 href=#__codelineno-28-2></a>juju<span class=w> </span>integrate<span class=w> </span>nova-cloud-controller:amqp<span class=w> </span>rabbitmq-server:amqp
<a id=__codelineno-28-3 name=__codelineno-28-3 href=#__codelineno-28-3></a>juju<span class=w> </span>integrate<span class=w> </span>nova-cloud-controller:neutron-api<span class=w> </span>neutron-api:neutron-api
<a id=__codelineno-28-4 name=__codelineno-28-4 href=#__codelineno-28-4></a>juju<span class=w> </span>integrate<span class=w> </span>nova-cloud-controller:cloud-compute<span class=w> </span>nova-compute:cloud-compute
<a id=__codelineno-28-5 name=__codelineno-28-5 href=#__codelineno-28-5></a>juju<span class=w> </span>integrate<span class=w> </span>nova-cloud-controller:certificates<span class=w> </span>vault:certificates
</code></pre></div> <h3 id=11-placement>11. Placement<a class=headerlink href=#11-placement title="Permanent link">&para;</a></h3> <p>The placement application will be containerised on machine 2 with the <a href=https://charmhub.io/placement target=_blank>placement</a> charm. To deploy:</p> <div class="copyable numberLines highlight"><pre><span></span><code><a id=__codelineno-29-1 name=__codelineno-29-1 href=#__codelineno-29-1></a>juju<span class=w> </span>deploy<span class=w> </span>--to<span class=w> </span>lxd:2<span class=w> </span>--channel<span class=w> </span>yoga/stable<span class=w> </span>placement
</code></pre></div> <p>Join placement to the cloud database:</p> <div class="copyable numberLines highlight"><pre><span></span><code><a id=__codelineno-30-1 name=__codelineno-30-1 href=#__codelineno-30-1></a>juju<span class=w> </span>deploy<span class=w> </span>--channel<span class=w> </span><span class=m>8</span>.0/stable<span class=w> </span>mysql-router<span class=w> </span>placement-mysql-router
<a id=__codelineno-30-2 name=__codelineno-30-2 href=#__codelineno-30-2></a>juju<span class=w> </span>integrate<span class=w> </span>placement-mysql-router:db-router<span class=w> </span>mysql-innodb-cluster:db-router
<a id=__codelineno-30-3 name=__codelineno-30-3 href=#__codelineno-30-3></a>juju<span class=w> </span>integrate<span class=w> </span>placement-mysql-router:shared-db<span class=w> </span>placement:shared-db
</code></pre></div> <p>Three additional relations can be added at this time:</p> <div class="copyable numberLines highlight"><pre><span></span><code><a id=__codelineno-31-1 name=__codelineno-31-1 href=#__codelineno-31-1></a>juju<span class=w> </span>integrate<span class=w> </span>placement:identity-service<span class=w> </span>keystone:identity-service
<a id=__codelineno-31-2 name=__codelineno-31-2 href=#__codelineno-31-2></a>juju<span class=w> </span>integrate<span class=w> </span>placement:placement<span class=w> </span>nova-cloud-controller:placement
<a id=__codelineno-31-3 name=__codelineno-31-3 href=#__codelineno-31-3></a>juju<span class=w> </span>integrate<span class=w> </span>placement:certificates<span class=w> </span>vault:certificates
</code></pre></div> <h3 id=12-horizon-openstack-dashboard>12. Horizon - OpenStack Dashboard<a class=headerlink href=#12-horizon-openstack-dashboard title="Permanent link">&para;</a></h3> <p>The openstack-dashboard application (Horizon) will be containerised on machine 2 with the <a href=https://charmhub.io/openstack-dashboard target=_blank>openstack-dashboard</a> charm. To deploy:</p> <div class="copyable numberLines highlight"><pre><span></span><code><a id=__codelineno-32-1 name=__codelineno-32-1 href=#__codelineno-32-1></a>juju<span class=w> </span>deploy<span class=w> </span>--to<span class=w> </span>lxd:2<span class=w> </span>--channel<span class=w> </span>yoga/stable<span class=w> </span>openstack-dashboard
</code></pre></div> <p>Join openstack-dashboard to the cloud database:</p> <div class="copyable numberLines highlight"><pre><span></span><code><a id=__codelineno-33-1 name=__codelineno-33-1 href=#__codelineno-33-1></a>juju<span class=w> </span>deploy<span class=w> </span>--channel<span class=w> </span><span class=m>8</span>.0/stable<span class=w> </span>mysql-router<span class=w> </span>dashboard-mysql-router
<a id=__codelineno-33-2 name=__codelineno-33-2 href=#__codelineno-33-2></a>juju<span class=w> </span>integrate<span class=w> </span>dashboard-mysql-router:db-router<span class=w> </span>mysql-innodb-cluster:db-router
<a id=__codelineno-33-3 name=__codelineno-33-3 href=#__codelineno-33-3></a>juju<span class=w> </span>integrate<span class=w> </span>dashboard-mysql-router:shared-db<span class=w> </span>openstack-dashboard:shared-db
</code></pre></div> <div class="admonition quote"> <p class=admonition-title>Note</p> <p>To keep <strong>juju status</strong> output compact the expected <strong>openstack-dashboard-mysql-router</strong> application name has been shortened to <strong>dashboard-mysql-router</strong>.</p> </div> <p>Two additional relations can be added at this time:</p> <div class="copyable numberLines highlight"><pre><span></span><code><a id=__codelineno-34-1 name=__codelineno-34-1 href=#__codelineno-34-1></a>juju<span class=w> </span>integrate<span class=w> </span>openstack-dashboard:identity-service<span class=w> </span>keystone:identity-service
<a id=__codelineno-34-2 name=__codelineno-34-2 href=#__codelineno-34-2></a>juju<span class=w> </span>integrate<span class=w> </span>openstack-dashboard:certificates<span class=w> </span>vault:certificates
</code></pre></div> <h3 id=13-glance>13. Glance<a class=headerlink href=#13-glance title="Permanent link">&para;</a></h3> <p>The glance application will be containerised on machine 2 with the <a href=https://charmhub.io/glance target=_blank>glance</a> charm. To deploy:</p> <div class="copyable numberLines highlight"><pre><span></span><code><a id=__codelineno-35-1 name=__codelineno-35-1 href=#__codelineno-35-1></a>juju<span class=w> </span>deploy<span class=w> </span>--to<span class=w> </span>lxd:2<span class=w> </span>--channel<span class=w> </span>yoga/stable<span class=w> </span>glance
</code></pre></div> <p>Join glance to the cloud database:</p> <div class="copyable numberLines highlight"><pre><span></span><code><a id=__codelineno-36-1 name=__codelineno-36-1 href=#__codelineno-36-1></a>juju<span class=w> </span>deploy<span class=w> </span>--channel<span class=w> </span><span class=m>8</span>.0/stable<span class=w> </span>mysql-router<span class=w> </span>glance-mysql-router
<a id=__codelineno-36-2 name=__codelineno-36-2 href=#__codelineno-36-2></a>juju<span class=w> </span>integrate<span class=w> </span>glance-mysql-router:db-router<span class=w> </span>mysql-innodb-cluster:db-router
<a id=__codelineno-36-3 name=__codelineno-36-3 href=#__codelineno-36-3></a>juju<span class=w> </span>integrate<span class=w> </span>glance-mysql-router:shared-db<span class=w> </span>glance:shared-db
</code></pre></div> <p>Four additional relations can be added at this time:</p> <div class="copyable numberLines highlight"><pre><span></span><code><a id=__codelineno-37-1 name=__codelineno-37-1 href=#__codelineno-37-1></a>juju<span class=w> </span>integrate<span class=w> </span>glance:image-service<span class=w> </span>nova-cloud-controller:image-service
<a id=__codelineno-37-2 name=__codelineno-37-2 href=#__codelineno-37-2></a>juju<span class=w> </span>integrate<span class=w> </span>glance:image-service<span class=w> </span>nova-compute:image-service
<a id=__codelineno-37-3 name=__codelineno-37-3 href=#__codelineno-37-3></a>juju<span class=w> </span>integrate<span class=w> </span>glance:identity-service<span class=w> </span>keystone:identity-service
<a id=__codelineno-37-4 name=__codelineno-37-4 href=#__codelineno-37-4></a>juju<span class=w> </span>integrate<span class=w> </span>glance:certificates<span class=w> </span>vault:certificates
</code></pre></div> <hr> <p>At this time the Unit section output to command <strong>juju status</strong> should look similar to this:</p> <p><img alt src=../../assets/screenshots/roteiro3.openstack.check3.png></p> <hr> <h3 id=14-ceph-monitor>14. Ceph Monitor<a class=headerlink href=#14-ceph-monitor title="Permanent link">&para;</a></h3> <p>The ceph-mon application will be containerised on machines 0, 1, and 2 with the <a href=https://charmhub.io/ceph-mon target=_blank>ceph-mon</a> charm. File <strong>ceph-mon.yaml</strong> contains the configuration:</p> <div class="copyable numberLines highlight"><span class=filename>ceph-mon.yaml</span><pre><span></span><code><a id=__codelineno-38-1 name=__codelineno-38-1 href=#__codelineno-38-1></a><span class=nt>ceph-mon</span><span class=p>:</span>
<a id=__codelineno-38-2 name=__codelineno-38-2 href=#__codelineno-38-2></a><span class=w>  </span><span class=nt>expected-osd-count</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">3</span>
<a id=__codelineno-38-3 name=__codelineno-38-3 href=#__codelineno-38-3></a><span class=w>  </span><span class=nt>monitor-count</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">3</span>
</code></pre></div> <p>The above informs the MON cluster that it is comprised of three nodes and that it should expect at least three OSDs (disks).</p> <p>To deploy:</p> <div class="copyable numberLines highlight"><pre><span></span><code><a id=__codelineno-39-1 name=__codelineno-39-1 href=#__codelineno-39-1></a>juju<span class=w> </span>deploy<span class=w> </span>-n<span class=w> </span><span class=m>3</span><span class=w> </span>--to<span class=w> </span>lxd:0,lxd:1,lxd:2<span class=w> </span>--channel<span class=w> </span>quincy/stable<span class=w> </span>--config<span class=w> </span>ceph-mon.yaml<span class=w> </span>ceph-mon
</code></pre></div> <p>Three relations can be added at this time:</p> <div class="copyable numberLines highlight"><pre><span></span><code><a id=__codelineno-40-1 name=__codelineno-40-1 href=#__codelineno-40-1></a>juju<span class=w> </span>integrate<span class=w> </span>ceph-mon:osd<span class=w> </span>ceph-osd:mon
<a id=__codelineno-40-2 name=__codelineno-40-2 href=#__codelineno-40-2></a>juju<span class=w> </span>integrate<span class=w> </span>ceph-mon:client<span class=w> </span>nova-compute:ceph
<a id=__codelineno-40-3 name=__codelineno-40-3 href=#__codelineno-40-3></a>juju<span class=w> </span>integrate<span class=w> </span>ceph-mon:client<span class=w> </span>glance:ceph
</code></pre></div> <p>For the above relations,</p> <ul> <li> <p>The <strong>nova-compute:ceph</strong> relation makes Ceph the storage backend for Nova non-bootable disk images. The nova-compute charm option <strong>libvirt-image-backend</strong> must be set to ‘rbd’ for this to take effect.</p> </li> <li> <p>The <strong>glance:ceph</strong> relation makes Ceph the storage backend for Glance.</p> </li> </ul> <h3 id=15-cinder>15. Cinder<a class=headerlink href=#15-cinder title="Permanent link">&para;</a></h3> <p>The cinder application will be containerised on machine 1 with the <a href=https://charmhub.io/cinder target=_blank>cinder</a> charm. File <strong>cinder.yaml</strong> contains the configuration:</p> <div class="copyable numberLines highlight"><span class=filename>cinder.yaml</span><pre><span></span><code><a id=__codelineno-41-1 name=__codelineno-41-1 href=#__codelineno-41-1></a><span class=nt>cinder</span><span class=p>:</span>
<a id=__codelineno-41-2 name=__codelineno-41-2 href=#__codelineno-41-2></a><span class=w>  </span><span class=nt>block-device</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">None</span>
<a id=__codelineno-41-3 name=__codelineno-41-3 href=#__codelineno-41-3></a><span class=w>  </span><span class=nt>glance-api-version</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
</code></pre></div> <p>The <strong>block-device</strong> setting is set to ‘None’ to indicate that the charm should not manage block devices. The <strong>glance-api-version</strong> setting is set to ‘2’ to indicate that the Glance API version 2 should be used.</p> <p>To deploy:</p> <div class="copyable numberLines highlight"><pre><span></span><code><a id=__codelineno-42-1 name=__codelineno-42-1 href=#__codelineno-42-1></a>juju<span class=w> </span>deploy<span class=w> </span>--to<span class=w> </span>lxd:1<span class=w> </span>--channel<span class=w> </span>yoga/stable<span class=w> </span>--config<span class=w> </span>cinder.yaml<span class=w> </span>cinder
</code></pre></div> <p>Join cinder to the cloud database:</p> <div class="copyable numberLines highlight"><pre><span></span><code><a id=__codelineno-43-1 name=__codelineno-43-1 href=#__codelineno-43-1></a>juju<span class=w> </span>deploy<span class=w> </span>--channel<span class=w> </span><span class=m>8</span>.0/stable<span class=w> </span>mysql-router<span class=w> </span>cinder-mysql-router
<a id=__codelineno-43-2 name=__codelineno-43-2 href=#__codelineno-43-2></a>juju<span class=w> </span>integrate<span class=w> </span>cinder-mysql-router:db-router<span class=w> </span>mysql-innodb-cluster:db-router
<a id=__codelineno-43-3 name=__codelineno-43-3 href=#__codelineno-43-3></a>juju<span class=w> </span>integrate<span class=w> </span>cinder-mysql-router:shared-db<span class=w> </span>cinder:shared-db
</code></pre></div> <p>Five additional relations can be added at this time:</p> <div class="copyable numberLines highlight"><pre><span></span><code><a id=__codelineno-44-1 name=__codelineno-44-1 href=#__codelineno-44-1></a>juju<span class=w> </span>integrate<span class=w> </span>cinder:cinder-volume-service<span class=w> </span>nova-cloud-controller:cinder-volume-service
<a id=__codelineno-44-2 name=__codelineno-44-2 href=#__codelineno-44-2></a>juju<span class=w> </span>integrate<span class=w> </span>cinder:identity-service<span class=w> </span>keystone:identity-service
<a id=__codelineno-44-3 name=__codelineno-44-3 href=#__codelineno-44-3></a>juju<span class=w> </span>integrate<span class=w> </span>cinder:amqp<span class=w> </span>rabbitmq-server:amqp
<a id=__codelineno-44-4 name=__codelineno-44-4 href=#__codelineno-44-4></a>juju<span class=w> </span>integrate<span class=w> </span>cinder:image-service<span class=w> </span>glance:image-service
<a id=__codelineno-44-5 name=__codelineno-44-5 href=#__codelineno-44-5></a>juju<span class=w> </span>integrate<span class=w> </span>cinder:certificates<span class=w> </span>vault:certificates
</code></pre></div> <p>The above <strong>glance:image-service</strong> relation will enable Cinder to consume the Glance API (e.g. making Cinder able to perform volume snapshots of Glance images).</p> <p>Like Glance, Cinder will use Ceph as its storage backend (hence <strong>block-device: None</strong> in the configuration file). This will be implemented via the <a href=https://charmhub.io/cinder-ceph target=_blank>cinder-ceph</a> subordinate charm:</p> <div class="copyable numberLines highlight"><pre><span></span><code><a id=__codelineno-45-1 name=__codelineno-45-1 href=#__codelineno-45-1></a>juju<span class=w> </span>deploy<span class=w> </span>--channel<span class=w> </span>yoga/stable<span class=w> </span>cinder-ceph
</code></pre></div> <p>Three relations can be added at this time:</p> <div class="copyable numberLines highlight"><pre><span></span><code><a id=__codelineno-46-1 name=__codelineno-46-1 href=#__codelineno-46-1></a>juju<span class=w> </span>integrate<span class=w> </span>cinder-ceph:storage-backend<span class=w> </span>cinder:storage-backend
<a id=__codelineno-46-2 name=__codelineno-46-2 href=#__codelineno-46-2></a>juju<span class=w> </span>integrate<span class=w> </span>cinder-ceph:ceph<span class=w> </span>ceph-mon:client
<a id=__codelineno-46-3 name=__codelineno-46-3 href=#__codelineno-46-3></a>juju<span class=w> </span>integrate<span class=w> </span>cinder-ceph:ceph-access<span class=w> </span>nova-compute:ceph-access
</code></pre></div> <h3 id=16-ceph-rados-gateway>16. Ceph RADOS Gateway<a class=headerlink href=#16-ceph-rados-gateway title="Permanent link">&para;</a></h3> <p>The Ceph RADOS Gateway will be deployed to offer an S3 and Swift compatible HTTP gateway. This is an alternative to using OpenStack Swift.</p> <p>The ceph-radosgw application will be containerised on machine 0 with the <a href=https://charmhub.io/ceph-radosgw target=_blank>ceph-radosgw</a> charm. To deploy:</p> <div class="copyable numberLines highlight"><pre><span></span><code><a id=__codelineno-47-1 name=__codelineno-47-1 href=#__codelineno-47-1></a>juju<span class=w> </span>deploy<span class=w> </span>--to<span class=w> </span>lxd:0<span class=w> </span>--channel<span class=w> </span>quincy/stable<span class=w> </span>ceph-radosgw
</code></pre></div> <p>A single relation is required:</p> <div class="copyable numberLines highlight"><pre><span></span><code><a id=__codelineno-48-1 name=__codelineno-48-1 href=#__codelineno-48-1></a>juju<span class=w> </span>integrate<span class=w> </span>ceph-radosgw:mon<span class=w> </span>ceph-mon:radosgw
</code></pre></div> <h3 id=17-ceph-osd-integration>17. Ceph-OSD Integration<a class=headerlink href=#17-ceph-osd-integration title="Permanent link">&para;</a></h3> <p>Documentação: <a href=https://charmhub.io/ceph-osd>https://charmhub.io/ceph-osd</a></p> <div class="admonition warning"> <p class=admonition-title>Atenção</p> <p><strong>Execute o comando abaixo apenas se você estiver certeza de que todos os procedimentos anteriores foram realizados com sucesso.</strong></p> <div class=highlight><pre><span></span><code><a id=__codelineno-49-1 name=__codelineno-49-1 href=#__codelineno-49-1></a>juju<span class=w> </span>config<span class=w> </span>ceph-osd<span class=w> </span>osd-devices<span class=o>=</span><span class=s1>&#39;/dev/sdb&#39;</span>
</code></pre></div> </div> <hr> <p>At this time the Unit section output to command <strong>juju status</strong> should look similar to this:</p> <p><img alt src=../../assets/screenshots/roteiro3.openstack.check4.png></p> <hr> <h2 id=resultados-finais-e-proximos-passos>Resultados finais e próximos passos<a class=headerlink href=#resultados-finais-e-proximos-passos title="Permanent link">&para;</a></h2> <p>Depois que todos os aplicativos foram implantados e as relações entre eles foram adicionadas, precisamos esperar a saída do status juju se estabilizar. Os resultados finais devem ser desprovidos de quaisquer mensagens de erro. Um exemplo de saída (incluindo relações) para uma implantação de nuvem bem-sucedida é fornecido (aqui)[<a href=https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/install-openstack-juju-status.html#install-openstack-juju-status>https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/install-openstack-juju-status.html#install-openstack-juju-status</a>].</p> <p>Você implantou o OpenStack com sucesso usando Juju e MAAS. O próximo passo é tornar a nuvem funcional para os usuários. Isso envolverá a configuração de redes, imagens e um ambiente de usuário.</p> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2022 - Tiago Demay </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/Insper/computacao-nuvem target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> <a href=https://www.linkedin.com/in/tiago-demay target=_blank rel=noopener title=www.linkedin.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77m282.1 320h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"annotate": null, "base": "../..", "features": ["content.code.annotate", "content.code.copy", "content.code.select", "content.tooltips", "navigation.indexes", "navigation.sections", "navigation.tabs", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../../assets/javascripts/bundle.79ae519e.min.js></script> <script src=https://cdnjs.cloudflare.com/ajax/libs/js-yaml/4.0.0/js-yaml.min.js></script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script> <script src=https://cdn.jsdelivr.net/gh/insper-education/active-handout-plugins-js@main/package/plugin-bundle.js></script> </body> </html>